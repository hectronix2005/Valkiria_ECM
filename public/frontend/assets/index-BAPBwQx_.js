(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();function d0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var eu={exports:{}},Nr={};var ap;function Vv(){if(ap)return Nr;ap=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(c,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var h in u)h!=="key"&&(f[h]=u[h])}else f=u;return u=f.ref,{$$typeof:s,type:c,key:m,ref:u!==void 0?u:null,props:f}}return Nr.Fragment=r,Nr.jsx=i,Nr.jsxs=i,Nr}var sp;function $v(){return sp||(sp=1,eu.exports=Vv()),eu.exports}var e=$v(),tu={exports:{}},we={};var lp;function Gv(){if(lp)return we;lp=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),C=Symbol.iterator;function E(v){return v===null||typeof v!="object"?null:(v=C&&v[C]||v["@@iterator"],typeof v=="function"?v:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function w(v,D,ne){this.props=v,this.context=D,this.refs=S,this.updater=ne||N}w.prototype.isReactComponent={},w.prototype.setState=function(v,D){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,D,"setState")},w.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function k(){}k.prototype=w.prototype;function O(v,D,ne){this.props=v,this.context=D,this.refs=S,this.updater=ne||N}var H=O.prototype=new k;H.constructor=O,T(H,w.prototype),H.isPureReactComponent=!0;var Q=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function ie(v,D,ne){var X=ne.ref;return{$$typeof:s,type:v,key:D,ref:X!==void 0?X:null,props:ne}}function $(v,D){return ie(v.type,D,v.props)}function q(v){return typeof v=="object"&&v!==null&&v.$$typeof===s}function U(v){var D={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(ne){return D[ne]})}var fe=/\/+/g;function te(v,D){return typeof v=="object"&&v!==null&&v.key!=null?U(""+v.key):D.toString(36)}function re(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(z,z):(v.status="pending",v.then(function(D){v.status==="pending"&&(v.status="fulfilled",v.value=D)},function(D){v.status==="pending"&&(v.status="rejected",v.reason=D)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function M(v,D,ne,X,G){var he=typeof v;(he==="undefined"||he==="boolean")&&(v=null);var je=!1;if(v===null)je=!0;else switch(he){case"bigint":case"string":case"number":je=!0;break;case"object":switch(v.$$typeof){case s:case r:je=!0;break;case p:return je=v._init,M(je(v._payload),D,ne,X,G)}}if(je)return G=G(v),je=X===""?"."+te(v,0):X,Q(G)?(ne="",je!=null&&(ne=je.replace(fe,"$&/")+"/"),M(G,D,ne,"",function(Va){return Va})):G!=null&&(q(G)&&(G=$(G,ne+(G.key==null||v&&v.key===G.key?"":(""+G.key).replace(fe,"$&/")+"/")+je)),D.push(G)),1;je=0;var Le=X===""?".":X+":";if(Q(v))for(var Fe=0;Fe<v.length;Fe++)X=v[Fe],he=Le+te(X,Fe),je+=M(X,D,ne,he,G);else if(Fe=E(v),typeof Fe=="function")for(v=Fe.call(v),Fe=0;!(X=v.next()).done;)X=X.value,he=Le+te(X,Fe++),je+=M(X,D,ne,he,G);else if(he==="object"){if(typeof v.then=="function")return M(re(v),D,ne,X,G);throw D=String(v),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return je}function ae(v,D,ne){if(v==null)return v;var X=[],G=0;return M(v,X,"","",function(he){return D.call(ne,he,G++)}),X}function Z(v){if(v._status===-1){var D=v._result;D=D(),D.then(function(ne){(v._status===0||v._status===-1)&&(v._status=1,v._result=ne)},function(ne){(v._status===0||v._status===-1)&&(v._status=2,v._result=ne)}),v._status===-1&&(v._status=0,v._result=D)}if(v._status===1)return v._result.default;throw v._result}var ce=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},xe={map:ae,forEach:function(v,D,ne){ae(v,function(){D.apply(this,arguments)},ne)},count:function(v){var D=0;return ae(v,function(){D++}),D},toArray:function(v){return ae(v,function(D){return D})||[]},only:function(v){if(!q(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return we.Activity=j,we.Children=xe,we.Component=w,we.Fragment=i,we.Profiler=u,we.PureComponent=O,we.StrictMode=c,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,we.__COMPILER_RUNTIME={__proto__:null,c:function(v){return P.H.useMemoCache(v)}},we.cache=function(v){return function(){return v.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(v,D,ne){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var X=T({},v.props),G=v.key;if(D!=null)for(he in D.key!==void 0&&(G=""+D.key),D)!W.call(D,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&D.ref===void 0||(X[he]=D[he]);var he=arguments.length-2;if(he===1)X.children=ne;else if(1<he){for(var je=Array(he),Le=0;Le<he;Le++)je[Le]=arguments[Le+2];X.children=je}return ie(v.type,G,X)},we.createContext=function(v){return v={$$typeof:m,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:f,_context:v},v},we.createElement=function(v,D,ne){var X,G={},he=null;if(D!=null)for(X in D.key!==void 0&&(he=""+D.key),D)W.call(D,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(G[X]=D[X]);var je=arguments.length-2;if(je===1)G.children=ne;else if(1<je){for(var Le=Array(je),Fe=0;Fe<je;Fe++)Le[Fe]=arguments[Fe+2];G.children=Le}if(v&&v.defaultProps)for(X in je=v.defaultProps,je)G[X]===void 0&&(G[X]=je[X]);return ie(v,he,G)},we.createRef=function(){return{current:null}},we.forwardRef=function(v){return{$$typeof:h,render:v}},we.isValidElement=q,we.lazy=function(v){return{$$typeof:p,_payload:{_status:-1,_result:v},_init:Z}},we.memo=function(v,D){return{$$typeof:x,type:v,compare:D===void 0?null:D}},we.startTransition=function(v){var D=P.T,ne={};P.T=ne;try{var X=v(),G=P.S;G!==null&&G(ne,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(z,ce)}catch(he){ce(he)}finally{D!==null&&ne.types!==null&&(D.types=ne.types),P.T=D}},we.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},we.use=function(v){return P.H.use(v)},we.useActionState=function(v,D,ne){return P.H.useActionState(v,D,ne)},we.useCallback=function(v,D){return P.H.useCallback(v,D)},we.useContext=function(v){return P.H.useContext(v)},we.useDebugValue=function(){},we.useDeferredValue=function(v,D){return P.H.useDeferredValue(v,D)},we.useEffect=function(v,D){return P.H.useEffect(v,D)},we.useEffectEvent=function(v){return P.H.useEffectEvent(v)},we.useId=function(){return P.H.useId()},we.useImperativeHandle=function(v,D,ne){return P.H.useImperativeHandle(v,D,ne)},we.useInsertionEffect=function(v,D){return P.H.useInsertionEffect(v,D)},we.useLayoutEffect=function(v,D){return P.H.useLayoutEffect(v,D)},we.useMemo=function(v,D){return P.H.useMemo(v,D)},we.useOptimistic=function(v,D){return P.H.useOptimistic(v,D)},we.useReducer=function(v,D,ne){return P.H.useReducer(v,D,ne)},we.useRef=function(v){return P.H.useRef(v)},we.useState=function(v){return P.H.useState(v)},we.useSyncExternalStore=function(v,D,ne){return P.H.useSyncExternalStore(v,D,ne)},we.useTransition=function(){return P.H.useTransition()},we.version="19.2.3",we}var np;function Au(){return np||(np=1,tu.exports=Gv()),tu.exports}var b=Au();const Yv=d0(b);var au={exports:{}},_r={},su={exports:{}},lu={};var rp;function Xv(){return rp||(rp=1,(function(s){function r(M,ae){var Z=M.length;M.push(ae);e:for(;0<Z;){var ce=Z-1>>>1,xe=M[ce];if(0<u(xe,ae))M[ce]=ae,M[Z]=xe,Z=ce;else break e}}function i(M){return M.length===0?null:M[0]}function c(M){if(M.length===0)return null;var ae=M[0],Z=M.pop();if(Z!==ae){M[0]=Z;e:for(var ce=0,xe=M.length,v=xe>>>1;ce<v;){var D=2*(ce+1)-1,ne=M[D],X=D+1,G=M[X];if(0>u(ne,Z))X<xe&&0>u(G,ne)?(M[ce]=G,M[X]=Z,ce=X):(M[ce]=ne,M[D]=Z,ce=D);else if(X<xe&&0>u(G,Z))M[ce]=G,M[X]=Z,ce=X;else break e}}return ae}function u(M,ae){var Z=M.sortIndex-ae.sortIndex;return Z!==0?Z:M.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();s.unstable_now=function(){return m.now()-h}}var y=[],x=[],p=1,j=null,C=3,E=!1,N=!1,T=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function H(M){for(var ae=i(x);ae!==null;){if(ae.callback===null)c(x);else if(ae.startTime<=M)c(x),ae.sortIndex=ae.expirationTime,r(y,ae);else break;ae=i(x)}}function Q(M){if(T=!1,H(M),!N)if(i(y)!==null)N=!0,z||(z=!0,U());else{var ae=i(x);ae!==null&&re(Q,ae.startTime-M)}}var z=!1,P=-1,W=5,ie=-1;function $(){return S?!0:!(s.unstable_now()-ie<W)}function q(){if(S=!1,z){var M=s.unstable_now();ie=M;var ae=!0;try{e:{N=!1,T&&(T=!1,k(P),P=-1),E=!0;var Z=C;try{t:{for(H(M),j=i(y);j!==null&&!(j.expirationTime>M&&$());){var ce=j.callback;if(typeof ce=="function"){j.callback=null,C=j.priorityLevel;var xe=ce(j.expirationTime<=M);if(M=s.unstable_now(),typeof xe=="function"){j.callback=xe,H(M),ae=!0;break t}j===i(y)&&c(y),H(M)}else c(y);j=i(y)}if(j!==null)ae=!0;else{var v=i(x);v!==null&&re(Q,v.startTime-M),ae=!1}}break e}finally{j=null,C=Z,E=!1}ae=void 0}}finally{ae?U():z=!1}}}var U;if(typeof O=="function")U=function(){O(q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,te=fe.port2;fe.port1.onmessage=q,U=function(){te.postMessage(null)}}else U=function(){w(q,0)};function re(M,ae){P=w(function(){M(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(M){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var Z=C;C=ae;try{return M()}finally{C=Z}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(M,ae){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=C;C=M;try{return ae()}finally{C=Z}},s.unstable_scheduleCallback=function(M,ae,Z){var ce=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,M){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Z+xe,M={id:p++,callback:ae,priorityLevel:M,startTime:Z,expirationTime:xe,sortIndex:-1},Z>ce?(M.sortIndex=Z,r(x,M),i(y)===null&&M===i(x)&&(T?(k(P),P=-1):T=!0,re(Q,Z-ce))):(M.sortIndex=xe,r(y,M),N||E||(N=!0,z||(z=!0,U()))),M},s.unstable_shouldYield=$,s.unstable_wrapCallback=function(M){var ae=C;return function(){var Z=C;C=ae;try{return M.apply(this,arguments)}finally{C=Z}}}})(lu)),lu}var ip;function Kv(){return ip||(ip=1,su.exports=Xv()),su.exports}var nu={exports:{}},Mt={};var cp;function Zv(){if(cp)return Mt;cp=1;var s=Au();function r(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)x+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var c={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,x,p){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:j==null?null:""+j,children:y,containerInfo:x,implementation:p}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Mt.createPortal=function(y,x){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return f(y,x,null,p)},Mt.flushSync=function(y){var x=m.T,p=c.p;try{if(m.T=null,c.p=2,y)return y()}finally{m.T=x,c.p=p,c.d.f()}},Mt.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(y,x))},Mt.prefetchDNS=function(y){typeof y=="string"&&c.d.D(y)},Mt.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var p=x.as,j=h(p,x.crossOrigin),C=typeof x.integrity=="string"?x.integrity:void 0,E=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;p==="style"?c.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:j,integrity:C,fetchPriority:E}):p==="script"&&c.d.X(y,{crossOrigin:j,integrity:C,fetchPriority:E,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Mt.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var p=h(x.as,x.crossOrigin);c.d.M(y,{crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(y)},Mt.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var p=x.as,j=h(p,x.crossOrigin);c.d.L(y,p,{crossOrigin:j,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Mt.preloadModule=function(y,x){if(typeof y=="string")if(x){var p=h(x.as,x.crossOrigin);c.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(y)},Mt.requestFormReset=function(y){c.d.r(y)},Mt.unstable_batchedUpdates=function(y,x){return y(x)},Mt.useFormState=function(y,x,p){return m.H.useFormState(y,x,p)},Mt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Mt.version="19.2.3",Mt}var op;function Jv(){if(op)return nu.exports;op=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),nu.exports=Zv(),nu.exports}var dp;function Pv(){if(dp)return _r;dp=1;var s=Kv(),r=Au(),i=Jv();function c(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var a=t,l=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(l=a.return),t=a.return;while(t)}return a.tag===3?l:null}function m(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function h(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(c(188))}function x(t){var a=t.alternate;if(!a){if(a=f(t),a===null)throw Error(c(188));return a!==t?null:t}for(var l=t,n=a;;){var o=l.return;if(o===null)break;var d=o.alternate;if(d===null){if(n=o.return,n!==null){l=n;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===l)return y(o),t;if(d===n)return y(o),a;d=d.sibling}throw Error(c(188))}if(l.return!==n.return)l=o,n=d;else{for(var g=!1,_=o.child;_;){if(_===l){g=!0,l=o,n=d;break}if(_===n){g=!0,n=o,l=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===l){g=!0,l=d,n=o;break}if(_===n){g=!0,n=d,l=o;break}_=_.sibling}if(!g)throw Error(c(189))}}if(l.alternate!==n)throw Error(c(190))}if(l.tag!==3)throw Error(c(188));return l.stateNode.current===l?t:a}function p(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=p(t),a!==null)return a;t=t.sibling}return null}var j=Object.assign,C=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),O=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===fe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case Q:return"Suspense";case z:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case O:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case H:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return a=t.displayName||null,a!==null?a:te(t.type)||"Memo";case W:a=t._payload,t=t._init;try{return te(t(a))}catch{}}return null}var re=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],xe=-1;function v(t){return{current:t}}function D(t){0>xe||(t.current=ce[xe],ce[xe]=null,xe--)}function ne(t,a){xe++,ce[xe]=t.current,t.current=a}var X=v(null),G=v(null),he=v(null),je=v(null);function Le(t,a){switch(ne(he,a),ne(G,t),ne(X,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Sx(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Sx(a),t=Cx(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}D(X),ne(X,t)}function Fe(){D(X),D(G),D(he)}function Va(t){t.memoizedState!==null&&ne(je,t);var a=X.current,l=Cx(a,t.type);a!==l&&(ne(G,t),ne(X,l))}function Bs(t){G.current===t&&(D(X),D(G)),je.current===t&&(D(je),yr._currentValue=Z)}var Qs,jl;function oe(t){if(Qs===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Qs=a&&a[1]||"",jl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+t+jl}var Aa=!1;function Tn(t,a){if(!t||Aa)return"";Aa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Y=J}Reflect.construct(t,[],le)}else{try{le.call()}catch(J){Y=J}t.call(le.prototype)}}else{try{throw Error()}catch(J){Y=J}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var A=g.split(`
`),V=_.split(`
`);for(o=n=0;n<A.length&&!A[n].includes("DetermineComponentFrameRoot");)n++;for(;o<V.length&&!V[o].includes("DetermineComponentFrameRoot");)o++;if(n===A.length||o===V.length)for(n=A.length-1,o=V.length-1;1<=n&&0<=o&&A[n]!==V[o];)o--;for(;1<=n&&0<=o;n--,o--)if(A[n]!==V[o]){if(n!==1||o!==1)do if(n--,o--,0>o||A[n]!==V[o]){var I=`
`+A[n].replace(" at new "," at ");return t.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",t.displayName)),I}while(1<=n&&0<=o);break}}}finally{Aa=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?oe(l):""}function Lc(t,a){switch(t.tag){case 26:case 27:case 5:return oe(t.type);case 16:return oe("Lazy");case 13:return t.child!==a&&a!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return Tn(t.type,!1);case 11:return Tn(t.type.render,!1);case 1:return Tn(t.type,!0);case 31:return oe("Activity");default:return""}}function Ur(t){try{var a="",l=null;do a+=Lc(t,l),l=t,t=t.return;while(t);return a}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Nl=Object.prototype.hasOwnProperty,Mn=s.unstable_scheduleCallback,_l=s.unstable_cancelCallback,Uc=s.unstable_shouldYield,Hc=s.unstable_requestPaint,kt=s.unstable_now,Fc=s.unstable_getCurrentPriorityLevel,Hr=s.unstable_ImmediatePriority,Vs=s.unstable_UserBlockingPriority,me=s.unstable_NormalPriority,ut=s.unstable_LowPriority,aa=s.unstable_IdlePriority,ga=s.log,Cg=s.unstable_setDisableYieldValue,An=null,Xt=null;function us(t){if(typeof ga=="function"&&Cg(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(An,t)}catch{}}var Kt=Math.clz32?Math.clz32:Mg,Eg=Math.log,Tg=Math.LN2;function Mg(t){return t>>>=0,t===0?32:31-(Eg(t)/Tg|0)|0}var Fr=256,Br=262144,Qr=4194304;function $s(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vr(t,a,l){var n=t.pendingLanes;if(n===0)return 0;var o=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=n&134217727;return _!==0?(n=_&~d,n!==0?o=$s(n):(g&=_,g!==0?o=$s(g):l||(l=_&~t,l!==0&&(o=$s(l))))):(_=n&~d,_!==0?o=$s(_):g!==0?o=$s(g):l||(l=n&~t,l!==0&&(o=$s(l)))),o===0?0:a!==0&&a!==o&&(a&d)===0&&(d=o&-o,l=a&-a,d>=l||d===32&&(l&4194048)!==0)?a:o}function Dn(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Ag(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(){var t=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),t}function Bc(t){for(var a=[],l=0;31>l;l++)a.push(t);return a}function Rn(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dg(t,a,l,n,o,d){var g=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var _=t.entanglements,A=t.expirationTimes,V=t.hiddenUpdates;for(l=g&~l;0<l;){var I=31-Kt(l),le=1<<I;_[I]=0,A[I]=-1;var Y=V[I];if(Y!==null)for(V[I]=null,I=0;I<Y.length;I++){var J=Y[I];J!==null&&(J.lane&=-536870913)}l&=~le}n!==0&&rm(t,n,0),d!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~a))}function rm(t,a,l){t.pendingLanes|=a,t.suspendedLanes&=~a;var n=31-Kt(a);t.entangledLanes|=a,t.entanglements[n]=t.entanglements[n]|1073741824|l&261930}function im(t,a){var l=t.entangledLanes|=a;for(t=t.entanglements;l;){var n=31-Kt(l),o=1<<n;o&a|t[n]&a&&(t[n]|=a),l&=~o}}function cm(t,a){var l=a&-a;return l=(l&42)!==0?1:Qc(l),(l&(t.suspendedLanes|a))!==0?0:l}function Qc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function om(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Zx(t.type))}function dm(t,a){var l=ae.p;try{return ae.p=t,a()}finally{ae.p=l}}var ms=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ms,Lt="__reactProps$"+ms,wl="__reactContainer$"+ms,$c="__reactEvents$"+ms,Rg="__reactListeners$"+ms,Og="__reactHandles$"+ms,um="__reactResources$"+ms,On="__reactMarker$"+ms;function Gc(t){delete t[Nt],delete t[Lt],delete t[$c],delete t[Rg],delete t[Og]}function Sl(t){var a=t[Nt];if(a)return a;for(var l=t.parentNode;l;){if(a=l[wl]||l[Nt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(t=Ox(t);t!==null;){if(l=t[Nt])return l;t=Ox(t)}return a}t=l,l=t.parentNode}return null}function Cl(t){if(t=t[Nt]||t[wl]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function kn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(c(33))}function El(t){var a=t[um];return a||(a=t[um]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function bt(t){t[On]=!0}var mm=new Set,hm={};function Gs(t,a){Tl(t,a),Tl(t+"Capture",a)}function Tl(t,a){for(hm[t]=a,t=0;t<a.length;t++)mm.add(a[t])}var kg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fm={},xm={};function zg(t){return Nl.call(xm,t)?!0:Nl.call(fm,t)?!1:kg.test(t)?xm[t]=!0:(fm[t]=!0,!1)}function $r(t,a,l){if(zg(a))if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+l)}}function Gr(t,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+l)}}function $a(t,a,l,n){if(n===null)t.removeAttribute(l);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(a,l,""+n)}}function sa(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pm(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qg(t,a,l){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,d=n.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return o.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,a,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Yc(t){if(!t._valueTracker){var a=pm(t)?"checked":"value";t._valueTracker=qg(t,a,""+t[a])}}function gm(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var l=a.getValue(),n="";return t&&(n=pm(t)?t.checked?"true":"false":t.value),t=n,t!==l?(a.setValue(t),!0):!1}function Yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lg=/[\n"\\]/g;function la(t){return t.replace(Lg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Xc(t,a,l,n,o,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),a!=null?g==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+sa(a)):t.value!==""+sa(a)&&(t.value=""+sa(a)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),a!=null?Kc(t,g,sa(a)):l!=null?Kc(t,g,sa(l)):n!=null&&t.removeAttribute("value"),o==null&&d!=null&&(t.defaultChecked=!!d),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+sa(_):t.removeAttribute("name")}function ym(t,a,l,n,o,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),a!=null||l!=null){if(!(d!=="submit"&&d!=="reset"||a!=null)){Yc(t);return}l=l!=null?""+sa(l):"",a=a!=null?""+sa(a):l,_||a===t.value||(t.value=a),t.defaultValue=a}n=n??o,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=_?t.checked:!!n,t.defaultChecked=!!n,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yc(t)}function Kc(t,a,l){a==="number"&&Yr(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Ml(t,a,l,n){if(t=t.options,a){a={};for(var o=0;o<l.length;o++)a["$"+l[o]]=!0;for(l=0;l<t.length;l++)o=a.hasOwnProperty("$"+t[l].value),t[l].selected!==o&&(t[l].selected=o),o&&n&&(t[l].defaultSelected=!0)}else{for(l=""+sa(l),a=null,o=0;o<t.length;o++){if(t[o].value===l){t[o].selected=!0,n&&(t[o].defaultSelected=!0);return}a!==null||t[o].disabled||(a=t[o])}a!==null&&(a.selected=!0)}}function vm(t,a,l){if(a!=null&&(a=""+sa(a),a!==t.value&&(t.value=a),l==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=l!=null?""+sa(l):""}function bm(t,a,l,n){if(a==null){if(n!=null){if(l!=null)throw Error(c(92));if(re(n)){if(1<n.length)throw Error(c(93));n=n[0]}l=n}l==null&&(l=""),a=l}l=sa(a),t.defaultValue=l,n=t.textContent,n===l&&n!==""&&n!==null&&(t.value=n),Yc(t)}function Al(t,a){if(a){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=a;return}}t.textContent=a}var Ug=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jm(t,a,l){var n=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?n?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":n?t.setProperty(a,l):typeof l!="number"||l===0||Ug.has(a)?a==="float"?t.cssFloat=l:t[a]=(""+l).trim():t[a]=l+"px"}function Nm(t,a,l){if(a!=null&&typeof a!="object")throw Error(c(62));if(t=t.style,l!=null){for(var n in l)!l.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var o in a)n=a[o],a.hasOwnProperty(o)&&l[o]!==n&&jm(t,o,n)}else for(var d in a)a.hasOwnProperty(d)&&jm(t,d,a[d])}function Zc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(t){return Fg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ga(){}var Jc=null;function Pc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dl=null,Rl=null;function _m(t){var a=Cl(t);if(a&&(t=a.stateNode)){var l=t[Lt]||null;e:switch(t=a.stateNode,a.type){case"input":if(Xc(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+la(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var n=l[a];if(n!==t&&n.form===t.form){var o=n[Lt]||null;if(!o)throw Error(c(90));Xc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(a=0;a<l.length;a++)n=l[a],n.form===t.form&&gm(n)}break e;case"textarea":vm(t,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ml(t,!!l.multiple,a,!1)}}}var Wc=!1;function wm(t,a,l){if(Wc)return t(a,l);Wc=!0;try{var n=t(a);return n}finally{if(Wc=!1,(Dl!==null||Rl!==null)&&(ki(),Dl&&(a=Dl,t=Rl,Rl=Dl=null,_m(a),t)))for(a=0;a<t.length;a++)_m(t[a])}}function zn(t,a){var l=t.stateNode;if(l===null)return null;var n=l[Lt]||null;if(n===null)return null;l=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(c(231,a,typeof l));return l}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ic=!1;if(Ya)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Ic=!1}var hs=null,eo=null,Kr=null;function Sm(){if(Kr)return Kr;var t,a=eo,l=a.length,n,o="value"in hs?hs.value:hs.textContent,d=o.length;for(t=0;t<l&&a[t]===o[t];t++);var g=l-t;for(n=1;n<=g&&a[l-n]===o[d-n];n++);return Kr=o.slice(t,1<n?1-n:void 0)}function Zr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Jr(){return!0}function Cm(){return!1}function Ut(t){function a(l,n,o,d,g){this._reactName=l,this._targetInst=o,this.type=n,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(l=t[_],this[_]=l?l(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jr:Cm,this.isPropagationStopped=Cm,this}return j(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),a}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pr=Ut(Ys),Ln=j({},Ys,{view:0,detail:0}),Bg=Ut(Ln),to,ao,Un,Wr=j({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Un&&(Un&&t.type==="mousemove"?(to=t.screenX-Un.screenX,ao=t.screenY-Un.screenY):ao=to=0,Un=t),to)},movementY:function(t){return"movementY"in t?t.movementY:ao}}),Em=Ut(Wr),Qg=j({},Wr,{dataTransfer:0}),Vg=Ut(Qg),$g=j({},Ln,{relatedTarget:0}),so=Ut($g),Gg=j({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Yg=Ut(Gg),Xg=j({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kg=Ut(Xg),Zg=j({},Ys,{data:0}),Tm=Ut(Zg),Jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ig(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Wg[t])?!!a[t]:!1}function lo(){return Ig}var ey=j({},Ln,{key:function(t){if(t.key){var a=Jg[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(t){return t.type==="keypress"?Zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ty=Ut(ey),ay=j({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mm=Ut(ay),sy=j({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),ly=Ut(sy),ny=j({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),ry=Ut(ny),iy=j({},Wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cy=Ut(iy),oy=j({},Ys,{newState:0,oldState:0}),dy=Ut(oy),uy=[9,13,27,32],no=Ya&&"CompositionEvent"in window,Hn=null;Ya&&"documentMode"in document&&(Hn=document.documentMode);var my=Ya&&"TextEvent"in window&&!Hn,Am=Ya&&(!no||Hn&&8<Hn&&11>=Hn),Dm=" ",Rm=!1;function Om(t,a){switch(t){case"keyup":return uy.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function km(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function hy(t,a){switch(t){case"compositionend":return km(a);case"keypress":return a.which!==32?null:(Rm=!0,Dm);case"textInput":return t=a.data,t===Dm&&Rm?null:t;default:return null}}function fy(t,a){if(Ol)return t==="compositionend"||!no&&Om(t,a)?(t=Sm(),Kr=eo=hs=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Am&&a.locale!=="ko"?null:a.data;default:return null}}var xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!xy[t.type]:a==="textarea"}function qm(t,a,l,n){Dl?Rl?Rl.push(n):Rl=[n]:Dl=n,a=Bi(a,"onChange"),0<a.length&&(l=new Pr("onChange","change",null,l,n),t.push({event:l,listeners:a}))}var Fn=null,Bn=null;function py(t){vx(t,0)}function Ir(t){var a=kn(t);if(gm(a))return t}function Lm(t,a){if(t==="change")return a}var Um=!1;if(Ya){var ro;if(Ya){var io="oninput"in document;if(!io){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),io=typeof Hm.oninput=="function"}ro=io}else ro=!1;Um=ro&&(!document.documentMode||9<document.documentMode)}function Fm(){Fn&&(Fn.detachEvent("onpropertychange",Bm),Bn=Fn=null)}function Bm(t){if(t.propertyName==="value"&&Ir(Bn)){var a=[];qm(a,Bn,t,Pc(t)),wm(py,a)}}function gy(t,a,l){t==="focusin"?(Fm(),Fn=a,Bn=l,Fn.attachEvent("onpropertychange",Bm)):t==="focusout"&&Fm()}function yy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ir(Bn)}function vy(t,a){if(t==="click")return Ir(a)}function by(t,a){if(t==="input"||t==="change")return Ir(a)}function jy(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Zt=typeof Object.is=="function"?Object.is:jy;function Qn(t,a){if(Zt(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var l=Object.keys(t),n=Object.keys(a);if(l.length!==n.length)return!1;for(n=0;n<l.length;n++){var o=l[n];if(!Nl.call(a,o)||!Zt(t[o],a[o]))return!1}return!0}function Qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vm(t,a){var l=Qm(t);t=0;for(var n;l;){if(l.nodeType===3){if(n=t+l.textContent.length,t<=a&&n>=a)return{node:l,offset:a-t};t=n}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qm(l)}}function $m(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?$m(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Yr(t.document);a instanceof t.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)t=a.contentWindow;else break;a=Yr(t.document)}return a}function co(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Ny=Ya&&"documentMode"in document&&11>=document.documentMode,kl=null,oo=null,Vn=null,uo=!1;function Ym(t,a,l){var n=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uo||kl==null||kl!==Yr(n)||(n=kl,"selectionStart"in n&&co(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vn&&Qn(Vn,n)||(Vn=n,n=Bi(oo,"onSelect"),0<n.length&&(a=new Pr("onSelect","select",null,a,l),t.push({event:a,listeners:n}),a.target=kl)))}function Xs(t,a){var l={};return l[t.toLowerCase()]=a.toLowerCase(),l["Webkit"+t]="webkit"+a,l["Moz"+t]="moz"+a,l}var zl={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},mo={},Xm={};Ya&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function Ks(t){if(mo[t])return mo[t];if(!zl[t])return t;var a=zl[t],l;for(l in a)if(a.hasOwnProperty(l)&&l in Xm)return mo[t]=a[l];return t}var Km=Ks("animationend"),Zm=Ks("animationiteration"),Jm=Ks("animationstart"),_y=Ks("transitionrun"),wy=Ks("transitionstart"),Sy=Ks("transitioncancel"),Pm=Ks("transitionend"),Wm=new Map,ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ho.push("scrollEnd");function ya(t,a){Wm.set(t,a),Gs(a,[t])}var ei=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},na=[],ql=0,fo=0;function ti(){for(var t=ql,a=fo=ql=0;a<t;){var l=na[a];na[a++]=null;var n=na[a];na[a++]=null;var o=na[a];na[a++]=null;var d=na[a];if(na[a++]=null,n!==null&&o!==null){var g=n.pending;g===null?o.next=o:(o.next=g.next,g.next=o),n.pending=o}d!==0&&Im(l,o,d)}}function ai(t,a,l,n){na[ql++]=t,na[ql++]=a,na[ql++]=l,na[ql++]=n,fo|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function xo(t,a,l,n){return ai(t,a,l,n),si(t)}function Zs(t,a){return ai(t,null,null,a),si(t)}function Im(t,a,l){t.lanes|=l;var n=t.alternate;n!==null&&(n.lanes|=l);for(var o=!1,d=t.return;d!==null;)d.childLanes|=l,n=d.alternate,n!==null&&(n.childLanes|=l),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(o=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,o&&a!==null&&(o=31-Kt(l),t=d.hiddenUpdates,n=t[o],n===null?t[o]=[a]:n.push(a),a.lane=l|536870912),d):null}function si(t){if(50<ur)throw ur=0,wd=null,Error(c(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ll={};function Cy(t,a,l,n){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,a,l,n){return new Cy(t,a,l,n)}function po(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xa(t,a){var l=t.alternate;return l===null?(l=Jt(t.tag,a,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=a,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,a=t.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function eh(t,a){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,a=l.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function li(t,a,l,n,o,d){var g=0;if(n=t,typeof t=="function")po(t)&&(g=1);else if(typeof t=="string")g=Dv(t,l,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=Jt(31,l,a,o),t.elementType=ie,t.lanes=d,t;case T:return Js(l.children,o,d,a);case S:g=8,o|=24;break;case w:return t=Jt(12,l,a,o|2),t.elementType=w,t.lanes=d,t;case Q:return t=Jt(13,l,a,o),t.elementType=Q,t.lanes=d,t;case z:return t=Jt(19,l,a,o),t.elementType=z,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:g=10;break e;case k:g=9;break e;case H:g=11;break e;case P:g=14;break e;case W:g=16,n=null;break e}g=29,l=Error(c(130,t===null?"null":typeof t,"")),n=null}return a=Jt(g,l,a,o),a.elementType=t,a.type=n,a.lanes=d,a}function Js(t,a,l,n){return t=Jt(7,t,n,a),t.lanes=l,t}function go(t,a,l){return t=Jt(6,t,null,a),t.lanes=l,t}function th(t){var a=Jt(18,null,null,0);return a.stateNode=t,a}function yo(t,a,l){return a=Jt(4,t.children!==null?t.children:[],t.key,a),a.lanes=l,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var ah=new WeakMap;function ra(t,a){if(typeof t=="object"&&t!==null){var l=ah.get(t);return l!==void 0?l:(a={value:t,source:a,stack:Ur(a)},ah.set(t,a),a)}return{value:t,source:a,stack:Ur(a)}}var Ul=[],Hl=0,ni=null,$n=0,ia=[],ca=0,fs=null,Da=1,Ra="";function Ka(t,a){Ul[Hl++]=$n,Ul[Hl++]=ni,ni=t,$n=a}function sh(t,a,l){ia[ca++]=Da,ia[ca++]=Ra,ia[ca++]=fs,fs=t;var n=Da;t=Ra;var o=32-Kt(n)-1;n&=~(1<<o),l+=1;var d=32-Kt(a)+o;if(30<d){var g=o-o%5;d=(n&(1<<g)-1).toString(32),n>>=g,o-=g,Da=1<<32-Kt(a)+o|l<<o|n,Ra=d+t}else Da=1<<d|l<<o|n,Ra=t}function vo(t){t.return!==null&&(Ka(t,1),sh(t,1,0))}function bo(t){for(;t===ni;)ni=Ul[--Hl],Ul[Hl]=null,$n=Ul[--Hl],Ul[Hl]=null;for(;t===fs;)fs=ia[--ca],ia[ca]=null,Ra=ia[--ca],ia[ca]=null,Da=ia[--ca],ia[ca]=null}function lh(t,a){ia[ca++]=Da,ia[ca++]=Ra,ia[ca++]=fs,Da=a.id,Ra=a.overflow,fs=t}var _t=null,We=null,ze=!1,xs=null,oa=!1,jo=Error(c(519));function ps(t){var a=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gn(ra(a,t)),jo}function nh(t){var a=t.stateNode,l=t.type,n=t.memoizedProps;switch(a[Nt]=t,a[Lt]=n,l){case"dialog":Re("cancel",a),Re("close",a);break;case"iframe":case"object":case"embed":Re("load",a);break;case"video":case"audio":for(l=0;l<hr.length;l++)Re(hr[l],a);break;case"source":Re("error",a);break;case"img":case"image":case"link":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"input":Re("invalid",a),ym(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Re("invalid",a);break;case"textarea":Re("invalid",a),bm(a,n.value,n.defaultValue,n.children)}l=n.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||n.suppressHydrationWarning===!0||_x(a.textContent,l)?(n.popover!=null&&(Re("beforetoggle",a),Re("toggle",a)),n.onScroll!=null&&Re("scroll",a),n.onScrollEnd!=null&&Re("scrollend",a),n.onClick!=null&&(a.onclick=Ga),a=!0):a=!1,a||ps(t,!0)}function rh(t){for(_t=t.return;_t;)switch(_t.tag){case 5:case 31:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:_t=_t.return}}function Fl(t){if(t!==_t)return!1;if(!ze)return rh(t),ze=!0,!1;var a=t.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Hd(t.type,t.memoizedProps)),l=!l),l&&We&&ps(t),rh(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));We=Rx(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));We=Rx(t)}else a===27?(a=We,As(t.type)?(t=$d,$d=null,We=t):We=a):We=_t?ua(t.stateNode.nextSibling):null;return!0}function Ps(){We=_t=null,ze=!1}function No(){var t=xs;return t!==null&&(Qt===null?Qt=t:Qt.push.apply(Qt,t),xs=null),t}function Gn(t){xs===null?xs=[t]:xs.push(t)}var _o=v(null),Ws=null,Za=null;function gs(t,a,l){ne(_o,a._currentValue),a._currentValue=l}function Ja(t){t._currentValue=_o.current,D(_o)}function wo(t,a,l){for(;t!==null;){var n=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),t===l)break;t=t.return}}function So(t,a,l,n){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=o;for(var A=0;A<a.length;A++)if(_.context===a[A]){d.lanes|=l,_=d.alternate,_!==null&&(_.lanes|=l),wo(d.return,l,t),n||(g=null);break e}d=_.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(c(341));g.lanes|=l,d=g.alternate,d!==null&&(d.lanes|=l),wo(g,l,t),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===t){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Bl(t,a,l,n){t=null;for(var o=a,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(c(387));if(g=g.memoizedProps,g!==null){var _=o.type;Zt(o.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(o===je.current){if(g=o.alternate,g===null)throw Error(c(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(yr):t=[yr])}o=o.return}t!==null&&So(a,t,l,n),a.flags|=262144}function ri(t){for(t=t.firstContext;t!==null;){if(!Zt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Ws=t,Za=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wt(t){return ih(Ws,t)}function ii(t,a){return Ws===null&&Is(t),ih(t,a)}function ih(t,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Za===null){if(t===null)throw Error(c(308));Za=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Za=Za.next=a;return l}var Ey=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(l,n){t.push(n)}};this.abort=function(){a.aborted=!0,t.forEach(function(l){return l()})}},Ty=s.unstable_scheduleCallback,My=s.unstable_NormalPriority,mt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Co(){return{controller:new Ey,data:new Map,refCount:0}}function Yn(t){t.refCount--,t.refCount===0&&Ty(My,function(){t.controller.abort()})}var Xn=null,Eo=0,Ql=0,Vl=null;function Ay(t,a){if(Xn===null){var l=Xn=[];Eo=0,Ql=Ad(),Vl={status:"pending",value:void 0,then:function(n){l.push(n)}}}return Eo++,a.then(ch,ch),a}function ch(){if(--Eo===0&&Xn!==null){Vl!==null&&(Vl.status="fulfilled");var t=Xn;Xn=null,Ql=0,Vl=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Dy(t,a){var l=[],n={status:"pending",value:null,reason:null,then:function(o){l.push(o)}};return t.then(function(){n.status="fulfilled",n.value=a;for(var o=0;o<l.length;o++)(0,l[o])(a)},function(o){for(n.status="rejected",n.reason=o,o=0;o<l.length;o++)(0,l[o])(void 0)}),n}var oh=M.S;M.S=function(t,a){Xf=kt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ay(t,a),oh!==null&&oh(t,a)};var el=v(null);function To(){var t=el.current;return t!==null?t:Pe.pooledCache}function ci(t,a){a===null?ne(el,el.current):ne(el,a.pool)}function dh(){var t=To();return t===null?null:{parent:mt._currentValue,pool:t}}var $l=Error(c(460)),Mo=Error(c(474)),oi=Error(c(542)),di={then:function(){}};function uh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mh(t,a,l){switch(l=t[l],l===void 0?t.push(a):l!==a&&(a.then(Ga,Ga),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,fh(t),t;default:if(typeof a.status=="string")a.then(Ga,Ga);else{if(t=Pe,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=a,t.status="pending",t.then(function(n){if(a.status==="pending"){var o=a;o.status="fulfilled",o.value=n}},function(n){if(a.status==="pending"){var o=a;o.status="rejected",o.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,fh(t),t}throw al=a,$l}}function tl(t){try{var a=t._init;return a(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(al=l,$l):l}}var al=null;function hh(){if(al===null)throw Error(c(459));var t=al;return al=null,t}function fh(t){if(t===$l||t===oi)throw Error(c(483))}var Gl=null,Kn=0;function ui(t){var a=Kn;return Kn+=1,Gl===null&&(Gl=[]),mh(Gl,t,a)}function Zn(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function mi(t,a){throw a.$$typeof===C?Error(c(525)):(t=Object.prototype.toString.call(a),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function xh(t){function a(L,R){if(t){var B=L.deletions;B===null?(L.deletions=[R],L.flags|=16):B.push(R)}}function l(L,R){if(!t)return null;for(;R!==null;)a(L,R),R=R.sibling;return null}function n(L){for(var R=new Map;L!==null;)L.key!==null?R.set(L.key,L):R.set(L.index,L),L=L.sibling;return R}function o(L,R){return L=Xa(L,R),L.index=0,L.sibling=null,L}function d(L,R,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<R?(L.flags|=67108866,R):B):(L.flags|=67108866,R)):(L.flags|=1048576,R)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function _(L,R,B,se){return R===null||R.tag!==6?(R=go(B,L.mode,se),R.return=L,R):(R=o(R,B),R.return=L,R)}function A(L,R,B,se){var Ne=B.type;return Ne===T?I(L,R,B.props.children,se,B.key):R!==null&&(R.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===W&&tl(Ne)===R.type)?(R=o(R,B.props),Zn(R,B),R.return=L,R):(R=li(B.type,B.key,B.props,null,L.mode,se),Zn(R,B),R.return=L,R)}function V(L,R,B,se){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=yo(B,L.mode,se),R.return=L,R):(R=o(R,B.children||[]),R.return=L,R)}function I(L,R,B,se,Ne){return R===null||R.tag!==7?(R=Js(B,L.mode,se,Ne),R.return=L,R):(R=o(R,B),R.return=L,R)}function le(L,R,B){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=go(""+R,L.mode,B),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return B=li(R.type,R.key,R.props,null,L.mode,B),Zn(B,R),B.return=L,B;case N:return R=yo(R,L.mode,B),R.return=L,R;case W:return R=tl(R),le(L,R,B)}if(re(R)||U(R))return R=Js(R,L.mode,B,null),R.return=L,R;if(typeof R.then=="function")return le(L,ui(R),B);if(R.$$typeof===O)return le(L,ii(L,R),B);mi(L,R)}return null}function Y(L,R,B,se){var Ne=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ne!==null?null:_(L,R,""+B,se);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return B.key===Ne?A(L,R,B,se):null;case N:return B.key===Ne?V(L,R,B,se):null;case W:return B=tl(B),Y(L,R,B,se)}if(re(B)||U(B))return Ne!==null?null:I(L,R,B,se,null);if(typeof B.then=="function")return Y(L,R,ui(B),se);if(B.$$typeof===O)return Y(L,R,ii(L,B),se);mi(L,B)}return null}function J(L,R,B,se,Ne){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return L=L.get(B)||null,_(R,L,""+se,Ne);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return L=L.get(se.key===null?B:se.key)||null,A(R,L,se,Ne);case N:return L=L.get(se.key===null?B:se.key)||null,V(R,L,se,Ne);case W:return se=tl(se),J(L,R,B,se,Ne)}if(re(se)||U(se))return L=L.get(B)||null,I(R,L,se,Ne,null);if(typeof se.then=="function")return J(L,R,B,ui(se),Ne);if(se.$$typeof===O)return J(L,R,B,ii(R,se),Ne);mi(R,se)}return null}function ye(L,R,B,se){for(var Ne=null,Ue=null,be=R,Te=R=0,ke=null;be!==null&&Te<B.length;Te++){be.index>Te?(ke=be,be=null):ke=be.sibling;var He=Y(L,be,B[Te],se);if(He===null){be===null&&(be=ke);break}t&&be&&He.alternate===null&&a(L,be),R=d(He,R,Te),Ue===null?Ne=He:Ue.sibling=He,Ue=He,be=ke}if(Te===B.length)return l(L,be),ze&&Ka(L,Te),Ne;if(be===null){for(;Te<B.length;Te++)be=le(L,B[Te],se),be!==null&&(R=d(be,R,Te),Ue===null?Ne=be:Ue.sibling=be,Ue=be);return ze&&Ka(L,Te),Ne}for(be=n(be);Te<B.length;Te++)ke=J(be,L,Te,B[Te],se),ke!==null&&(t&&ke.alternate!==null&&be.delete(ke.key===null?Te:ke.key),R=d(ke,R,Te),Ue===null?Ne=ke:Ue.sibling=ke,Ue=ke);return t&&be.forEach(function(zs){return a(L,zs)}),ze&&Ka(L,Te),Ne}function _e(L,R,B,se){if(B==null)throw Error(c(151));for(var Ne=null,Ue=null,be=R,Te=R=0,ke=null,He=B.next();be!==null&&!He.done;Te++,He=B.next()){be.index>Te?(ke=be,be=null):ke=be.sibling;var zs=Y(L,be,He.value,se);if(zs===null){be===null&&(be=ke);break}t&&be&&zs.alternate===null&&a(L,be),R=d(zs,R,Te),Ue===null?Ne=zs:Ue.sibling=zs,Ue=zs,be=ke}if(He.done)return l(L,be),ze&&Ka(L,Te),Ne;if(be===null){for(;!He.done;Te++,He=B.next())He=le(L,He.value,se),He!==null&&(R=d(He,R,Te),Ue===null?Ne=He:Ue.sibling=He,Ue=He);return ze&&Ka(L,Te),Ne}for(be=n(be);!He.done;Te++,He=B.next())He=J(be,L,Te,He.value,se),He!==null&&(t&&He.alternate!==null&&be.delete(He.key===null?Te:He.key),R=d(He,R,Te),Ue===null?Ne=He:Ue.sibling=He,Ue=He);return t&&be.forEach(function(Qv){return a(L,Qv)}),ze&&Ka(L,Te),Ne}function Ze(L,R,B,se){if(typeof B=="object"&&B!==null&&B.type===T&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case E:e:{for(var Ne=B.key;R!==null;){if(R.key===Ne){if(Ne=B.type,Ne===T){if(R.tag===7){l(L,R.sibling),se=o(R,B.props.children),se.return=L,L=se;break e}}else if(R.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===W&&tl(Ne)===R.type){l(L,R.sibling),se=o(R,B.props),Zn(se,B),se.return=L,L=se;break e}l(L,R);break}else a(L,R);R=R.sibling}B.type===T?(se=Js(B.props.children,L.mode,se,B.key),se.return=L,L=se):(se=li(B.type,B.key,B.props,null,L.mode,se),Zn(se,B),se.return=L,L=se)}return g(L);case N:e:{for(Ne=B.key;R!==null;){if(R.key===Ne)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){l(L,R.sibling),se=o(R,B.children||[]),se.return=L,L=se;break e}else{l(L,R);break}else a(L,R);R=R.sibling}se=yo(B,L.mode,se),se.return=L,L=se}return g(L);case W:return B=tl(B),Ze(L,R,B,se)}if(re(B))return ye(L,R,B,se);if(U(B)){if(Ne=U(B),typeof Ne!="function")throw Error(c(150));return B=Ne.call(B),_e(L,R,B,se)}if(typeof B.then=="function")return Ze(L,R,ui(B),se);if(B.$$typeof===O)return Ze(L,R,ii(L,B),se);mi(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,R!==null&&R.tag===6?(l(L,R.sibling),se=o(R,B),se.return=L,L=se):(l(L,R),se=go(B,L.mode,se),se.return=L,L=se),g(L)):l(L,R)}return function(L,R,B,se){try{Kn=0;var Ne=Ze(L,R,B,se);return Gl=null,Ne}catch(be){if(be===$l||be===oi)throw be;var Ue=Jt(29,be,null,L.mode);return Ue.lanes=se,Ue.return=L,Ue}finally{}}}var sl=xh(!0),ph=xh(!1),ys=!1;function Ao(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Do(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bs(t,a,l){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Be&2)!==0){var o=n.pending;return o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a,a=si(t),Im(t,null,l),a}return ai(t,n,a,l),si(t)}function Jn(t,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var n=a.lanes;n&=t.pendingLanes,l|=n,a.lanes=l,im(t,l)}}function Ro(t,a){var l=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,l===n)){var o=null,d=null;if(l=l.firstBaseUpdate,l!==null){do{var g={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,l=l.next}while(l!==null);d===null?o=d=a:d=d.next=a}else o=d=a;l={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=a:t.next=a,l.lastBaseUpdate=a}var Oo=!1;function Pn(){if(Oo){var t=Vl;if(t!==null)throw t}}function Wn(t,a,l,n){Oo=!1;var o=t.updateQueue;ys=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var A=_,V=A.next;A.next=null,g===null?d=V:g.next=V,g=A;var I=t.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==g&&(_===null?I.firstBaseUpdate=V:_.next=V,I.lastBaseUpdate=A))}if(d!==null){var le=o.baseState;g=0,I=V=A=null,_=d;do{var Y=_.lane&-536870913,J=Y!==_.lane;if(J?(Oe&Y)===Y:(n&Y)===Y){Y!==0&&Y===Ql&&(Oo=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ye=t,_e=_;Y=a;var Ze=l;switch(_e.tag){case 1:if(ye=_e.payload,typeof ye=="function"){le=ye.call(Ze,le,Y);break e}le=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=_e.payload,Y=typeof ye=="function"?ye.call(Ze,le,Y):ye,Y==null)break e;le=j({},le,Y);break e;case 2:ys=!0}}Y=_.callback,Y!==null&&(t.flags|=64,J&&(t.flags|=8192),J=o.callbacks,J===null?o.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(V=I=J,A=le):I=I.next=J,g|=Y;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;J=_,_=J.next,J.next=null,o.lastBaseUpdate=J,o.shared.pending=null}}while(!0);I===null&&(A=le),o.baseState=A,o.firstBaseUpdate=V,o.lastBaseUpdate=I,d===null&&(o.shared.lanes=0),Ss|=g,t.lanes=g,t.memoizedState=le}}function gh(t,a){if(typeof t!="function")throw Error(c(191,t));t.call(a)}function yh(t,a){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)gh(l[t],a)}var Yl=v(null),hi=v(0);function vh(t,a){t=ns,ne(hi,t),ne(Yl,a),ns=t|a.baseLanes}function ko(){ne(hi,ns),ne(Yl,Yl.current)}function zo(){ns=hi.current,D(Yl),D(hi)}var Pt=v(null),da=null;function js(t){var a=t.alternate;ne(ct,ct.current&1),ne(Pt,t),da===null&&(a===null||Yl.current!==null||a.memoizedState!==null)&&(da=t)}function qo(t){ne(ct,ct.current),ne(Pt,t),da===null&&(da=t)}function bh(t){t.tag===22?(ne(ct,ct.current),ne(Pt,t),da===null&&(da=t)):Ns()}function Ns(){ne(ct,ct.current),ne(Pt,Pt.current)}function Wt(t){D(Pt),da===t&&(da=null),D(ct)}var ct=v(0);function fi(t){for(var a=t;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Qd(l)||Vd(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Pa=0,Se=null,Xe=null,ht=null,xi=!1,Xl=!1,ll=!1,pi=0,In=0,Kl=null,Ry=0;function nt(){throw Error(c(321))}function Lo(t,a){if(a===null)return!1;for(var l=0;l<a.length&&l<t.length;l++)if(!Zt(t[l],a[l]))return!1;return!0}function Uo(t,a,l,n,o,d){return Pa=d,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,M.H=t===null||t.memoizedState===null?sf:Io,ll=!1,d=l(n,o),ll=!1,Xl&&(d=Nh(a,l,n,o)),jh(t),d}function jh(t){M.H=ar;var a=Xe!==null&&Xe.next!==null;if(Pa=0,ht=Xe=Se=null,xi=!1,In=0,Kl=null,a)throw Error(c(300));t===null||ft||(t=t.dependencies,t!==null&&ri(t)&&(ft=!0))}function Nh(t,a,l,n){Se=t;var o=0;do{if(Xl&&(Kl=null),In=0,Xl=!1,25<=o)throw Error(c(301));if(o+=1,ht=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=lf,d=a(l,n)}while(Xl);return d}function Oy(){var t=M.H,a=t.useState()[0];return a=typeof a.then=="function"?er(a):a,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Se.flags|=1024),a}function Ho(){var t=pi!==0;return pi=0,t}function Fo(t,a,l){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~l}function Bo(t){if(xi){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}xi=!1}Pa=0,ht=Xe=Se=null,Xl=!1,In=pi=0,Kl=null}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Se.memoizedState=ht=t:ht=ht.next=t,ht}function ot(){if(Xe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var a=ht===null?Se.memoizedState:ht.next;if(a!==null)ht=a,Xe=t;else{if(t===null)throw Se.alternate===null?Error(c(467)):Error(c(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ht===null?Se.memoizedState=ht=t:ht=ht.next=t}return ht}function gi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function er(t){var a=In;return In+=1,Kl===null&&(Kl=[]),t=mh(Kl,t,a),a=Se,(ht===null?a.memoizedState:ht.next)===null&&(a=a.alternate,M.H=a===null||a.memoizedState===null?sf:Io),t}function yi(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return er(t);if(t.$$typeof===O)return wt(t)}throw Error(c(438,String(t)))}function Qo(t){var a=null,l=Se.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var n=Se.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(o){return o.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=gi(),Se.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(t),n=0;n<t;n++)l[n]=$;return a.index++,l}function Wa(t,a){return typeof a=="function"?a(t):a}function vi(t){var a=ot();return Vo(a,Xe,t)}function Vo(t,a,l){var n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=l;var o=t.baseQueue,d=n.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}a.baseQueue=o=d,n.pending=null}if(d=t.baseState,o===null)t.memoizedState=d;else{a=o.next;var _=g=null,A=null,V=a,I=!1;do{var le=V.lane&-536870913;if(le!==V.lane?(Oe&le)===le:(Pa&le)===le){var Y=V.revertLane;if(Y===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),le===Ql&&(I=!0);else if((Pa&Y)===Y){V=V.next,Y===Ql&&(I=!0);continue}else le={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(_=A=le,g=d):A=A.next=le,Se.lanes|=Y,Ss|=Y;le=V.action,ll&&l(d,le),d=V.hasEagerState?V.eagerState:l(d,le)}else Y={lane:le,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(_=A=Y,g=d):A=A.next=Y,Se.lanes|=le,Ss|=le;V=V.next}while(V!==null&&V!==a);if(A===null?g=d:A.next=_,!Zt(d,t.memoizedState)&&(ft=!0,I&&(l=Vl,l!==null)))throw l;t.memoizedState=d,t.baseState=g,t.baseQueue=A,n.lastRenderedState=d}return o===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function $o(t){var a=ot(),l=a.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=t;var n=l.dispatch,o=l.pending,d=a.memoizedState;if(o!==null){l.pending=null;var g=o=o.next;do d=t(d,g.action),g=g.next;while(g!==o);Zt(d,a.memoizedState)||(ft=!0),a.memoizedState=d,a.baseQueue===null&&(a.baseState=d),l.lastRenderedState=d}return[d,n]}function _h(t,a,l){var n=Se,o=ot(),d=ze;if(d){if(l===void 0)throw Error(c(407));l=l()}else l=a();var g=!Zt((Xe||o).memoizedState,l);if(g&&(o.memoizedState=l,ft=!0),o=o.queue,Xo(Ch.bind(null,n,o,t),[t]),o.getSnapshot!==a||g||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Zl(9,{destroy:void 0},Sh.bind(null,n,o,l,a),null),Pe===null)throw Error(c(349));d||(Pa&127)!==0||wh(n,a,l)}return l}function wh(t,a,l){t.flags|=16384,t={getSnapshot:a,value:l},a=Se.updateQueue,a===null?(a=gi(),Se.updateQueue=a,a.stores=[t]):(l=a.stores,l===null?a.stores=[t]:l.push(t))}function Sh(t,a,l,n){a.value=l,a.getSnapshot=n,Eh(a)&&Th(t)}function Ch(t,a,l){return l(function(){Eh(a)&&Th(t)})}function Eh(t){var a=t.getSnapshot;t=t.value;try{var l=a();return!Zt(t,l)}catch{return!0}}function Th(t){var a=Zs(t,2);a!==null&&Vt(a,t,2)}function Go(t){var a=zt();if(typeof t=="function"){var l=t;if(t=l(),ll){us(!0);try{l()}finally{us(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:t},a}function Mh(t,a,l,n){return t.baseState=l,Vo(t,Xe,typeof n=="function"?n:Wa)}function ky(t,a,l,n,o){if(Ni(t))throw Error(c(485));if(t=a.action,t!==null){var d={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};M.T!==null?l(!0):d.isTransition=!1,n(d),l=a.pending,l===null?(d.next=a.pending=d,Ah(a,d)):(d.next=l.next,a.pending=l.next=d)}}function Ah(t,a){var l=a.action,n=a.payload,o=t.state;if(a.isTransition){var d=M.T,g={};M.T=g;try{var _=l(o,n),A=M.S;A!==null&&A(g,_),Dh(t,a,_)}catch(V){Yo(t,a,V)}finally{d!==null&&g.types!==null&&(d.types=g.types),M.T=d}}else try{d=l(o,n),Dh(t,a,d)}catch(V){Yo(t,a,V)}}function Dh(t,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(n){Rh(t,a,n)},function(n){return Yo(t,a,n)}):Rh(t,a,l)}function Rh(t,a,l){a.status="fulfilled",a.value=l,Oh(a),t.state=l,a=t.pending,a!==null&&(l=a.next,l===a?t.pending=null:(l=l.next,a.next=l,Ah(t,l)))}function Yo(t,a,l){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=l,Oh(a),a=a.next;while(a!==n)}t.action=null}function Oh(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function kh(t,a){return a}function zh(t,a){if(ze){var l=Pe.formState;if(l!==null){e:{var n=Se;if(ze){if(We){t:{for(var o=We,d=oa;o.nodeType!==8;){if(!d){o=null;break t}if(o=ua(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){We=ua(o.nextSibling),n=o.data==="F!";break e}}ps(n)}n=!1}n&&(a=l[0])}}return l=zt(),l.memoizedState=l.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:a},l.queue=n,l=ef.bind(null,Se,n),n.dispatch=l,n=Go(!1),d=Wo.bind(null,Se,!1,n.queue),n=zt(),o={state:a,dispatch:null,action:t,pending:null},n.queue=o,l=ky.bind(null,Se,o,d,l),o.dispatch=l,n.memoizedState=t,[a,l,!1]}function qh(t){var a=ot();return Lh(a,Xe,t)}function Lh(t,a,l){if(a=Vo(t,a,kh)[0],t=vi(Wa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=er(a)}catch(g){throw g===$l?oi:g}else n=a;a=ot();var o=a.queue,d=o.dispatch;return l!==a.memoizedState&&(Se.flags|=2048,Zl(9,{destroy:void 0},zy.bind(null,o,l),null)),[n,d,t]}function zy(t,a){t.action=a}function Uh(t){var a=ot(),l=Xe;if(l!==null)return Lh(a,l,t);ot(),a=a.memoizedState,l=ot();var n=l.queue.dispatch;return l.memoizedState=t,[a,n,!1]}function Zl(t,a,l,n){return t={tag:t,create:l,deps:n,inst:a,next:null},a=Se.updateQueue,a===null&&(a=gi(),Se.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=t.next=t:(n=l.next,l.next=t,t.next=n,a.lastEffect=t),t}function Hh(){return ot().memoizedState}function bi(t,a,l,n){var o=zt();Se.flags|=t,o.memoizedState=Zl(1|a,{destroy:void 0},l,n===void 0?null:n)}function ji(t,a,l,n){var o=ot();n=n===void 0?null:n;var d=o.memoizedState.inst;Xe!==null&&n!==null&&Lo(n,Xe.memoizedState.deps)?o.memoizedState=Zl(a,d,l,n):(Se.flags|=t,o.memoizedState=Zl(1|a,d,l,n))}function Fh(t,a){bi(8390656,8,t,a)}function Xo(t,a){ji(2048,8,t,a)}function qy(t){Se.flags|=4;var a=Se.updateQueue;if(a===null)a=gi(),Se.updateQueue=a,a.events=[t];else{var l=a.events;l===null?a.events=[t]:l.push(t)}}function Bh(t){var a=ot().memoizedState;return qy({ref:a,nextImpl:t}),function(){if((Be&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}function Qh(t,a){return ji(4,2,t,a)}function Vh(t,a){return ji(4,4,t,a)}function $h(t,a){if(typeof a=="function"){t=t();var l=a(t);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Gh(t,a,l){l=l!=null?l.concat([t]):null,ji(4,4,$h.bind(null,a,t),l)}function Ko(){}function Yh(t,a){var l=ot();a=a===void 0?null:a;var n=l.memoizedState;return a!==null&&Lo(a,n[1])?n[0]:(l.memoizedState=[t,a],t)}function Xh(t,a){var l=ot();a=a===void 0?null:a;var n=l.memoizedState;if(a!==null&&Lo(a,n[1]))return n[0];if(n=t(),ll){us(!0);try{t()}finally{us(!1)}}return l.memoizedState=[n,a],n}function Zo(t,a,l){return l===void 0||(Pa&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=a:(t.memoizedState=l,t=Zf(),Se.lanes|=t,Ss|=t,l)}function Kh(t,a,l,n){return Zt(l,a)?l:Yl.current!==null?(t=Zo(t,l,n),Zt(t,a)||(ft=!0),t):(Pa&42)===0||(Pa&1073741824)!==0&&(Oe&261930)===0?(ft=!0,t.memoizedState=l):(t=Zf(),Se.lanes|=t,Ss|=t,a)}function Zh(t,a,l,n,o){var d=ae.p;ae.p=d!==0&&8>d?d:8;var g=M.T,_={};M.T=_,Wo(t,!1,a,l);try{var A=o(),V=M.S;if(V!==null&&V(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var I=Dy(A,n);tr(t,a,I,ta(t))}else tr(t,a,n,ta(t))}catch(le){tr(t,a,{then:function(){},status:"rejected",reason:le},ta())}finally{ae.p=d,g!==null&&_.types!==null&&(g.types=_.types),M.T=g}}function Ly(){}function Jo(t,a,l,n){if(t.tag!==5)throw Error(c(476));var o=Jh(t).queue;Zh(t,o,a,Z,l===null?Ly:function(){return Ph(t),l(n)})}function Jh(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:Z},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:l},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Ph(t){var a=Jh(t);a.next===null&&(a=t.alternate.memoizedState),tr(t,a.next.queue,{},ta())}function Po(){return wt(yr)}function Wh(){return ot().memoizedState}function Ih(){return ot().memoizedState}function Uy(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var l=ta();t=vs(l);var n=bs(a,t,l);n!==null&&(Vt(n,a,l),Jn(n,a,l)),a={cache:Co()},t.payload=a;return}a=a.return}}function Hy(t,a,l){var n=ta();l={lane:n,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ni(t)?tf(a,l):(l=xo(t,a,l,n),l!==null&&(Vt(l,t,n),af(l,a,n)))}function ef(t,a,l){var n=ta();tr(t,a,l,n)}function tr(t,a,l,n){var o={lane:n,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ni(t))tf(a,o);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=a.lastRenderedReducer,d!==null))try{var g=a.lastRenderedState,_=d(g,l);if(o.hasEagerState=!0,o.eagerState=_,Zt(_,g))return ai(t,a,o,0),Pe===null&&ti(),!1}catch{}finally{}if(l=xo(t,a,o,n),l!==null)return Vt(l,t,n),af(l,a,n),!0}return!1}function Wo(t,a,l,n){if(n={lane:2,revertLane:Ad(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ni(t)){if(a)throw Error(c(479))}else a=xo(t,l,n,2),a!==null&&Vt(a,t,2)}function Ni(t){var a=t.alternate;return t===Se||a!==null&&a===Se}function tf(t,a){Xl=xi=!0;var l=t.pending;l===null?a.next=a:(a.next=l.next,l.next=a),t.pending=a}function af(t,a,l){if((l&4194048)!==0){var n=a.lanes;n&=t.pendingLanes,l|=n,a.lanes=l,im(t,l)}}var ar={readContext:wt,use:yi,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};ar.useEffectEvent=nt;var sf={readContext:wt,use:yi,useCallback:function(t,a){return zt().memoizedState=[t,a===void 0?null:a],t},useContext:wt,useEffect:Fh,useImperativeHandle:function(t,a,l){l=l!=null?l.concat([t]):null,bi(4194308,4,$h.bind(null,a,t),l)},useLayoutEffect:function(t,a){return bi(4194308,4,t,a)},useInsertionEffect:function(t,a){bi(4,2,t,a)},useMemo:function(t,a){var l=zt();a=a===void 0?null:a;var n=t();if(ll){us(!0);try{t()}finally{us(!1)}}return l.memoizedState=[n,a],n},useReducer:function(t,a,l){var n=zt();if(l!==void 0){var o=l(a);if(ll){us(!0);try{l(a)}finally{us(!1)}}}else o=a;return n.memoizedState=n.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},n.queue=t,t=t.dispatch=Hy.bind(null,Se,t),[n.memoizedState,t]},useRef:function(t){var a=zt();return t={current:t},a.memoizedState=t},useState:function(t){t=Go(t);var a=t.queue,l=ef.bind(null,Se,a);return a.dispatch=l,[t.memoizedState,l]},useDebugValue:Ko,useDeferredValue:function(t,a){var l=zt();return Zo(l,t,a)},useTransition:function(){var t=Go(!1);return t=Zh.bind(null,Se,t.queue,!0,!1),zt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,l){var n=Se,o=zt();if(ze){if(l===void 0)throw Error(c(407));l=l()}else{if(l=a(),Pe===null)throw Error(c(349));(Oe&127)!==0||wh(n,a,l)}o.memoizedState=l;var d={value:l,getSnapshot:a};return o.queue=d,Fh(Ch.bind(null,n,d,t),[t]),n.flags|=2048,Zl(9,{destroy:void 0},Sh.bind(null,n,d,l,a),null),l},useId:function(){var t=zt(),a=Pe.identifierPrefix;if(ze){var l=Ra,n=Da;l=(n&~(1<<32-Kt(n)-1)).toString(32)+l,a="_"+a+"R_"+l,l=pi++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Ry++,a="_"+a+"r_"+l.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Po,useFormState:zh,useActionState:zh,useOptimistic:function(t){var a=zt();a.memoizedState=a.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Wo.bind(null,Se,!0,l),l.dispatch=a,[t,a]},useMemoCache:Qo,useCacheRefresh:function(){return zt().memoizedState=Uy.bind(null,Se)},useEffectEvent:function(t){var a=zt(),l={impl:t};return a.memoizedState=l,function(){if((Be&2)!==0)throw Error(c(440));return l.impl.apply(void 0,arguments)}}},Io={readContext:wt,use:yi,useCallback:Yh,useContext:wt,useEffect:Xo,useImperativeHandle:Gh,useInsertionEffect:Qh,useLayoutEffect:Vh,useMemo:Xh,useReducer:vi,useRef:Hh,useState:function(){return vi(Wa)},useDebugValue:Ko,useDeferredValue:function(t,a){var l=ot();return Kh(l,Xe.memoizedState,t,a)},useTransition:function(){var t=vi(Wa)[0],a=ot().memoizedState;return[typeof t=="boolean"?t:er(t),a]},useSyncExternalStore:_h,useId:Wh,useHostTransitionStatus:Po,useFormState:qh,useActionState:qh,useOptimistic:function(t,a){var l=ot();return Mh(l,Xe,t,a)},useMemoCache:Qo,useCacheRefresh:Ih};Io.useEffectEvent=Bh;var lf={readContext:wt,use:yi,useCallback:Yh,useContext:wt,useEffect:Xo,useImperativeHandle:Gh,useInsertionEffect:Qh,useLayoutEffect:Vh,useMemo:Xh,useReducer:$o,useRef:Hh,useState:function(){return $o(Wa)},useDebugValue:Ko,useDeferredValue:function(t,a){var l=ot();return Xe===null?Zo(l,t,a):Kh(l,Xe.memoizedState,t,a)},useTransition:function(){var t=$o(Wa)[0],a=ot().memoizedState;return[typeof t=="boolean"?t:er(t),a]},useSyncExternalStore:_h,useId:Wh,useHostTransitionStatus:Po,useFormState:Uh,useActionState:Uh,useOptimistic:function(t,a){var l=ot();return Xe!==null?Mh(l,Xe,t,a):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:Ih};lf.useEffectEvent=Bh;function ed(t,a,l,n){a=t.memoizedState,l=l(n,a),l=l==null?a:j({},a,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var td={enqueueSetState:function(t,a,l){t=t._reactInternals;var n=ta(),o=vs(n);o.payload=a,l!=null&&(o.callback=l),a=bs(t,o,n),a!==null&&(Vt(a,t,n),Jn(a,t,n))},enqueueReplaceState:function(t,a,l){t=t._reactInternals;var n=ta(),o=vs(n);o.tag=1,o.payload=a,l!=null&&(o.callback=l),a=bs(t,o,n),a!==null&&(Vt(a,t,n),Jn(a,t,n))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var l=ta(),n=vs(l);n.tag=2,a!=null&&(n.callback=a),a=bs(t,n,l),a!==null&&(Vt(a,t,l),Jn(a,t,l))}};function nf(t,a,l,n,o,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,d,g):a.prototype&&a.prototype.isPureReactComponent?!Qn(l,n)||!Qn(o,d):!0}function rf(t,a,l,n){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,n),a.state!==t&&td.enqueueReplaceState(a,a.state,null)}function nl(t,a){var l=a;if("ref"in a){l={};for(var n in a)n!=="ref"&&(l[n]=a[n])}if(t=t.defaultProps){l===a&&(l=j({},l));for(var o in t)l[o]===void 0&&(l[o]=t[o])}return l}function cf(t){ei(t)}function of(t){console.error(t)}function df(t){ei(t)}function _i(t,a){try{var l=t.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function uf(t,a,l){try{var n=t.onCaughtError;n(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ad(t,a,l){return l=vs(l),l.tag=3,l.payload={element:null},l.callback=function(){_i(t,a)},l}function mf(t){return t=vs(t),t.tag=3,t}function hf(t,a,l,n){var o=l.type.getDerivedStateFromError;if(typeof o=="function"){var d=n.value;t.payload=function(){return o(d)},t.callback=function(){uf(a,l,n)}}var g=l.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){uf(a,l,n),typeof o!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})})}function Fy(t,a,l,n,o){if(l.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=l.alternate,a!==null&&Bl(a,l,o,!0),l=Pt.current,l!==null){switch(l.tag){case 31:case 13:return da===null?zi():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=o,n===di?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([n]):a.add(n),Ed(t,n,o)),!1;case 22:return l.flags|=65536,n===di?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([n]):l.add(n)),Ed(t,n,o)),!1}throw Error(c(435,l.tag))}return Ed(t,n,o),zi(),!1}if(ze)return a=Pt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=o,n!==jo&&(t=Error(c(422),{cause:n}),Gn(ra(t,l)))):(n!==jo&&(a=Error(c(423),{cause:n}),Gn(ra(a,l))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,n=ra(n,l),o=ad(t.stateNode,n,o),Ro(t,o),rt!==4&&(rt=2)),!1;var d=Error(c(520),{cause:n});if(d=ra(d,l),dr===null?dr=[d]:dr.push(d),rt!==4&&(rt=2),a===null)return!0;n=ra(n,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,t=o&-o,l.lanes|=t,t=ad(l.stateNode,n,t),Ro(l,t),!1;case 1:if(a=l.type,d=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cs===null||!Cs.has(d))))return l.flags|=65536,o&=-o,l.lanes|=o,o=mf(o),hf(o,t,l,n),Ro(l,o),!1}l=l.return}while(l!==null);return!1}var sd=Error(c(461)),ft=!1;function St(t,a,l,n){a.child=t===null?ph(a,null,l,n):sl(a,t.child,l,n)}function ff(t,a,l,n,o){l=l.render;var d=a.ref;if("ref"in n){var g={};for(var _ in n)_!=="ref"&&(g[_]=n[_])}else g=n;return Is(a),n=Uo(t,a,l,g,d,o),_=Ho(),t!==null&&!ft?(Fo(t,a,o),Ia(t,a,o)):(ze&&_&&vo(a),a.flags|=1,St(t,a,n,o),a.child)}function xf(t,a,l,n,o){if(t===null){var d=l.type;return typeof d=="function"&&!po(d)&&d.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=d,pf(t,a,d,n,o)):(t=li(l.type,null,n,a,a.mode,o),t.ref=a.ref,t.return=a,a.child=t)}if(d=t.child,!ud(t,o)){var g=d.memoizedProps;if(l=l.compare,l=l!==null?l:Qn,l(g,n)&&t.ref===a.ref)return Ia(t,a,o)}return a.flags|=1,t=Xa(d,n),t.ref=a.ref,t.return=a,a.child=t}function pf(t,a,l,n,o){if(t!==null){var d=t.memoizedProps;if(Qn(d,n)&&t.ref===a.ref)if(ft=!1,a.pendingProps=n=d,ud(t,o))(t.flags&131072)!==0&&(ft=!0);else return a.lanes=t.lanes,Ia(t,a,o)}return ld(t,a,l,n,o)}function gf(t,a,l,n){var o=n.children,d=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((a.flags&128)!==0){if(d=d!==null?d.baseLanes|l:l,t!==null){for(n=a.child=t.child,o=0;n!==null;)o=o|n.lanes|n.childLanes,n=n.sibling;n=o&~d}else n=0,a.child=null;return yf(t,a,d,l,n)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&ci(a,d!==null?d.cachePool:null),d!==null?vh(a,d):ko(),bh(a);else return n=a.lanes=536870912,yf(t,a,d!==null?d.baseLanes|l:l,l,n)}else d!==null?(ci(a,d.cachePool),vh(a,d),Ns(),a.memoizedState=null):(t!==null&&ci(a,null),ko(),Ns());return St(t,a,o,l),a.child}function sr(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function yf(t,a,l,n,o){var d=To();return d=d===null?null:{parent:mt._currentValue,pool:d},a.memoizedState={baseLanes:l,cachePool:d},t!==null&&ci(a,null),ko(),bh(a),t!==null&&Bl(t,a,n,!0),a.childLanes=o,null}function wi(t,a){return a=Ci({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function vf(t,a,l){return sl(a,t.child,null,l),t=wi(a,a.pendingProps),t.flags|=2,Wt(a),a.memoizedState=null,t}function By(t,a,l){var n=a.pendingProps,o=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(ze){if(n.mode==="hidden")return t=wi(a,n),a.lanes=536870912,sr(null,t);if(qo(a),(t=We)?(t=Dx(t,oa),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:fs!==null?{id:Da,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},l=th(t),l.return=a,a.child=l,_t=a,We=null)):t=null,t===null)throw ps(a);return a.lanes=536870912,null}return wi(a,n)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(qo(a),o)if(a.flags&256)a.flags&=-257,a=vf(t,a,l);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(c(558));else if(ft||Bl(t,a,l,!1),o=(l&t.childLanes)!==0,ft||o){if(n=Pe,n!==null&&(g=cm(n,l),g!==0&&g!==d.retryLane))throw d.retryLane=g,Zs(t,g),Vt(n,t,g),sd;zi(),a=vf(t,a,l)}else t=d.treeContext,We=ua(g.nextSibling),_t=a,ze=!0,xs=null,oa=!1,t!==null&&lh(a,t),a=wi(a,n),a.flags|=4096;return a}return t=Xa(t.child,{mode:n.mode,children:n.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Si(t,a){var l=a.ref;if(l===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(c(284));(t===null||t.ref!==l)&&(a.flags|=4194816)}}function ld(t,a,l,n,o){return Is(a),l=Uo(t,a,l,n,void 0,o),n=Ho(),t!==null&&!ft?(Fo(t,a,o),Ia(t,a,o)):(ze&&n&&vo(a),a.flags|=1,St(t,a,l,o),a.child)}function bf(t,a,l,n,o,d){return Is(a),a.updateQueue=null,l=Nh(a,n,l,o),jh(t),n=Ho(),t!==null&&!ft?(Fo(t,a,d),Ia(t,a,d)):(ze&&n&&vo(a),a.flags|=1,St(t,a,l,d),a.child)}function jf(t,a,l,n,o){if(Is(a),a.stateNode===null){var d=Ll,g=l.contextType;typeof g=="object"&&g!==null&&(d=wt(g)),d=new l(n,d),a.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,a.stateNode=d,d._reactInternals=a,d=a.stateNode,d.props=n,d.state=a.memoizedState,d.refs={},Ao(a),g=l.contextType,d.context=typeof g=="object"&&g!==null?wt(g):Ll,d.state=a.memoizedState,g=l.getDerivedStateFromProps,typeof g=="function"&&(ed(a,l,g,n),d.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&td.enqueueReplaceState(d,d.state,null),Wn(a,n,d,o),Pn(),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(t===null){d=a.stateNode;var _=a.memoizedProps,A=nl(l,_);d.props=A;var V=d.context,I=l.contextType;g=Ll,typeof I=="object"&&I!==null&&(g=wt(I));var le=l.getDerivedStateFromProps;I=typeof le=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=a.pendingProps!==_,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||V!==g)&&rf(a,d,n,g),ys=!1;var Y=a.memoizedState;d.state=Y,Wn(a,n,d,o),Pn(),V=a.memoizedState,_||Y!==V||ys?(typeof le=="function"&&(ed(a,l,le,n),V=a.memoizedState),(A=ys||nf(a,l,A,n,Y,V,g))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(a.flags|=4194308)):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=V),d.props=n,d.state=V,d.context=g,n=A):(typeof d.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{d=a.stateNode,Do(t,a),g=a.memoizedProps,I=nl(l,g),d.props=I,le=a.pendingProps,Y=d.context,V=l.contextType,A=Ll,typeof V=="object"&&V!==null&&(A=wt(V)),_=l.getDerivedStateFromProps,(V=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==le||Y!==A)&&rf(a,d,n,A),ys=!1,Y=a.memoizedState,d.state=Y,Wn(a,n,d,o),Pn();var J=a.memoizedState;g!==le||Y!==J||ys||t!==null&&t.dependencies!==null&&ri(t.dependencies)?(typeof _=="function"&&(ed(a,l,_,n),J=a.memoizedState),(I=ys||nf(a,l,I,n,Y,J,A)||t!==null&&t.dependencies!==null&&ri(t.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,J,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,J,A)),typeof d.componentDidUpdate=="function"&&(a.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=J),d.props=n,d.state=J,d.context=A,n=I):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(a.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(a.flags|=1024),n=!1)}return d=n,Si(t,a),n=(a.flags&128)!==0,d||n?(d=a.stateNode,l=n&&typeof l.getDerivedStateFromError!="function"?null:d.render(),a.flags|=1,t!==null&&n?(a.child=sl(a,t.child,null,o),a.child=sl(a,null,l,o)):St(t,a,l,o),a.memoizedState=d.state,t=a.child):t=Ia(t,a,o),t}function Nf(t,a,l,n){return Ps(),a.flags|=256,St(t,a,l,n),a.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(t){return{baseLanes:t,cachePool:dh()}}function id(t,a,l){return t=t!==null?t.childLanes&~l:0,a&&(t|=ea),t}function _f(t,a,l){var n=a.pendingProps,o=!1,d=(a.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(ct.current&2)!==0),g&&(o=!0,a.flags&=-129),g=(a.flags&32)!==0,a.flags&=-33,t===null){if(ze){if(o?js(a):Ns(),(t=We)?(t=Dx(t,oa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:fs!==null?{id:Da,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},l=th(t),l.return=a,a.child=l,_t=a,We=null)):t=null,t===null)throw ps(a);return Vd(t)?a.lanes=32:a.lanes=536870912,null}var _=n.children;return n=n.fallback,o?(Ns(),o=a.mode,_=Ci({mode:"hidden",children:_},o),n=Js(n,o,l,null),_.return=a,n.return=a,_.sibling=n,a.child=_,n=a.child,n.memoizedState=rd(l),n.childLanes=id(t,g,l),a.memoizedState=nd,sr(null,n)):(js(a),cd(a,_))}var A=t.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(d)a.flags&256?(js(a),a.flags&=-257,a=od(t,a,l)):a.memoizedState!==null?(Ns(),a.child=t.child,a.flags|=128,a=null):(Ns(),_=n.fallback,o=a.mode,n=Ci({mode:"visible",children:n.children},o),_=Js(_,o,l,null),_.flags|=2,n.return=a,_.return=a,n.sibling=_,a.child=n,sl(a,t.child,null,l),n=a.child,n.memoizedState=rd(l),n.childLanes=id(t,g,l),a.memoizedState=nd,a=sr(null,n));else if(js(a),Vd(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var V=g.dgst;g=V,n=Error(c(419)),n.stack="",n.digest=g,Gn({value:n,source:null,stack:null}),a=od(t,a,l)}else if(ft||Bl(t,a,l,!1),g=(l&t.childLanes)!==0,ft||g){if(g=Pe,g!==null&&(n=cm(g,l),n!==0&&n!==A.retryLane))throw A.retryLane=n,Zs(t,n),Vt(g,t,n),sd;Qd(_)||zi(),a=od(t,a,l)}else Qd(_)?(a.flags|=192,a.child=t.child,a=null):(t=A.treeContext,We=ua(_.nextSibling),_t=a,ze=!0,xs=null,oa=!1,t!==null&&lh(a,t),a=cd(a,n.children),a.flags|=4096);return a}return o?(Ns(),_=n.fallback,o=a.mode,A=t.child,V=A.sibling,n=Xa(A,{mode:"hidden",children:n.children}),n.subtreeFlags=A.subtreeFlags&65011712,V!==null?_=Xa(V,_):(_=Js(_,o,l,null),_.flags|=2),_.return=a,n.return=a,n.sibling=_,a.child=n,sr(null,n),n=a.child,_=t.child.memoizedState,_===null?_=rd(l):(o=_.cachePool,o!==null?(A=mt._currentValue,o=o.parent!==A?{parent:A,pool:A}:o):o=dh(),_={baseLanes:_.baseLanes|l,cachePool:o}),n.memoizedState=_,n.childLanes=id(t,g,l),a.memoizedState=nd,sr(t.child,n)):(js(a),l=t.child,t=l.sibling,l=Xa(l,{mode:"visible",children:n.children}),l.return=a,l.sibling=null,t!==null&&(g=a.deletions,g===null?(a.deletions=[t],a.flags|=16):g.push(t)),a.child=l,a.memoizedState=null,l)}function cd(t,a){return a=Ci({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Ci(t,a){return t=Jt(22,t,null,a),t.lanes=0,t}function od(t,a,l){return sl(a,t.child,null,l),t=cd(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function wf(t,a,l){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a),wo(t.return,a,l)}function dd(t,a,l,n,o,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:l,tailMode:o,treeForkCount:d}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=n,g.tail=l,g.tailMode=o,g.treeForkCount=d)}function Sf(t,a,l){var n=a.pendingProps,o=n.revealOrder,d=n.tail;n=n.children;var g=ct.current,_=(g&2)!==0;if(_?(g=g&1|2,a.flags|=128):g&=1,ne(ct,g),St(t,a,n,l),n=ze?$n:0,!_&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wf(t,l,a);else if(t.tag===19)wf(t,l,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(o){case"forwards":for(l=a.child,o=null;l!==null;)t=l.alternate,t!==null&&fi(t)===null&&(o=l),l=l.sibling;l=o,l===null?(o=a.child,a.child=null):(o=l.sibling,l.sibling=null),dd(a,!1,o,l,d,n);break;case"backwards":case"unstable_legacy-backwards":for(l=null,o=a.child,a.child=null;o!==null;){if(t=o.alternate,t!==null&&fi(t)===null){a.child=o;break}t=o.sibling,o.sibling=l,l=o,o=t}dd(a,!0,l,null,d,n);break;case"together":dd(a,!1,null,null,void 0,n);break;default:a.memoizedState=null}return a.child}function Ia(t,a,l){if(t!==null&&(a.dependencies=t.dependencies),Ss|=a.lanes,(l&a.childLanes)===0)if(t!==null){if(Bl(t,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(c(153));if(a.child!==null){for(t=a.child,l=Xa(t,t.pendingProps),a.child=l,l.return=a;t.sibling!==null;)t=t.sibling,l=l.sibling=Xa(t,t.pendingProps),l.return=a;l.sibling=null}return a.child}function ud(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&ri(t)))}function Qy(t,a,l){switch(a.tag){case 3:Le(a,a.stateNode.containerInfo),gs(a,mt,t.memoizedState.cache),Ps();break;case 27:case 5:Va(a);break;case 4:Le(a,a.stateNode.containerInfo);break;case 10:gs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,qo(a),null;break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(js(a),a.flags|=128,null):(l&a.child.childLanes)!==0?_f(t,a,l):(js(a),t=Ia(t,a,l),t!==null?t.sibling:null);js(a);break;case 19:var o=(t.flags&128)!==0;if(n=(l&a.childLanes)!==0,n||(Bl(t,a,l,!1),n=(l&a.childLanes)!==0),o){if(n)return Sf(t,a,l);a.flags|=128}if(o=a.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(ct,ct.current),n)break;return null;case 22:return a.lanes=0,gf(t,a,l,a.pendingProps);case 24:gs(a,mt,t.memoizedState.cache)}return Ia(t,a,l)}function Cf(t,a,l){if(t!==null)if(t.memoizedProps!==a.pendingProps)ft=!0;else{if(!ud(t,l)&&(a.flags&128)===0)return ft=!1,Qy(t,a,l);ft=(t.flags&131072)!==0}else ft=!1,ze&&(a.flags&1048576)!==0&&sh(a,$n,a.index);switch(a.lanes=0,a.tag){case 16:e:{var n=a.pendingProps;if(t=tl(a.elementType),a.type=t,typeof t=="function")po(t)?(n=nl(t,n),a.tag=1,a=jf(null,a,t,n,l)):(a.tag=0,a=ld(null,a,t,n,l));else{if(t!=null){var o=t.$$typeof;if(o===H){a.tag=11,a=ff(null,a,t,n,l);break e}else if(o===P){a.tag=14,a=xf(null,a,t,n,l);break e}}throw a=te(t)||t,Error(c(306,a,""))}}return a;case 0:return ld(t,a,a.type,a.pendingProps,l);case 1:return n=a.type,o=nl(n,a.pendingProps),jf(t,a,n,o,l);case 3:e:{if(Le(a,a.stateNode.containerInfo),t===null)throw Error(c(387));n=a.pendingProps;var d=a.memoizedState;o=d.element,Do(t,a),Wn(a,n,null,l);var g=a.memoizedState;if(n=g.cache,gs(a,mt,n),n!==d.cache&&So(a,[mt],l,!0),Pn(),n=g.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:g.cache},a.updateQueue.baseState=d,a.memoizedState=d,a.flags&256){a=Nf(t,a,n,l);break e}else if(n!==o){o=ra(Error(c(424)),a),Gn(o),a=Nf(t,a,n,l);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(We=ua(t.firstChild),_t=a,ze=!0,xs=null,oa=!0,l=ph(a,null,n,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ps(),n===o){a=Ia(t,a,l);break e}St(t,a,n,l)}a=a.child}return a;case 26:return Si(t,a),t===null?(l=Lx(a.type,null,a.pendingProps,null))?a.memoizedState=l:ze||(l=a.type,t=a.pendingProps,n=Qi(he.current).createElement(l),n[Nt]=a,n[Lt]=t,Ct(n,l,t),bt(n),a.stateNode=n):a.memoizedState=Lx(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Va(a),t===null&&ze&&(n=a.stateNode=kx(a.type,a.pendingProps,he.current),_t=a,oa=!0,o=We,As(a.type)?($d=o,We=ua(n.firstChild)):We=o),St(t,a,a.pendingProps.children,l),Si(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&ze&&((o=n=We)&&(n=yv(n,a.type,a.pendingProps,oa),n!==null?(a.stateNode=n,_t=a,We=ua(n.firstChild),oa=!1,o=!0):o=!1),o||ps(a)),Va(a),o=a.type,d=a.pendingProps,g=t!==null?t.memoizedProps:null,n=d.children,Hd(o,d)?n=null:g!==null&&Hd(o,g)&&(a.flags|=32),a.memoizedState!==null&&(o=Uo(t,a,Oy,null,null,l),yr._currentValue=o),Si(t,a),St(t,a,n,l),a.child;case 6:return t===null&&ze&&((t=l=We)&&(l=vv(l,a.pendingProps,oa),l!==null?(a.stateNode=l,_t=a,We=null,t=!0):t=!1),t||ps(a)),null;case 13:return _f(t,a,l);case 4:return Le(a,a.stateNode.containerInfo),n=a.pendingProps,t===null?a.child=sl(a,null,n,l):St(t,a,n,l),a.child;case 11:return ff(t,a,a.type,a.pendingProps,l);case 7:return St(t,a,a.pendingProps,l),a.child;case 8:return St(t,a,a.pendingProps.children,l),a.child;case 12:return St(t,a,a.pendingProps.children,l),a.child;case 10:return n=a.pendingProps,gs(a,a.type,n.value),St(t,a,n.children,l),a.child;case 9:return o=a.type._context,n=a.pendingProps.children,Is(a),o=wt(o),n=n(o),a.flags|=1,St(t,a,n,l),a.child;case 14:return xf(t,a,a.type,a.pendingProps,l);case 15:return pf(t,a,a.type,a.pendingProps,l);case 19:return Sf(t,a,l);case 31:return By(t,a,l);case 22:return gf(t,a,l,a.pendingProps);case 24:return Is(a),n=wt(mt),t===null?(o=To(),o===null&&(o=Pe,d=Co(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=l),o=d),a.memoizedState={parent:n,cache:o},Ao(a),gs(a,mt,o)):((t.lanes&l)!==0&&(Do(t,a),Wn(a,null,null,l),Pn()),o=t.memoizedState,d=a.memoizedState,o.parent!==n?(o={parent:n,cache:n},a.memoizedState=o,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=o),gs(a,mt,n)):(n=d.cache,gs(a,mt,n),n!==o.cache&&So(a,[mt],l,!0))),St(t,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(c(156,a.tag))}function es(t){t.flags|=4}function md(t,a,l,n,o){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(o&335544128)===o)if(t.stateNode.complete)t.flags|=8192;else if(If())t.flags|=8192;else throw al=di,Mo}else t.flags&=-16777217}function Ef(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qx(a))if(If())t.flags|=8192;else throw al=di,Mo}function Ei(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?nm():536870912,t.lanes|=a,Il|=a)}function lr(t,a){if(!ze)switch(t.tailMode){case"hidden":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var n=null;l!==null;)l.alternate!==null&&(n=l),l=l.sibling;n===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ie(t){var a=t.alternate!==null&&t.alternate.child===t.child,l=0,n=0;if(a)for(var o=t.child;o!==null;)l|=o.lanes|o.childLanes,n|=o.subtreeFlags&65011712,n|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)l|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=n,t.childLanes=l,a}function Vy(t,a,l){var n=a.pendingProps;switch(bo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(a),null;case 1:return Ie(a),null;case 3:return l=a.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),Ja(mt),Fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Fl(a)?es(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,No())),Ie(a),null;case 26:var o=a.type,d=a.memoizedState;return t===null?(es(a),d!==null?(Ie(a),Ef(a,d)):(Ie(a),md(a,o,null,n,l))):d?d!==t.memoizedState?(es(a),Ie(a),Ef(a,d)):(Ie(a),a.flags&=-16777217):(t=t.memoizedProps,t!==n&&es(a),Ie(a),md(a,o,t,n,l)),null;case 27:if(Bs(a),l=he.current,o=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&es(a);else{if(!n){if(a.stateNode===null)throw Error(c(166));return Ie(a),null}t=X.current,Fl(a)?nh(a):(t=kx(o,n,l),a.stateNode=t,es(a))}return Ie(a),null;case 5:if(Bs(a),o=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&es(a);else{if(!n){if(a.stateNode===null)throw Error(c(166));return Ie(a),null}if(d=X.current,Fl(a))nh(a);else{var g=Qi(he.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof n.is=="string"?g.createElement("select",{is:n.is}):g.createElement("select"),n.multiple?d.multiple=!0:n.size&&(d.size=n.size);break;default:d=typeof n.is=="string"?g.createElement(o,{is:n.is}):g.createElement(o)}}d[Nt]=a,d[Lt]=n;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=d;e:switch(Ct(d,o,n),o){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&es(a)}}return Ie(a),md(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,l),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==n&&es(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(c(166));if(t=he.current,Fl(a)){if(t=a.stateNode,l=a.memoizedProps,n=null,o=_t,o!==null)switch(o.tag){case 27:case 5:n=o.memoizedProps}t[Nt]=a,t=!!(t.nodeValue===l||n!==null&&n.suppressHydrationWarning===!0||_x(t.nodeValue,l)),t||ps(a,!0)}else t=Qi(t).createTextNode(n),t[Nt]=a,a.stateNode=t}return Ie(a),null;case 31:if(l=a.memoizedState,t===null||t.memoizedState!==null){if(n=Fl(a),l!==null){if(t===null){if(!n)throw Error(c(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(557));t[Nt]=a}else Ps(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ie(a),t=!1}else l=No(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return a.flags&256?(Wt(a),a):(Wt(a),null);if((a.flags&128)!==0)throw Error(c(558))}return Ie(a),null;case 13:if(n=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Fl(a),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(c(318));if(o=a.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[Nt]=a}else Ps(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ie(a),o=!1}else o=No(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return a.flags&256?(Wt(a),a):(Wt(a),null)}return Wt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=n!==null,t=t!==null&&t.memoizedState!==null,l&&(n=a.child,o=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(o=n.alternate.memoizedState.cachePool.pool),d=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==o&&(n.flags|=2048)),l!==t&&l&&(a.child.flags|=8192),Ei(a,a.updateQueue),Ie(a),null);case 4:return Fe(),t===null&&kd(a.stateNode.containerInfo),Ie(a),null;case 10:return Ja(a.type),Ie(a),null;case 19:if(D(ct),n=a.memoizedState,n===null)return Ie(a),null;if(o=(a.flags&128)!==0,d=n.rendering,d===null)if(o)lr(n,!1);else{if(rt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(d=fi(t),d!==null){for(a.flags|=128,lr(n,!1),t=d.updateQueue,a.updateQueue=t,Ei(a,t),a.subtreeFlags=0,t=l,l=a.child;l!==null;)eh(l,t),l=l.sibling;return ne(ct,ct.current&1|2),ze&&Ka(a,n.treeForkCount),a.child}t=t.sibling}n.tail!==null&&kt()>Ri&&(a.flags|=128,o=!0,lr(n,!1),a.lanes=4194304)}else{if(!o)if(t=fi(d),t!==null){if(a.flags|=128,o=!0,t=t.updateQueue,a.updateQueue=t,Ei(a,t),lr(n,!0),n.tail===null&&n.tailMode==="hidden"&&!d.alternate&&!ze)return Ie(a),null}else 2*kt()-n.renderingStartTime>Ri&&l!==536870912&&(a.flags|=128,o=!0,lr(n,!1),a.lanes=4194304);n.isBackwards?(d.sibling=a.child,a.child=d):(t=n.last,t!==null?t.sibling=d:a.child=d,n.last=d)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=kt(),t.sibling=null,l=ct.current,ne(ct,o?l&1|2:l&1),ze&&Ka(a,n.treeForkCount),t):(Ie(a),null);case 22:case 23:return Wt(a),zo(),n=a.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(l&536870912)!==0&&(a.flags&128)===0&&(Ie(a),a.subtreeFlags&6&&(a.flags|=8192)):Ie(a),l=a.updateQueue,l!==null&&Ei(a,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(a.flags|=2048),t!==null&&D(el),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ja(mt),Ie(a),null;case 25:return null;case 30:return null}throw Error(c(156,a.tag))}function $y(t,a){switch(bo(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ja(mt),Fe(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Bs(a),null;case 31:if(a.memoizedState!==null){if(Wt(a),a.alternate===null)throw Error(c(340));Ps()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Wt(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(c(340));Ps()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return D(ct),null;case 4:return Fe(),null;case 10:return Ja(a.type),null;case 22:case 23:return Wt(a),zo(),t!==null&&D(el),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ja(mt),null;case 25:return null;default:return null}}function Tf(t,a){switch(bo(a),a.tag){case 3:Ja(mt),Fe();break;case 26:case 27:case 5:Bs(a);break;case 4:Fe();break;case 31:a.memoizedState!==null&&Wt(a);break;case 13:Wt(a);break;case 19:D(ct);break;case 10:Ja(a.type);break;case 22:case 23:Wt(a),zo(),t!==null&&D(el);break;case 24:Ja(mt)}}function nr(t,a){try{var l=a.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var o=n.next;l=o;do{if((l.tag&t)===t){n=void 0;var d=l.create,g=l.inst;n=d(),g.destroy=n}l=l.next}while(l!==o)}}catch(_){$e(a,a.return,_)}}function _s(t,a,l){try{var n=a.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var d=o.next;n=d;do{if((n.tag&t)===t){var g=n.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,o=a;var A=l,V=_;try{V()}catch(I){$e(o,A,I)}}}n=n.next}while(n!==d)}}catch(I){$e(a,a.return,I)}}function Mf(t){var a=t.updateQueue;if(a!==null){var l=t.stateNode;try{yh(a,l)}catch(n){$e(t,t.return,n)}}}function Af(t,a,l){l.props=nl(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(n){$e(t,a,n)}}function rr(t,a){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof l=="function"?t.refCleanup=l(n):l.current=n}}catch(o){$e(t,a,o)}}function Oa(t,a){var l=t.ref,n=t.refCleanup;if(l!==null)if(typeof n=="function")try{n()}catch(o){$e(t,a,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(o){$e(t,a,o)}else l.current=null}function Df(t){var a=t.type,l=t.memoizedProps,n=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break e;case"img":l.src?n.src=l.src:l.srcSet&&(n.srcset=l.srcSet)}}catch(o){$e(t,t.return,o)}}function hd(t,a,l){try{var n=t.stateNode;mv(n,t.type,l,a),n[Lt]=a}catch(o){$e(t,t.return,o)}}function Rf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&As(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&As(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,a,l){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(t),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Ga));else if(n!==4&&(n===27&&As(t.type)&&(l=t.stateNode,a=null),t=t.child,t!==null))for(xd(t,a,l),t=t.sibling;t!==null;)xd(t,a,l),t=t.sibling}function Ti(t,a,l){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?l.insertBefore(t,a):l.appendChild(t);else if(n!==4&&(n===27&&As(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Ti(t,a,l),t=t.sibling;t!==null;)Ti(t,a,l),t=t.sibling}function Of(t){var a=t.stateNode,l=t.memoizedProps;try{for(var n=t.type,o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Ct(a,n,l),a[Nt]=t,a[Lt]=l}catch(d){$e(t,t.return,d)}}var ts=!1,xt=!1,pd=!1,kf=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Gy(t,a){if(t=t.containerInfo,Ld=Zi,t=Gm(t),co(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var n=l.getSelection&&l.getSelection();if(n&&n.rangeCount!==0){l=n.anchorNode;var o=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{l.nodeType,d.nodeType}catch{l=null;break e}var g=0,_=-1,A=-1,V=0,I=0,le=t,Y=null;t:for(;;){for(var J;le!==l||o!==0&&le.nodeType!==3||(_=g+o),le!==d||n!==0&&le.nodeType!==3||(A=g+n),le.nodeType===3&&(g+=le.nodeValue.length),(J=le.firstChild)!==null;)Y=le,le=J;for(;;){if(le===t)break t;if(Y===l&&++V===o&&(_=g),Y===d&&++I===n&&(A=g),(J=le.nextSibling)!==null)break;le=Y,Y=le.parentNode}le=J}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ud={focusedElem:t,selectionRange:l},Zi=!1,jt=a;jt!==null;)if(a=jt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,jt=t;else for(;jt!==null;){switch(a=jt,d=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)o=t[l],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,l=a,o=d.memoizedProps,d=d.memoizedState,n=l.stateNode;try{var ye=nl(l.type,o);t=n.getSnapshotBeforeUpdate(ye,d),n.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(l,l.return,_e)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,l=t.nodeType,l===9)Bd(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=a.sibling,t!==null){t.return=a.return,jt=t;break}jt=a.return}}function zf(t,a,l){var n=l.flags;switch(l.tag){case 0:case 11:case 15:ss(t,l),n&4&&nr(5,l);break;case 1:if(ss(t,l),n&4)if(t=l.stateNode,a===null)try{t.componentDidMount()}catch(g){$e(l,l.return,g)}else{var o=nl(l.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(o,a,t.__reactInternalSnapshotBeforeUpdate)}catch(g){$e(l,l.return,g)}}n&64&&Mf(l),n&512&&rr(l,l.return);break;case 3:if(ss(t,l),n&64&&(t=l.updateQueue,t!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{yh(t,a)}catch(g){$e(l,l.return,g)}}break;case 27:a===null&&n&4&&Of(l);case 26:case 5:ss(t,l),a===null&&n&4&&Df(l),n&512&&rr(l,l.return);break;case 12:ss(t,l);break;case 31:ss(t,l),n&4&&Uf(t,l);break;case 13:ss(t,l),n&4&&Hf(t,l),n&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=ev.bind(null,l),bv(t,l))));break;case 22:if(n=l.memoizedState!==null||ts,!n){a=a!==null&&a.memoizedState!==null||xt,o=ts;var d=xt;ts=n,(xt=a)&&!d?ls(t,l,(l.subtreeFlags&8772)!==0):ss(t,l),ts=o,xt=d}break;case 30:break;default:ss(t,l)}}function qf(t){var a=t.alternate;a!==null&&(t.alternate=null,qf(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Gc(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,Ht=!1;function as(t,a,l){for(l=l.child;l!==null;)Lf(t,a,l),l=l.sibling}function Lf(t,a,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(An,l)}catch{}switch(l.tag){case 26:xt||Oa(l,a),as(t,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xt||Oa(l,a);var n=at,o=Ht;As(l.type)&&(at=l.stateNode,Ht=!1),as(t,a,l),xr(l.stateNode),at=n,Ht=o;break;case 5:xt||Oa(l,a);case 6:if(n=at,o=Ht,at=null,as(t,a,l),at=n,Ht=o,at!==null)if(Ht)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(l.stateNode)}catch(d){$e(l,a,d)}else try{at.removeChild(l.stateNode)}catch(d){$e(l,a,d)}break;case 18:at!==null&&(Ht?(t=at,Mx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),cn(t)):Mx(at,l.stateNode));break;case 4:n=at,o=Ht,at=l.stateNode.containerInfo,Ht=!0,as(t,a,l),at=n,Ht=o;break;case 0:case 11:case 14:case 15:_s(2,l,a),xt||_s(4,l,a),as(t,a,l);break;case 1:xt||(Oa(l,a),n=l.stateNode,typeof n.componentWillUnmount=="function"&&Af(l,a,n)),as(t,a,l);break;case 21:as(t,a,l);break;case 22:xt=(n=xt)||l.memoizedState!==null,as(t,a,l),xt=n;break;default:as(t,a,l)}}function Uf(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cn(t)}catch(l){$e(a,a.return,l)}}}function Hf(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cn(t)}catch(l){$e(a,a.return,l)}}function Yy(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new kf),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new kf),a;default:throw Error(c(435,t.tag))}}function Mi(t,a){var l=Yy(t);a.forEach(function(n){if(!l.has(n)){l.add(n);var o=tv.bind(null,t,n);n.then(o,o)}})}function Ft(t,a){var l=a.deletions;if(l!==null)for(var n=0;n<l.length;n++){var o=l[n],d=t,g=a,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(As(_.type)){at=_.stateNode,Ht=!1;break e}break;case 5:at=_.stateNode,Ht=!1;break e;case 3:case 4:at=_.stateNode.containerInfo,Ht=!0;break e}_=_.return}if(at===null)throw Error(c(160));Lf(d,g,o),at=null,Ht=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ff(a,t),a=a.sibling}var va=null;function Ff(t,a){var l=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ft(a,t),Bt(t),n&4&&(_s(3,t,t.return),nr(3,t),_s(5,t,t.return));break;case 1:Ft(a,t),Bt(t),n&512&&(xt||l===null||Oa(l,l.return)),n&64&&ts&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?n:l.concat(n))));break;case 26:var o=va;if(Ft(a,t),Bt(t),n&512&&(xt||l===null||Oa(l,l.return)),n&4){var d=l!==null?l.memoizedState:null;if(n=t.memoizedState,l===null)if(n===null)if(t.stateNode===null){e:{n=t.type,l=t.memoizedProps,o=o.ownerDocument||o;t:switch(n){case"title":d=o.getElementsByTagName("title")[0],(!d||d[On]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(n),o.head.insertBefore(d,o.querySelector("head > title"))),Ct(d,n,l),d[Nt]=t,bt(d),n=d;break e;case"link":var g=Fx("link","href",o).get(n+(l.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&d.getAttribute("rel")===(l.rel==null?null:l.rel)&&d.getAttribute("title")===(l.title==null?null:l.title)&&d.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){g.splice(_,1);break t}}d=o.createElement(n),Ct(d,n,l),o.head.appendChild(d);break;case"meta":if(g=Fx("meta","content",o).get(n+(l.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(l.content==null?null:""+l.content)&&d.getAttribute("name")===(l.name==null?null:l.name)&&d.getAttribute("property")===(l.property==null?null:l.property)&&d.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&d.getAttribute("charset")===(l.charSet==null?null:l.charSet)){g.splice(_,1);break t}}d=o.createElement(n),Ct(d,n,l),o.head.appendChild(d);break;default:throw Error(c(468,n))}d[Nt]=t,bt(d),n=d}t.stateNode=n}else Bx(o,t.type,t.stateNode);else t.stateNode=Hx(o,n,t.memoizedProps);else d!==n?(d===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):d.count--,n===null?Bx(o,t.type,t.stateNode):Hx(o,n,t.memoizedProps)):n===null&&t.stateNode!==null&&hd(t,t.memoizedProps,l.memoizedProps)}break;case 27:Ft(a,t),Bt(t),n&512&&(xt||l===null||Oa(l,l.return)),l!==null&&n&4&&hd(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Ft(a,t),Bt(t),n&512&&(xt||l===null||Oa(l,l.return)),t.flags&32){o=t.stateNode;try{Al(o,"")}catch(ye){$e(t,t.return,ye)}}n&4&&t.stateNode!=null&&(o=t.memoizedProps,hd(t,o,l!==null?l.memoizedProps:o)),n&1024&&(pd=!0);break;case 6:if(Ft(a,t),Bt(t),n&4){if(t.stateNode===null)throw Error(c(162));n=t.memoizedProps,l=t.stateNode;try{l.nodeValue=n}catch(ye){$e(t,t.return,ye)}}break;case 3:if(Gi=null,o=va,va=Vi(a.containerInfo),Ft(a,t),va=o,Bt(t),n&4&&l!==null&&l.memoizedState.isDehydrated)try{cn(a.containerInfo)}catch(ye){$e(t,t.return,ye)}pd&&(pd=!1,Bf(t));break;case 4:n=va,va=Vi(t.stateNode.containerInfo),Ft(a,t),Bt(t),va=n;break;case 12:Ft(a,t),Bt(t);break;case 31:Ft(a,t),Bt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Mi(t,n)));break;case 13:Ft(a,t),Bt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Di=kt()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Mi(t,n)));break;case 22:o=t.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,V=ts,I=xt;if(ts=V||o,xt=I||A,Ft(a,t),xt=I,ts=V,Bt(t),n&8192)e:for(a=t.stateNode,a._visibility=o?a._visibility&-2:a._visibility|1,o&&(l===null||A||ts||xt||rl(t)),l=null,a=t;;){if(a.tag===5||a.tag===26){if(l===null){A=l=a;try{if(d=A.stateNode,o)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=A.stateNode;var le=A.memoizedProps.style,Y=le!=null&&le.hasOwnProperty("display")?le.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){$e(A,A.return,ye)}}}else if(a.tag===6){if(l===null){A=a;try{A.stateNode.nodeValue=o?"":A.memoizedProps}catch(ye){$e(A,A.return,ye)}}}else if(a.tag===18){if(l===null){A=a;try{var J=A.stateNode;o?Ax(J,!0):Ax(A.stateNode,!1)}catch(ye){$e(A,A.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=t.updateQueue,n!==null&&(l=n.retryQueue,l!==null&&(n.retryQueue=null,Mi(t,l))));break;case 19:Ft(a,t),Bt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Mi(t,n)));break;case 30:break;case 21:break;default:Ft(a,t),Bt(t)}}function Bt(t){var a=t.flags;if(a&2){try{for(var l,n=t.return;n!==null;){if(Rf(n)){l=n;break}n=n.return}if(l==null)throw Error(c(160));switch(l.tag){case 27:var o=l.stateNode,d=fd(t);Ti(t,d,o);break;case 5:var g=l.stateNode;l.flags&32&&(Al(g,""),l.flags&=-33);var _=fd(t);Ti(t,_,g);break;case 3:case 4:var A=l.stateNode.containerInfo,V=fd(t);xd(t,V,A);break;default:throw Error(c(161))}}catch(I){$e(t,t.return,I)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Bf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Bf(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ss(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)zf(t,a.alternate,a),a=a.sibling}function rl(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:_s(4,a,a.return),rl(a);break;case 1:Oa(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Af(a,a.return,l),rl(a);break;case 27:xr(a.stateNode);case 26:case 5:Oa(a,a.return),rl(a);break;case 22:a.memoizedState===null&&rl(a);break;case 30:rl(a);break;default:rl(a)}t=t.sibling}}function ls(t,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,o=t,d=a,g=d.flags;switch(d.tag){case 0:case 11:case 15:ls(o,d,l),nr(4,d);break;case 1:if(ls(o,d,l),n=d,o=n.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(V){$e(n,n.return,V)}if(n=d,o=n.updateQueue,o!==null){var _=n.stateNode;try{var A=o.shared.hiddenCallbacks;if(A!==null)for(o.shared.hiddenCallbacks=null,o=0;o<A.length;o++)gh(A[o],_)}catch(V){$e(n,n.return,V)}}l&&g&64&&Mf(d),rr(d,d.return);break;case 27:Of(d);case 26:case 5:ls(o,d,l),l&&n===null&&g&4&&Df(d),rr(d,d.return);break;case 12:ls(o,d,l);break;case 31:ls(o,d,l),l&&g&4&&Uf(o,d);break;case 13:ls(o,d,l),l&&g&4&&Hf(o,d);break;case 22:d.memoizedState===null&&ls(o,d,l),rr(d,d.return);break;case 30:break;default:ls(o,d,l)}a=a.sibling}}function gd(t,a){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Yn(l))}function yd(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Yn(t))}function ba(t,a,l,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qf(t,a,l,n),a=a.sibling}function Qf(t,a,l,n){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ba(t,a,l,n),o&2048&&nr(9,a);break;case 1:ba(t,a,l,n);break;case 3:ba(t,a,l,n),o&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Yn(t)));break;case 12:if(o&2048){ba(t,a,l,n),t=a.stateNode;try{var d=a.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){$e(a,a.return,A)}}else ba(t,a,l,n);break;case 31:ba(t,a,l,n);break;case 13:ba(t,a,l,n);break;case 23:break;case 22:d=a.stateNode,g=a.alternate,a.memoizedState!==null?d._visibility&2?ba(t,a,l,n):ir(t,a):d._visibility&2?ba(t,a,l,n):(d._visibility|=2,Jl(t,a,l,n,(a.subtreeFlags&10256)!==0||!1)),o&2048&&gd(g,a);break;case 24:ba(t,a,l,n),o&2048&&yd(a.alternate,a);break;default:ba(t,a,l,n)}}function Jl(t,a,l,n,o){for(o=o&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var d=t,g=a,_=l,A=n,V=g.flags;switch(g.tag){case 0:case 11:case 15:Jl(d,g,_,A,o),nr(8,g);break;case 23:break;case 22:var I=g.stateNode;g.memoizedState!==null?I._visibility&2?Jl(d,g,_,A,o):ir(d,g):(I._visibility|=2,Jl(d,g,_,A,o)),o&&V&2048&&gd(g.alternate,g);break;case 24:Jl(d,g,_,A,o),o&&V&2048&&yd(g.alternate,g);break;default:Jl(d,g,_,A,o)}a=a.sibling}}function ir(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=t,n=a,o=n.flags;switch(n.tag){case 22:ir(l,n),o&2048&&gd(n.alternate,n);break;case 24:ir(l,n),o&2048&&yd(n.alternate,n);break;default:ir(l,n)}a=a.sibling}}var cr=8192;function Pl(t,a,l){if(t.subtreeFlags&cr)for(t=t.child;t!==null;)Vf(t,a,l),t=t.sibling}function Vf(t,a,l){switch(t.tag){case 26:Pl(t,a,l),t.flags&cr&&t.memoizedState!==null&&Rv(l,va,t.memoizedState,t.memoizedProps);break;case 5:Pl(t,a,l);break;case 3:case 4:var n=va;va=Vi(t.stateNode.containerInfo),Pl(t,a,l),va=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=cr,cr=16777216,Pl(t,a,l),cr=n):Pl(t,a,l));break;default:Pl(t,a,l)}}function $f(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function or(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var n=a[l];jt=n,Yf(n,t)}$f(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gf(t),t=t.sibling}function Gf(t){switch(t.tag){case 0:case 11:case 15:or(t),t.flags&2048&&_s(9,t,t.return);break;case 3:or(t);break;case 12:or(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Ai(t)):or(t);break;default:or(t)}}function Ai(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var n=a[l];jt=n,Yf(n,t)}$f(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:_s(8,a,a.return),Ai(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ai(a));break;default:Ai(a)}t=t.sibling}}function Yf(t,a){for(;jt!==null;){var l=jt;switch(l.tag){case 0:case 11:case 15:_s(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var n=l.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Yn(l.memoizedState.cache)}if(n=l.child,n!==null)n.return=l,jt=n;else e:for(l=t;jt!==null;){n=jt;var o=n.sibling,d=n.return;if(qf(n),n===l){jt=null;break e}if(o!==null){o.return=d,jt=o;break e}jt=d}}}var Xy={getCacheForType:function(t){var a=wt(mt),l=a.data.get(t);return l===void 0&&(l=t(),a.data.set(t,l)),l},cacheSignal:function(){return wt(mt).controller.signal}},Ky=typeof WeakMap=="function"?WeakMap:Map,Be=0,Pe=null,De=null,Oe=0,Ve=0,It=null,ws=!1,Wl=!1,vd=!1,ns=0,rt=0,Ss=0,il=0,bd=0,ea=0,Il=0,dr=null,Qt=null,jd=!1,Di=0,Xf=0,Ri=1/0,Oi=null,Cs=null,gt=0,Es=null,en=null,rs=0,Nd=0,_d=null,Kf=null,ur=0,wd=null;function ta(){return(Be&2)!==0&&Oe!==0?Oe&-Oe:M.T!==null?Ad():om()}function Zf(){if(ea===0)if((Oe&536870912)===0||ze){var t=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),ea=t}else ea=536870912;return t=Pt.current,t!==null&&(t.flags|=32),ea}function Vt(t,a,l){(t===Pe&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(tn(t,0),Ts(t,Oe,ea,!1)),Rn(t,l),((Be&2)===0||t!==Pe)&&(t===Pe&&((Be&2)===0&&(il|=l),rt===4&&Ts(t,Oe,ea,!1)),ka(t))}function Jf(t,a,l){if((Be&6)!==0)throw Error(c(327));var n=!l&&(a&127)===0&&(a&t.expiredLanes)===0||Dn(t,a),o=n?Py(t,a):Cd(t,a,!0),d=n;do{if(o===0){Wl&&!n&&Ts(t,a,0,!1);break}else{if(l=t.current.alternate,d&&!Zy(l)){o=Cd(t,a,!1),d=!1;continue}if(o===2){if(d=a,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){a=g;e:{var _=t;o=dr;var A=_.current.memoizedState.isDehydrated;if(A&&(tn(_,g).flags|=256),g=Cd(_,g,!1),g!==2){if(vd&&!A){_.errorRecoveryDisabledLanes|=d,il|=d,o=4;break e}d=Qt,Qt=o,d!==null&&(Qt===null?Qt=d:Qt.push.apply(Qt,d))}o=g}if(d=!1,o!==2)continue}}if(o===1){tn(t,0),Ts(t,a,0,!0);break}e:{switch(n=t,d=o,d){case 0:case 1:throw Error(c(345));case 4:if((a&4194048)!==a)break;case 6:Ts(n,a,ea,!ws);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((a&62914560)===a&&(o=Di+300-kt(),10<o)){if(Ts(n,a,ea,!ws),Vr(n,0,!0)!==0)break e;rs=a,n.timeoutHandle=Ex(Pf.bind(null,n,l,Qt,Oi,jd,a,ea,il,Il,ws,d,"Throttled",-0,0),o);break e}Pf(n,l,Qt,Oi,jd,a,ea,il,Il,ws,d,null,-0,0)}}break}while(!0);ka(t)}function Pf(t,a,l,n,o,d,g,_,A,V,I,le,Y,J){if(t.timeoutHandle=-1,le=a.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},Vf(a,d,le);var ye=(d&62914560)===d?Di-kt():(d&4194048)===d?Xf-kt():0;if(ye=Ov(le,ye),ye!==null){rs=d,t.cancelPendingCommit=ye(nx.bind(null,t,a,d,l,n,o,g,_,A,I,le,null,Y,J)),Ts(t,d,g,!V);return}}nx(t,a,d,l,n,o,g,_,A)}function Zy(t){for(var a=t;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var n=0;n<l.length;n++){var o=l[n],d=o.getSnapshot;o=o.value;try{if(!Zt(d(),o))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(t,a,l,n){a&=~bd,a&=~il,t.suspendedLanes|=a,t.pingedLanes&=~a,n&&(t.warmLanes|=a),n=t.expirationTimes;for(var o=a;0<o;){var d=31-Kt(o),g=1<<d;n[d]=-1,o&=~g}l!==0&&rm(t,l,a)}function ki(){return(Be&6)===0?(mr(0),!1):!0}function Sd(){if(De!==null){if(Ve===0)var t=De.return;else t=De,Za=Ws=null,Bo(t),Gl=null,Kn=0,t=De;for(;t!==null;)Tf(t.alternate,t),t=t.return;De=null}}function tn(t,a){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,xv(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),rs=0,Sd(),Pe=t,De=l=Xa(t.current,null),Oe=a,Ve=0,It=null,ws=!1,Wl=Dn(t,a),vd=!1,Il=ea=bd=il=Ss=rt=0,Qt=dr=null,jd=!1,(a&8)!==0&&(a|=a&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=a;0<n;){var o=31-Kt(n),d=1<<o;a|=t[o],n&=~d}return ns=a,ti(),l}function Wf(t,a){Se=null,M.H=ar,a===$l||a===oi?(a=hh(),Ve=3):a===Mo?(a=hh(),Ve=4):Ve=a===sd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,It=a,De===null&&(rt=1,_i(t,ra(a,t.current)))}function If(){var t=Pt.current;return t===null?!0:(Oe&4194048)===Oe?da===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===da:!1}function ex(){var t=M.H;return M.H=ar,t===null?ar:t}function tx(){var t=M.A;return M.A=Xy,t}function zi(){rt=4,ws||(Oe&4194048)!==Oe&&Pt.current!==null||(Wl=!0),(Ss&134217727)===0&&(il&134217727)===0||Pe===null||Ts(Pe,Oe,ea,!1)}function Cd(t,a,l){var n=Be;Be|=2;var o=ex(),d=tx();(Pe!==t||Oe!==a)&&(Oi=null,tn(t,a)),a=!1;var g=rt;e:do try{if(Ve!==0&&De!==null){var _=De,A=It;switch(Ve){case 8:Sd(),g=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(a=!0);var V=Ve;if(Ve=0,It=null,an(t,_,A,V),l&&Wl){g=0;break e}break;default:V=Ve,Ve=0,It=null,an(t,_,A,V)}}Jy(),g=rt;break}catch(I){Wf(t,I)}while(!0);return a&&t.shellSuspendCounter++,Za=Ws=null,Be=n,M.H=o,M.A=d,De===null&&(Pe=null,Oe=0,ti()),g}function Jy(){for(;De!==null;)ax(De)}function Py(t,a){var l=Be;Be|=2;var n=ex(),o=tx();Pe!==t||Oe!==a?(Oi=null,Ri=kt()+500,tn(t,a)):Wl=Dn(t,a);e:do try{if(Ve!==0&&De!==null){a=De;var d=It;t:switch(Ve){case 1:Ve=0,It=null,an(t,a,d,1);break;case 2:case 9:if(uh(d)){Ve=0,It=null,sx(a);break}a=function(){Ve!==2&&Ve!==9||Pe!==t||(Ve=7),ka(t)},d.then(a,a);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:uh(d)?(Ve=0,It=null,sx(a)):(Ve=0,It=null,an(t,a,d,7));break;case 5:var g=null;switch(De.tag){case 26:g=De.memoizedState;case 5:case 27:var _=De;if(g?Qx(g):_.stateNode.complete){Ve=0,It=null;var A=_.sibling;if(A!==null)De=A;else{var V=_.return;V!==null?(De=V,qi(V)):De=null}break t}}Ve=0,It=null,an(t,a,d,5);break;case 6:Ve=0,It=null,an(t,a,d,6);break;case 8:Sd(),rt=6;break e;default:throw Error(c(462))}}Wy();break}catch(I){Wf(t,I)}while(!0);return Za=Ws=null,M.H=n,M.A=o,Be=l,De!==null?0:(Pe=null,Oe=0,ti(),rt)}function Wy(){for(;De!==null&&!Uc();)ax(De)}function ax(t){var a=Cf(t.alternate,t,ns);t.memoizedProps=t.pendingProps,a===null?qi(t):De=a}function sx(t){var a=t,l=a.alternate;switch(a.tag){case 15:case 0:a=bf(l,a,a.pendingProps,a.type,void 0,Oe);break;case 11:a=bf(l,a,a.pendingProps,a.type.render,a.ref,Oe);break;case 5:Bo(a);default:Tf(l,a),a=De=eh(a,ns),a=Cf(l,a,ns)}t.memoizedProps=t.pendingProps,a===null?qi(t):De=a}function an(t,a,l,n){Za=Ws=null,Bo(a),Gl=null,Kn=0;var o=a.return;try{if(Fy(t,o,a,l,Oe)){rt=1,_i(t,ra(l,t.current)),De=null;return}}catch(d){if(o!==null)throw De=o,d;rt=1,_i(t,ra(l,t.current)),De=null;return}a.flags&32768?(ze||n===1?t=!0:Wl||(Oe&536870912)!==0?t=!1:(ws=t=!0,(n===2||n===9||n===3||n===6)&&(n=Pt.current,n!==null&&n.tag===13&&(n.flags|=16384))),lx(a,t)):qi(a)}function qi(t){var a=t;do{if((a.flags&32768)!==0){lx(a,ws);return}t=a.return;var l=Vy(a.alternate,a,ns);if(l!==null){De=l;return}if(a=a.sibling,a!==null){De=a;return}De=a=t}while(a!==null);rt===0&&(rt=5)}function lx(t,a){do{var l=$y(t.alternate,t);if(l!==null){l.flags&=32767,De=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(t=t.sibling,t!==null)){De=t;return}De=t=l}while(t!==null);rt=6,De=null}function nx(t,a,l,n,o,d,g,_,A){t.cancelPendingCommit=null;do Li();while(gt!==0);if((Be&6)!==0)throw Error(c(327));if(a!==null){if(a===t.current)throw Error(c(177));if(d=a.lanes|a.childLanes,d|=fo,Dg(t,l,d,g,_,A),t===Pe&&(De=Pe=null,Oe=0),en=a,Es=t,rs=l,Nd=d,_d=o,Kf=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,av(me,function(){return dx(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=M.T,M.T=null,o=ae.p,ae.p=2,g=Be,Be|=4;try{Gy(t,a,l)}finally{Be=g,ae.p=o,M.T=n}}gt=1,rx(),ix(),cx()}}function rx(){if(gt===1){gt=0;var t=Es,a=en,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var n=ae.p;ae.p=2;var o=Be;Be|=4;try{Ff(a,t);var d=Ud,g=Gm(t.containerInfo),_=d.focusedElem,A=d.selectionRange;if(g!==_&&_&&_.ownerDocument&&$m(_.ownerDocument.documentElement,_)){if(A!==null&&co(_)){var V=A.start,I=A.end;if(I===void 0&&(I=V),"selectionStart"in _)_.selectionStart=V,_.selectionEnd=Math.min(I,_.value.length);else{var le=_.ownerDocument||document,Y=le&&le.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),ye=_.textContent.length,_e=Math.min(A.start,ye),Ze=A.end===void 0?_e:Math.min(A.end,ye);!J.extend&&_e>Ze&&(g=Ze,Ze=_e,_e=g);var L=Vm(_,_e),R=Vm(_,Ze);if(L&&R&&(J.rangeCount!==1||J.anchorNode!==L.node||J.anchorOffset!==L.offset||J.focusNode!==R.node||J.focusOffset!==R.offset)){var B=le.createRange();B.setStart(L.node,L.offset),J.removeAllRanges(),_e>Ze?(J.addRange(B),J.extend(R.node,R.offset)):(B.setEnd(R.node,R.offset),J.addRange(B))}}}}for(le=[],J=_;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<le.length;_++){var se=le[_];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zi=!!Ld,Ud=Ld=null}finally{Be=o,ae.p=n,M.T=l}}t.current=a,gt=2}}function ix(){if(gt===2){gt=0;var t=Es,a=en,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var n=ae.p;ae.p=2;var o=Be;Be|=4;try{zf(t,a.alternate,a)}finally{Be=o,ae.p=n,M.T=l}}gt=3}}function cx(){if(gt===4||gt===3){gt=0,Hc();var t=Es,a=en,l=rs,n=Kf;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gt=5:(gt=0,en=Es=null,ox(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Cs=null),Vc(l),a=a.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(An,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=M.T,o=ae.p,ae.p=2,M.T=null;try{for(var d=t.onRecoverableError,g=0;g<n.length;g++){var _=n[g];d(_.value,{componentStack:_.stack})}}finally{M.T=a,ae.p=o}}(rs&3)!==0&&Li(),ka(t),o=t.pendingLanes,(l&261930)!==0&&(o&42)!==0?t===wd?ur++:(ur=0,wd=t):ur=0,mr(0)}}function ox(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Yn(a)))}function Li(){return rx(),ix(),cx(),dx()}function dx(){if(gt!==5)return!1;var t=Es,a=Nd;Nd=0;var l=Vc(rs),n=M.T,o=ae.p;try{ae.p=32>l?32:l,M.T=null,l=_d,_d=null;var d=Es,g=rs;if(gt=0,en=Es=null,rs=0,(Be&6)!==0)throw Error(c(331));var _=Be;if(Be|=4,Gf(d.current),Qf(d,d.current,g,l),Be=_,mr(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(An,d)}catch{}return!0}finally{ae.p=o,M.T=n,ox(t,a)}}function ux(t,a,l){a=ra(l,a),a=ad(t.stateNode,a,2),t=bs(t,a,2),t!==null&&(Rn(t,2),ka(t))}function $e(t,a,l){if(t.tag===3)ux(t,t,l);else for(;a!==null;){if(a.tag===3){ux(a,t,l);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cs===null||!Cs.has(n))){t=ra(l,t),l=mf(2),n=bs(a,l,2),n!==null&&(hf(l,n,a,t),Rn(n,2),ka(n));break}}a=a.return}}function Ed(t,a,l){var n=t.pingCache;if(n===null){n=t.pingCache=new Ky;var o=new Set;n.set(a,o)}else o=n.get(a),o===void 0&&(o=new Set,n.set(a,o));o.has(l)||(vd=!0,o.add(l),t=Iy.bind(null,t,a,l),a.then(t,t))}function Iy(t,a,l){var n=t.pingCache;n!==null&&n.delete(a),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Pe===t&&(Oe&l)===l&&(rt===4||rt===3&&(Oe&62914560)===Oe&&300>kt()-Di?(Be&2)===0&&tn(t,0):bd|=l,Il===Oe&&(Il=0)),ka(t)}function mx(t,a){a===0&&(a=nm()),t=Zs(t,a),t!==null&&(Rn(t,a),ka(t))}function ev(t){var a=t.memoizedState,l=0;a!==null&&(l=a.retryLane),mx(t,l)}function tv(t,a){var l=0;switch(t.tag){case 31:case 13:var n=t.stateNode,o=t.memoizedState;o!==null&&(l=o.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(a),mx(t,l)}function av(t,a){return Mn(t,a)}var Ui=null,sn=null,Td=!1,Hi=!1,Md=!1,Ms=0;function ka(t){t!==sn&&t.next===null&&(sn===null?Ui=sn=t:sn=sn.next=t),Hi=!0,Td||(Td=!0,lv())}function mr(t,a){if(!Md&&Hi){Md=!0;do for(var l=!1,n=Ui;n!==null;){if(t!==0){var o=n.pendingLanes;if(o===0)var d=0;else{var g=n.suspendedLanes,_=n.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=o&~(g&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(l=!0,px(n,d))}else d=Oe,d=Vr(n,n===Pe?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||Dn(n,d)||(l=!0,px(n,d));n=n.next}while(l);Md=!1}}function sv(){hx()}function hx(){Hi=Td=!1;var t=0;Ms!==0&&fv()&&(t=Ms);for(var a=kt(),l=null,n=Ui;n!==null;){var o=n.next,d=fx(n,a);d===0?(n.next=null,l===null?Ui=o:l.next=o,o===null&&(sn=l)):(l=n,(t!==0||(d&3)!==0)&&(Hi=!0)),n=o}gt!==0&&gt!==5||mr(t),Ms!==0&&(Ms=0)}function fx(t,a){for(var l=t.suspendedLanes,n=t.pingedLanes,o=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Kt(d),_=1<<g,A=o[g];A===-1?((_&l)===0||(_&n)!==0)&&(o[g]=Ag(_,a)):A<=a&&(t.expiredLanes|=_),d&=~_}if(a=Pe,l=Oe,l=Vr(t,t===a?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,l===0||t===a&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&_l(n),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Dn(t,l)){if(a=l&-l,a===t.callbackPriority)return a;switch(n!==null&&_l(n),Vc(l)){case 2:case 8:l=Vs;break;case 32:l=me;break;case 268435456:l=aa;break;default:l=me}return n=xx.bind(null,t),l=Mn(l,n),t.callbackPriority=a,t.callbackNode=l,a}return n!==null&&n!==null&&_l(n),t.callbackPriority=2,t.callbackNode=null,2}function xx(t,a){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Li()&&t.callbackNode!==l)return null;var n=Oe;return n=Vr(t,t===Pe?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(Jf(t,n,a),fx(t,kt()),t.callbackNode!=null&&t.callbackNode===l?xx.bind(null,t):null)}function px(t,a){if(Li())return null;Jf(t,a,!0)}function lv(){pv(function(){(Be&6)!==0?Mn(Hr,sv):hx()})}function Ad(){if(Ms===0){var t=Ql;t===0&&(t=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Ms=t}return Ms}function gx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xr(""+t)}function yx(t,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,t.id&&l.setAttribute("form",t.id),a.parentNode.insertBefore(l,a),t=new FormData(t),l.parentNode.removeChild(l),t}function nv(t,a,l,n,o){if(a==="submit"&&l&&l.stateNode===o){var d=gx((o[Lt]||null).action),g=n.submitter;g&&(a=(a=g[Lt]||null)?gx(a.formAction):g.getAttribute("formAction"),a!==null&&(d=a,g=null));var _=new Pr("action","action",null,n,o);t.push({event:_,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ms!==0){var A=g?yx(o,g):new FormData(o);Jo(l,{pending:!0,data:A,method:o.method,action:d},null,A)}}else typeof d=="function"&&(_.preventDefault(),A=g?yx(o,g):new FormData(o),Jo(l,{pending:!0,data:A,method:o.method,action:d},d,A))},currentTarget:o}]})}}for(var Dd=0;Dd<ho.length;Dd++){var Rd=ho[Dd],rv=Rd.toLowerCase(),iv=Rd[0].toUpperCase()+Rd.slice(1);ya(rv,"on"+iv)}ya(Km,"onAnimationEnd"),ya(Zm,"onAnimationIteration"),ya(Jm,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(_y,"onTransitionRun"),ya(wy,"onTransitionStart"),ya(Sy,"onTransitionCancel"),ya(Pm,"onTransitionEnd"),Tl("onMouseEnter",["mouseout","mouseover"]),Tl("onMouseLeave",["mouseout","mouseover"]),Tl("onPointerEnter",["pointerout","pointerover"]),Tl("onPointerLeave",["pointerout","pointerover"]),Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hr));function vx(t,a){a=(a&4)!==0;for(var l=0;l<t.length;l++){var n=t[l],o=n.event;n=n.listeners;e:{var d=void 0;if(a)for(var g=n.length-1;0<=g;g--){var _=n[g],A=_.instance,V=_.currentTarget;if(_=_.listener,A!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=V;try{d(o)}catch(I){ei(I)}o.currentTarget=null,d=A}else for(g=0;g<n.length;g++){if(_=n[g],A=_.instance,V=_.currentTarget,_=_.listener,A!==d&&o.isPropagationStopped())break e;d=_,o.currentTarget=V;try{d(o)}catch(I){ei(I)}o.currentTarget=null,d=A}}}}function Re(t,a){var l=a[$c];l===void 0&&(l=a[$c]=new Set);var n=t+"__bubble";l.has(n)||(bx(a,t,2,!1),l.add(n))}function Od(t,a,l){var n=0;a&&(n|=4),bx(l,t,n,a)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Fi]){t[Fi]=!0,mm.forEach(function(l){l!=="selectionchange"&&(cv.has(l)||Od(l,!1,t),Od(l,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Fi]||(a[Fi]=!0,Od("selectionchange",!1,a))}}function bx(t,a,l,n){switch(Zx(a)){case 2:var o=qv;break;case 8:o=Lv;break;default:o=Zd}l=o.bind(null,a,l,t),o=void 0,!Ic||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(o=!0),n?o!==void 0?t.addEventListener(a,l,{capture:!0,passive:o}):t.addEventListener(a,l,!0):o!==void 0?t.addEventListener(a,l,{passive:o}):t.addEventListener(a,l,!1)}function zd(t,a,l,n,o){var d=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var g=n.tag;if(g===3||g===4){var _=n.stateNode.containerInfo;if(_===o)break;if(g===4)for(g=n.return;g!==null;){var A=g.tag;if((A===3||A===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;_!==null;){if(g=Sl(_),g===null)return;if(A=g.tag,A===5||A===6||A===26||A===27){n=d=g;continue e}_=_.parentNode}}n=n.return}wm(function(){var V=d,I=Pc(l),le=[];e:{var Y=Wm.get(t);if(Y!==void 0){var J=Pr,ye=t;switch(t){case"keypress":if(Zr(l)===0)break e;case"keydown":case"keyup":J=ty;break;case"focusin":ye="focus",J=so;break;case"focusout":ye="blur",J=so;break;case"beforeblur":case"afterblur":J=so;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ly;break;case Km:case Zm:case Jm:J=Yg;break;case Pm:J=ry;break;case"scroll":case"scrollend":J=Bg;break;case"wheel":J=cy;break;case"copy":case"cut":case"paste":J=Kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Mm;break;case"toggle":case"beforetoggle":J=dy}var _e=(a&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),L=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var R=V,B;R!==null;){var se=R;if(B=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||B===null||L===null||(se=zn(R,L),se!=null&&_e.push(fr(R,se,B))),Ze)break;R=R.return}0<_e.length&&(Y=new J(Y,ye,null,l,I),le.push({event:Y,listeners:_e}))}}if((a&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Y&&l!==Jc&&(ye=l.relatedTarget||l.fromElement)&&(Sl(ye)||ye[wl]))break e;if((J||Y)&&(Y=I.window===I?I:(Y=I.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(ye=l.relatedTarget||l.toElement,J=V,ye=ye?Sl(ye):null,ye!==null&&(Ze=f(ye),_e=ye.tag,ye!==Ze||_e!==5&&_e!==27&&_e!==6)&&(ye=null)):(J=null,ye=V),J!==ye)){if(_e=Em,se="onMouseLeave",L="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Mm,se="onPointerLeave",L="onPointerEnter",R="pointer"),Ze=J==null?Y:kn(J),B=ye==null?Y:kn(ye),Y=new _e(se,R+"leave",J,l,I),Y.target=Ze,Y.relatedTarget=B,se=null,Sl(I)===V&&(_e=new _e(L,R+"enter",ye,l,I),_e.target=B,_e.relatedTarget=Ze,se=_e),Ze=se,J&&ye)t:{for(_e=ov,L=J,R=ye,B=0,se=L;se;se=_e(se))B++;se=0;for(var Ne=R;Ne;Ne=_e(Ne))se++;for(;0<B-se;)L=_e(L),B--;for(;0<se-B;)R=_e(R),se--;for(;B--;){if(L===R||R!==null&&L===R.alternate){_e=L;break t}L=_e(L),R=_e(R)}_e=null}else _e=null;J!==null&&jx(le,Y,J,_e,!1),ye!==null&&Ze!==null&&jx(le,Ze,ye,_e,!0)}}e:{if(Y=V?kn(V):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var Ue=Lm;else if(zm(Y))if(Um)Ue=by;else{Ue=yy;var be=gy}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?V&&Zc(V.elementType)&&(Ue=Lm):Ue=vy;if(Ue&&(Ue=Ue(t,V))){qm(le,Ue,l,I);break e}be&&be(t,Y,V),t==="focusout"&&V&&Y.type==="number"&&V.memoizedProps.value!=null&&Kc(Y,"number",Y.value)}switch(be=V?kn(V):window,t){case"focusin":(zm(be)||be.contentEditable==="true")&&(kl=be,oo=V,Vn=null);break;case"focusout":Vn=oo=kl=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,Ym(le,l,I);break;case"selectionchange":if(Ny)break;case"keydown":case"keyup":Ym(le,l,I)}var Te;if(no)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ol?Om(t,l)&&(ke="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(Am&&l.locale!=="ko"&&(Ol||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ol&&(Te=Sm()):(hs=I,eo="value"in hs?hs.value:hs.textContent,Ol=!0)),be=Bi(V,ke),0<be.length&&(ke=new Tm(ke,t,null,l,I),le.push({event:ke,listeners:be}),Te?ke.data=Te:(Te=km(l),Te!==null&&(ke.data=Te)))),(Te=my?hy(t,l):fy(t,l))&&(ke=Bi(V,"onBeforeInput"),0<ke.length&&(be=new Tm("onBeforeInput","beforeinput",null,l,I),le.push({event:be,listeners:ke}),be.data=Te)),nv(le,t,V,l,I)}vx(le,a)})}function fr(t,a,l){return{instance:t,listener:a,currentTarget:l}}function Bi(t,a){for(var l=a+"Capture",n=[];t!==null;){var o=t,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=zn(t,l),o!=null&&n.unshift(fr(t,o,d)),o=zn(t,a),o!=null&&n.push(fr(t,o,d))),t.tag===3)return n;t=t.return}return[]}function ov(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jx(t,a,l,n,o){for(var d=a._reactName,g=[];l!==null&&l!==n;){var _=l,A=_.alternate,V=_.stateNode;if(_=_.tag,A!==null&&A===n)break;_!==5&&_!==26&&_!==27||V===null||(A=V,o?(V=zn(l,d),V!=null&&g.unshift(fr(l,V,A))):o||(V=zn(l,d),V!=null&&g.push(fr(l,V,A)))),l=l.return}g.length!==0&&t.push({event:a,listeners:g})}var dv=/\r\n?/g,uv=/\u0000|\uFFFD/g;function Nx(t){return(typeof t=="string"?t:""+t).replace(dv,`
`).replace(uv,"")}function _x(t,a){return a=Nx(a),Nx(t)===a}function Ke(t,a,l,n,o,d){switch(l){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||Al(t,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&Al(t,""+n);break;case"className":Gr(t,"class",n);break;case"tabIndex":Gr(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(t,l,n);break;case"style":Nm(t,n,d);break;case"data":if(a!=="object"){Gr(t,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||l!=="href")){t.removeAttribute(l);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(l);break}n=Xr(""+n),t.setAttribute(l,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(l==="formAction"?(a!=="input"&&Ke(t,a,"name",o.name,o,null),Ke(t,a,"formEncType",o.formEncType,o,null),Ke(t,a,"formMethod",o.formMethod,o,null),Ke(t,a,"formTarget",o.formTarget,o,null)):(Ke(t,a,"encType",o.encType,o,null),Ke(t,a,"method",o.method,o,null),Ke(t,a,"target",o.target,o,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(l);break}n=Xr(""+n),t.setAttribute(l,n);break;case"onClick":n!=null&&(t.onclick=Ga);break;case"onScroll":n!=null&&Re("scroll",t);break;case"onScrollEnd":n!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(l=n.__html,l!=null){if(o.children!=null)throw Error(c(60));t.innerHTML=l}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}l=Xr(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,""+n):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":n===!0?t.setAttribute(l,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(l,n):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(l,n):t.removeAttribute(l);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(l):t.setAttribute(l,n);break;case"popover":Re("beforetoggle",t),Re("toggle",t),$r(t,"popover",n);break;case"xlinkActuate":$a(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":$a(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":$a(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":$a(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":$a(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":$a(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":$a(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":$a(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":$a(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":$r(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Hg.get(l)||l,$r(t,l,n))}}function qd(t,a,l,n,o,d){switch(l){case"style":Nm(t,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(l=n.__html,l!=null){if(o.children!=null)throw Error(c(60));t.innerHTML=l}}break;case"children":typeof n=="string"?Al(t,n):(typeof n=="number"||typeof n=="bigint")&&Al(t,""+n);break;case"onScroll":n!=null&&Re("scroll",t);break;case"onScrollEnd":n!=null&&Re("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hm.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(o=l.endsWith("Capture"),a=l.slice(2,o?l.length-7:void 0),d=t[Lt]||null,d=d!=null?d[l]:null,typeof d=="function"&&t.removeEventListener(a,d,o),typeof n=="function")){typeof d!="function"&&d!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(a,n,o);break e}l in t?t[l]=n:n===!0?t.setAttribute(l,""):$r(t,l,n)}}}function Ct(t,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var n=!1,o=!1,d;for(d in l)if(l.hasOwnProperty(d)){var g=l[d];if(g!=null)switch(d){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:Ke(t,a,d,g,l,null)}}o&&Ke(t,a,"srcSet",l.srcSet,l,null),n&&Ke(t,a,"src",l.src,l,null);return;case"input":Re("invalid",t);var _=d=g=o=null,A=null,V=null;for(n in l)if(l.hasOwnProperty(n)){var I=l[n];if(I!=null)switch(n){case"name":o=I;break;case"type":g=I;break;case"checked":A=I;break;case"defaultChecked":V=I;break;case"value":d=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(c(137,a));break;default:Ke(t,a,n,I,l,null)}}ym(t,d,_,A,V,g,o,!1);return;case"select":Re("invalid",t),n=g=d=null;for(o in l)if(l.hasOwnProperty(o)&&(_=l[o],_!=null))switch(o){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":n=_;default:Ke(t,a,o,_,l,null)}a=d,l=g,t.multiple=!!n,a!=null?Ml(t,!!n,a,!1):l!=null&&Ml(t,!!n,l,!0);return;case"textarea":Re("invalid",t),d=o=n=null;for(g in l)if(l.hasOwnProperty(g)&&(_=l[g],_!=null))switch(g){case"value":n=_;break;case"defaultValue":o=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(c(91));break;default:Ke(t,a,g,_,l,null)}bm(t,n,o,d);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(n=l[A],n!=null))switch(A){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ke(t,a,A,n,l,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(n=0;n<hr.length;n++)Re(hr[n],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(n=l[V],n!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,a));default:Ke(t,a,V,n,l,null)}return;default:if(Zc(a)){for(I in l)l.hasOwnProperty(I)&&(n=l[I],n!==void 0&&qd(t,a,I,n,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(n=l[_],n!=null&&Ke(t,a,_,n,l,null))}function mv(t,a,l,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,_=null,A=null,V=null,I=null;for(J in l){var le=l[J];if(l.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":A=le;default:n.hasOwnProperty(J)||Ke(t,a,J,null,n,le)}}for(var Y in n){var J=n[Y];if(le=l[Y],n.hasOwnProperty(Y)&&(J!=null||le!=null))switch(Y){case"type":d=J;break;case"name":o=J;break;case"checked":V=J;break;case"defaultChecked":I=J;break;case"value":g=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(c(137,a));break;default:J!==le&&Ke(t,a,Y,J,n,le)}}Xc(t,g,_,A,V,I,d,o);return;case"select":J=g=_=Y=null;for(d in l)if(A=l[d],l.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":J=A;default:n.hasOwnProperty(d)||Ke(t,a,d,null,n,A)}for(o in n)if(d=n[o],A=l[o],n.hasOwnProperty(o)&&(d!=null||A!=null))switch(o){case"value":Y=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==A&&Ke(t,a,o,d,n,A)}a=_,l=g,n=J,Y!=null?Ml(t,!!l,Y,!1):!!n!=!!l&&(a!=null?Ml(t,!!l,a,!0):Ml(t,!!l,l?[]:"",!1));return;case"textarea":J=Y=null;for(_ in l)if(o=l[_],l.hasOwnProperty(_)&&o!=null&&!n.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ke(t,a,_,null,n,o)}for(g in n)if(o=n[g],d=l[g],n.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":Y=o;break;case"defaultValue":J=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==d&&Ke(t,a,g,o,n,d)}vm(t,Y,J);return;case"option":for(var ye in l)if(Y=l[ye],l.hasOwnProperty(ye)&&Y!=null&&!n.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:Ke(t,a,ye,null,n,Y)}for(A in n)if(Y=n[A],J=l[A],n.hasOwnProperty(A)&&Y!==J&&(Y!=null||J!=null))switch(A){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ke(t,a,A,Y,n,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)Y=l[_e],l.hasOwnProperty(_e)&&Y!=null&&!n.hasOwnProperty(_e)&&Ke(t,a,_e,null,n,Y);for(V in n)if(Y=n[V],J=l[V],n.hasOwnProperty(V)&&Y!==J&&(Y!=null||J!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,a));break;default:Ke(t,a,V,Y,n,J)}return;default:if(Zc(a)){for(var Ze in l)Y=l[Ze],l.hasOwnProperty(Ze)&&Y!==void 0&&!n.hasOwnProperty(Ze)&&qd(t,a,Ze,void 0,n,Y);for(I in n)Y=n[I],J=l[I],!n.hasOwnProperty(I)||Y===J||Y===void 0&&J===void 0||qd(t,a,I,Y,n,J);return}}for(var L in l)Y=l[L],l.hasOwnProperty(L)&&Y!=null&&!n.hasOwnProperty(L)&&Ke(t,a,L,null,n,Y);for(le in n)Y=n[le],J=l[le],!n.hasOwnProperty(le)||Y===J||Y==null&&J==null||Ke(t,a,le,Y,n,J)}function wx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,l=performance.getEntriesByType("resource"),n=0;n<l.length;n++){var o=l[n],d=o.transferSize,g=o.initiatorType,_=o.duration;if(d&&_&&wx(g)){for(g=0,_=o.responseEnd,n+=1;n<l.length;n++){var A=l[n],V=A.startTime;if(V>_)break;var I=A.transferSize,le=A.initiatorType;I&&wx(le)&&(A=A.responseEnd,g+=I*(A<_?1:(_-V)/(A-V)))}if(--n,a+=8*(d+g)/(o.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ld=null,Ud=null;function Qi(t){return t.nodeType===9?t:t.ownerDocument}function Sx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cx(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Hd(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fd=null;function fv(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var Ex=typeof setTimeout=="function"?setTimeout:void 0,xv=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,pv=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(t){return Tx.resolve(null).then(t).catch(gv)}:Ex;function gv(t){setTimeout(function(){throw t})}function As(t){return t==="head"}function Mx(t,a){var l=a,n=0;do{var o=l.nextSibling;if(t.removeChild(l),o&&o.nodeType===8)if(l=o.data,l==="/$"||l==="/&"){if(n===0){t.removeChild(o),cn(a);return}n--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")n++;else if(l==="html")xr(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,xr(l);for(var d=l.firstChild;d;){var g=d.nextSibling,_=d.nodeName;d[On]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||l.removeChild(d),d=g}}else l==="body"&&xr(t.ownerDocument.body);l=o}while(l);cn(a)}function Ax(t,a){var l=t;t=0;do{var n=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),n&&n.nodeType===8)if(l=n.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=n}while(l)}function Bd(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Bd(l),Gc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function yv(t,a,l,n){for(;t.nodeType===1;){var o=l;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[On])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ua(t.nextSibling),t===null)break}return null}function vv(t,a,l){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=ua(t.nextSibling),t===null))return null;return t}function Dx(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ua(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bv(t,a){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||l.readyState!=="loading")a();else{var n=function(){a(),l.removeEventListener("DOMContentLoaded",n)};l.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function ua(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var $d=null;function Rx(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(a===0)return ua(t.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}t=t.nextSibling}return null}function Ox(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return t;a--}else l!=="/$"&&l!=="/&"||a++}t=t.previousSibling}return null}function kx(t,a,l){switch(a=Qi(l),t){case"html":if(t=a.documentElement,!t)throw Error(c(452));return t;case"head":if(t=a.head,!t)throw Error(c(453));return t;case"body":if(t=a.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}function xr(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Gc(t)}var ma=new Map,zx=new Set;function Vi(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var is=ae.d;ae.d={f:jv,r:Nv,D:_v,C:wv,L:Sv,m:Cv,X:Tv,S:Ev,M:Mv};function jv(){var t=is.f(),a=ki();return t||a}function Nv(t){var a=Cl(t);a!==null&&a.tag===5&&a.type==="form"?Ph(a):is.r(t)}var ln=typeof document>"u"?null:document;function qx(t,a,l){var n=ln;if(n&&typeof a=="string"&&a){var o=la(a);o='link[rel="'+t+'"][href="'+o+'"]',typeof l=="string"&&(o+='[crossorigin="'+l+'"]'),zx.has(o)||(zx.add(o),t={rel:t,crossOrigin:l,href:a},n.querySelector(o)===null&&(a=n.createElement("link"),Ct(a,"link",t),bt(a),n.head.appendChild(a)))}}function _v(t){is.D(t),qx("dns-prefetch",t,null)}function wv(t,a){is.C(t,a),qx("preconnect",t,a)}function Sv(t,a,l){is.L(t,a,l);var n=ln;if(n&&t&&a){var o='link[rel="preload"][as="'+la(a)+'"]';a==="image"&&l&&l.imageSrcSet?(o+='[imagesrcset="'+la(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(o+='[imagesizes="'+la(l.imageSizes)+'"]')):o+='[href="'+la(t)+'"]';var d=o;switch(a){case"style":d=nn(t);break;case"script":d=rn(t)}ma.has(d)||(t=j({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:t,as:a},l),ma.set(d,t),n.querySelector(o)!==null||a==="style"&&n.querySelector(pr(d))||a==="script"&&n.querySelector(gr(d))||(a=n.createElement("link"),Ct(a,"link",t),bt(a),n.head.appendChild(a)))}}function Cv(t,a){is.m(t,a);var l=ln;if(l&&t){var n=a&&typeof a.as=="string"?a.as:"script",o='link[rel="modulepreload"][as="'+la(n)+'"][href="'+la(t)+'"]',d=o;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=rn(t)}if(!ma.has(d)&&(t=j({rel:"modulepreload",href:t},a),ma.set(d,t),l.querySelector(o)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gr(d)))return}n=l.createElement("link"),Ct(n,"link",t),bt(n),l.head.appendChild(n)}}}function Ev(t,a,l){is.S(t,a,l);var n=ln;if(n&&t){var o=El(n).hoistableStyles,d=nn(t);a=a||"default";var g=o.get(d);if(!g){var _={loading:0,preload:null};if(g=n.querySelector(pr(d)))_.loading=5;else{t=j({rel:"stylesheet",href:t,"data-precedence":a},l),(l=ma.get(d))&&Gd(t,l);var A=g=n.createElement("link");bt(A),Ct(A,"link",t),A._p=new Promise(function(V,I){A.onload=V,A.onerror=I}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,$i(g,a,n)}g={type:"stylesheet",instance:g,count:1,state:_},o.set(d,g)}}}function Tv(t,a){is.X(t,a);var l=ln;if(l&&t){var n=El(l).hoistableScripts,o=rn(t),d=n.get(o);d||(d=l.querySelector(gr(o)),d||(t=j({src:t,async:!0},a),(a=ma.get(o))&&Yd(t,a),d=l.createElement("script"),bt(d),Ct(d,"link",t),l.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function Mv(t,a){is.M(t,a);var l=ln;if(l&&t){var n=El(l).hoistableScripts,o=rn(t),d=n.get(o);d||(d=l.querySelector(gr(o)),d||(t=j({src:t,async:!0,type:"module"},a),(a=ma.get(o))&&Yd(t,a),d=l.createElement("script"),bt(d),Ct(d,"link",t),l.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(o,d))}}function Lx(t,a,l,n){var o=(o=he.current)?Vi(o):null;if(!o)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=nn(l.href),l=El(o).hoistableStyles,n=l.get(a),n||(n={type:"style",instance:null,count:0,state:null},l.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=nn(l.href);var d=El(o).hoistableStyles,g=d.get(t);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=o.querySelector(pr(t)))&&!d._p&&(g.instance=d,g.state.loading=5),ma.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ma.set(t,l),d||Av(o,t,l,g.state))),a&&n===null)throw Error(c(528,""));return g}if(a&&n!==null)throw Error(c(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=rn(l),l=El(o).hoistableScripts,n=l.get(a),n||(n={type:"script",instance:null,count:0,state:null},l.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function nn(t){return'href="'+la(t)+'"'}function pr(t){return'link[rel="stylesheet"]['+t+"]"}function Ux(t){return j({},t,{"data-precedence":t.precedence,precedence:null})}function Av(t,a,l,n){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=t.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),Ct(a,"link",l),bt(a),t.head.appendChild(a))}function rn(t){return'[src="'+la(t)+'"]'}function gr(t){return"script[async]"+t}function Hx(t,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var n=t.querySelector('style[data-href~="'+la(l.href)+'"]');if(n)return a.instance=n,bt(n),n;var o=j({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),bt(n),Ct(n,"style",o),$i(n,l.precedence,t),a.instance=n;case"stylesheet":o=nn(l.href);var d=t.querySelector(pr(o));if(d)return a.state.loading|=4,a.instance=d,bt(d),d;n=Ux(l),(o=ma.get(o))&&Gd(n,o),d=(t.ownerDocument||t).createElement("link"),bt(d);var g=d;return g._p=new Promise(function(_,A){g.onload=_,g.onerror=A}),Ct(d,"link",n),a.state.loading|=4,$i(d,l.precedence,t),a.instance=d;case"script":return d=rn(l.src),(o=t.querySelector(gr(d)))?(a.instance=o,bt(o),o):(n=l,(o=ma.get(d))&&(n=j({},l),Yd(n,o)),t=t.ownerDocument||t,o=t.createElement("script"),bt(o),Ct(o,"link",n),t.head.appendChild(o),a.instance=o);case"void":return null;default:throw Error(c(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,$i(n,l.precedence,t));return a.instance}function $i(t,a,l){for(var n=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=n.length?n[n.length-1]:null,d=o,g=0;g<n.length;g++){var _=n[g];if(_.dataset.precedence===a)d=_;else if(d!==o)break}d?d.parentNode.insertBefore(t,d.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(t,a.firstChild))}function Gd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Yd(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Gi=null;function Fx(t,a,l){if(Gi===null){var n=new Map,o=Gi=new Map;o.set(l,n)}else o=Gi,n=o.get(l),n||(n=new Map,o.set(l,n));if(n.has(t))return n;for(n.set(t,null),l=l.getElementsByTagName(t),o=0;o<l.length;o++){var d=l[o];if(!(d[On]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(a)||"";g=t+g;var _=n.get(g);_?_.push(d):n.set(g,[d])}}return n}function Bx(t,a,l){t=t.ownerDocument||t,t.head.insertBefore(l,a==="title"?t.querySelector("head > title"):null)}function Dv(t,a,l){if(l===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Qx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Rv(t,a,l,n){if(l.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var o=nn(n.href),d=a.querySelector(pr(o));if(d){a=d._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Yi.bind(t),a.then(t,t)),l.state.loading|=4,l.instance=d,bt(d);return}d=a.ownerDocument||a,n=Ux(n),(o=ma.get(o))&&Gd(n,o),d=d.createElement("link"),bt(d);var g=d;g._p=new Promise(function(_,A){g.onload=_,g.onerror=A}),Ct(d,"link",n),l.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Yi.bind(t),a.addEventListener("load",l),a.addEventListener("error",l))}}var Xd=0;function Ov(t,a){return t.stylesheets&&t.count===0&&Ki(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var n=setTimeout(function(){if(t.stylesheets&&Ki(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+a);0<t.imgBytes&&Xd===0&&(Xd=62500*hv());var o=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ki(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Xd?50:800)+a);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(o)}}:null}function Yi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ki(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xi=null;function Ki(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xi=new Map,a.forEach(kv,t),Xi=null,Yi.call(t))}function kv(t,a){if(!(a.state.loading&4)){var l=Xi.get(t);if(l)var n=l.get(null);else{l=new Map,Xi.set(t,l);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(l.set(g.dataset.precedence,g),n=g)}n&&l.set(null,n)}o=a.instance,g=o.getAttribute("data-precedence"),d=l.get(g)||n,d===n&&l.set(null,o),l.set(g,o),this.count++,n=Yi.bind(this),o.addEventListener("load",n),o.addEventListener("error",n),d?d.parentNode.insertBefore(o,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),a.state.loading|=4}}var yr={$$typeof:O,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function zv(t,a,l,n,o,d,g,_,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.hiddenUpdates=Bc(null),this.identifierPrefix=n,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Vx(t,a,l,n,o,d,g,_,A,V,I,le){return t=new zv(t,a,l,g,A,V,I,le,_),a=1,d===!0&&(a|=24),d=Jt(3,null,null,a),t.current=d,d.stateNode=t,a=Co(),a.refCount++,t.pooledCache=a,a.refCount++,d.memoizedState={element:n,isDehydrated:l,cache:a},Ao(d),t}function $x(t){return t?(t=Ll,t):Ll}function Gx(t,a,l,n,o,d){o=$x(o),n.context===null?n.context=o:n.pendingContext=o,n=vs(a),n.payload={element:l},d=d===void 0?null:d,d!==null&&(n.callback=d),l=bs(t,n,a),l!==null&&(Vt(l,t,a),Jn(l,t,a))}function Yx(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<a?l:a}}function Kd(t,a){Yx(t,a),(t=t.alternate)&&Yx(t,a)}function Xx(t){if(t.tag===13||t.tag===31){var a=Zs(t,67108864);a!==null&&Vt(a,t,67108864),Kd(t,67108864)}}function Kx(t){if(t.tag===13||t.tag===31){var a=ta();a=Qc(a);var l=Zs(t,a);l!==null&&Vt(l,t,a),Kd(t,a)}}var Zi=!0;function qv(t,a,l,n){var o=M.T;M.T=null;var d=ae.p;try{ae.p=2,Zd(t,a,l,n)}finally{ae.p=d,M.T=o}}function Lv(t,a,l,n){var o=M.T;M.T=null;var d=ae.p;try{ae.p=8,Zd(t,a,l,n)}finally{ae.p=d,M.T=o}}function Zd(t,a,l,n){if(Zi){var o=Jd(n);if(o===null)zd(t,a,n,Ji,l),Jx(t,n);else if(Hv(o,t,a,l,n))n.stopPropagation();else if(Jx(t,n),a&4&&-1<Uv.indexOf(t)){for(;o!==null;){var d=Cl(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=$s(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var A=1<<31-Kt(g);_.entanglements[1]|=A,g&=~A}ka(d),(Be&6)===0&&(Ri=kt()+500,mr(0))}}break;case 31:case 13:_=Zs(d,2),_!==null&&Vt(_,d,2),ki(),Kd(d,2)}if(d=Jd(n),d===null&&zd(t,a,n,Ji,l),d===o)break;o=d}o!==null&&n.stopPropagation()}else zd(t,a,n,null,l)}}function Jd(t){return t=Pc(t),Pd(t)}var Ji=null;function Pd(t){if(Ji=null,t=Sl(t),t!==null){var a=f(t);if(a===null)t=null;else{var l=a.tag;if(l===13){if(t=m(a),t!==null)return t;t=null}else if(l===31){if(t=h(a),t!==null)return t;t=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Ji=t,null}function Zx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fc()){case Hr:return 2;case Vs:return 8;case me:case ut:return 32;case aa:return 268435456;default:return 32}default:return 32}}var Wd=!1,Ds=null,Rs=null,Os=null,vr=new Map,br=new Map,ks=[],Uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jx(t,a){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":vr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(a.pointerId)}}function jr(t,a,l,n,o,d){return t===null||t.nativeEvent!==d?(t={blockedOn:a,domEventName:l,eventSystemFlags:n,nativeEvent:d,targetContainers:[o]},a!==null&&(a=Cl(a),a!==null&&Xx(a)),t):(t.eventSystemFlags|=n,a=t.targetContainers,o!==null&&a.indexOf(o)===-1&&a.push(o),t)}function Hv(t,a,l,n,o){switch(a){case"focusin":return Ds=jr(Ds,t,a,l,n,o),!0;case"dragenter":return Rs=jr(Rs,t,a,l,n,o),!0;case"mouseover":return Os=jr(Os,t,a,l,n,o),!0;case"pointerover":var d=o.pointerId;return vr.set(d,jr(vr.get(d)||null,t,a,l,n,o)),!0;case"gotpointercapture":return d=o.pointerId,br.set(d,jr(br.get(d)||null,t,a,l,n,o)),!0}return!1}function Px(t){var a=Sl(t.target);if(a!==null){var l=f(a);if(l!==null){if(a=l.tag,a===13){if(a=m(l),a!==null){t.blockedOn=a,dm(t.priority,function(){Kx(l)});return}}else if(a===31){if(a=h(l),a!==null){t.blockedOn=a,dm(t.priority,function(){Kx(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pi(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var l=Jd(t.nativeEvent);if(l===null){l=t.nativeEvent;var n=new l.constructor(l.type,l);Jc=n,l.target.dispatchEvent(n),Jc=null}else return a=Cl(l),a!==null&&Xx(a),t.blockedOn=l,!1;a.shift()}return!0}function Wx(t,a,l){Pi(t)&&l.delete(a)}function Fv(){Wd=!1,Ds!==null&&Pi(Ds)&&(Ds=null),Rs!==null&&Pi(Rs)&&(Rs=null),Os!==null&&Pi(Os)&&(Os=null),vr.forEach(Wx),br.forEach(Wx)}function Wi(t,a){t.blockedOn===a&&(t.blockedOn=null,Wd||(Wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Fv)))}var Ii=null;function Ix(t){Ii!==t&&(Ii=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ii===t&&(Ii=null);for(var a=0;a<t.length;a+=3){var l=t[a],n=t[a+1],o=t[a+2];if(typeof n!="function"){if(Pd(n||l)===null)continue;break}var d=Cl(l);d!==null&&(t.splice(a,3),a-=3,Jo(d,{pending:!0,data:o,method:l.method,action:n},n,o))}}))}function cn(t){function a(A){return Wi(A,t)}Ds!==null&&Wi(Ds,t),Rs!==null&&Wi(Rs,t),Os!==null&&Wi(Os,t),vr.forEach(a),br.forEach(a);for(var l=0;l<ks.length;l++){var n=ks[l];n.blockedOn===t&&(n.blockedOn=null)}for(;0<ks.length&&(l=ks[0],l.blockedOn===null);)Px(l),l.blockedOn===null&&ks.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(n=0;n<l.length;n+=3){var o=l[n],d=l[n+1],g=o[Lt]||null;if(typeof d=="function")g||Ix(l);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[Lt]||null)_=g.formAction;else if(Pd(o)!==null)continue}else _=g.action;typeof _=="function"?l[n+1]=_:(l.splice(n,3),n-=3),Ix(l)}}}function ep(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function a(){o!==null&&(o(),o=null),n||setTimeout(l,20)}function l(){if(!n&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,o=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),o!==null&&(o(),o=null)}}}function Id(t){this._internalRoot=t}ec.prototype.render=Id.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(c(409));var l=a.current,n=ta();Gx(l,n,t,a,null,null)},ec.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Gx(t.current,2,null,t,null,null),ki(),a[wl]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var a=om();t={blockedOn:null,target:t,priority:a};for(var l=0;l<ks.length&&a!==0&&a<ks[l].priority;l++);ks.splice(l,0,t),l===0&&Px(t)}};var tp=r.version;if(tp!=="19.2.3")throw Error(c(527,tp,"19.2.3"));ae.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=x(a),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Bv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{An=tc.inject(Bv),Xt=tc}catch{}}return _r.createRoot=function(t,a){if(!u(t))throw Error(c(299));var l=!1,n="",o=cf,d=of,g=df;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Vx(t,1,!1,null,null,l,n,null,o,d,g,ep),t[wl]=a.current,kd(t),new Id(a)},_r.hydrateRoot=function(t,a,l){if(!u(t))throw Error(c(299));var n=!1,o="",d=cf,g=of,_=df,A=null;return l!=null&&(l.unstable_strictMode===!0&&(n=!0),l.identifierPrefix!==void 0&&(o=l.identifierPrefix),l.onUncaughtError!==void 0&&(d=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),a=Vx(t,1,!0,a,l??null,n,o,A,d,g,_,ep),a.context=$x(null),l=a.current,n=ta(),n=Qc(n),o=vs(n),o.callback=null,bs(l,o,n),l=n,a.current.lanes=l,Rn(a,l),ka(a),t[wl]=a.current,kd(t),new ec(a)},_r.version="19.2.3",_r}var up;function Wv(){if(up)return au.exports;up=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),au.exports=Pv(),au.exports}var Iv=Wv();const eb=d0(Iv);var mp="popstate";function tb(s={}){function r(c,u){let{pathname:f,search:m,hash:h}=c.location;return gu("",{pathname:f,search:m,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(c,u){return typeof u=="string"?u:Mr(u)}return sb(r,i,null,s)}function st(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function xa(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function ab(){return Math.random().toString(36).substring(2,10)}function hp(s,r){return{usr:s.state,key:s.key,idx:r}}function gu(s,r,i=null,c){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?jn(r):r,state:i,key:r&&r.key||c||ab()}}function Mr({pathname:s="/",search:r="",hash:i=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function jn(s){let r={};if(s){let i=s.indexOf("#");i>=0&&(r.hash=s.substring(i),s=s.substring(0,i));let c=s.indexOf("?");c>=0&&(r.search=s.substring(c),s=s.substring(0,c)),s&&(r.pathname=s)}return r}function sb(s,r,i,c={}){let{window:u=document.defaultView,v5Compat:f=!1}=c,m=u.history,h="POP",y=null,x=p();x==null&&(x=0,m.replaceState({...m.state,idx:x},""));function p(){return(m.state||{idx:null}).idx}function j(){h="POP";let S=p(),w=S==null?null:S-x;x=S,y&&y({action:h,location:T.location,delta:w})}function C(S,w){h="PUSH";let k=gu(T.location,S,w);x=p()+1;let O=hp(k,x),H=T.createHref(k);try{m.pushState(O,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;u.location.assign(H)}f&&y&&y({action:h,location:T.location,delta:1})}function E(S,w){h="REPLACE";let k=gu(T.location,S,w);x=p();let O=hp(k,x),H=T.createHref(k);m.replaceState(O,"",H),f&&y&&y({action:h,location:T.location,delta:0})}function N(S){return lb(S)}let T={get action(){return h},get location(){return s(u,m)},listen(S){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(mp,j),y=S,()=>{u.removeEventListener(mp,j),y=null}},createHref(S){return r(u,S)},createURL:N,encodeLocation(S){let w=N(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:C,replace:E,go(S){return m.go(S)}};return T}function lb(s,r=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),st(i,"No window.location.(origin|href) available to create URL");let c=typeof s=="string"?s:Mr(s);return c=c.replace(/ $/,"%20"),!r&&c.startsWith("//")&&(c=i+c),new URL(c,i)}function u0(s,r,i="/"){return nb(s,r,i,!1)}function nb(s,r,i,c){let u=typeof r=="string"?jn(r):r,f=os(u.pathname||"/",i);if(f==null)return null;let m=m0(s);rb(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let x=gb(f);h=xb(m[y],x,c)}return h}function m0(s,r=[],i=[],c="",u=!1){let f=(m,h,y=u,x)=>{let p={relativePath:x===void 0?m.path||"":x,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(c)&&y)return;st(p.relativePath.startsWith(c),`Absolute route path "${p.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(c.length)}let j=cs([c,p.relativePath]),C=i.concat(p);m.children&&m.children.length>0&&(st(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),m0(m.children,r,C,j,y)),!(m.path==null&&!m.index)&&r.push({path:j,score:hb(j,m.index),routesMeta:C})};return s.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))f(m,h);else for(let y of h0(m.path))f(m,h,!0,y)}),r}function h0(s){let r=s.split("/");if(r.length===0)return[];let[i,...c]=r,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(c.length===0)return u?[f,""]:[f];let m=h0(c.join("/")),h=[];return h.push(...m.map(y=>y===""?f:[f,y].join("/"))),u&&h.push(...m),h.map(y=>s.startsWith("/")&&y===""?"/":y)}function rb(s){s.sort((r,i)=>r.score!==i.score?i.score-r.score:fb(r.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}var ib=/^:[\w-]+$/,cb=3,ob=2,db=1,ub=10,mb=-2,fp=s=>s==="*";function hb(s,r){let i=s.split("/"),c=i.length;return i.some(fp)&&(c+=mb),r&&(c+=ob),i.filter(u=>!fp(u)).reduce((u,f)=>u+(ib.test(f)?cb:f===""?db:ub),c)}function fb(s,r){return s.length===r.length&&s.slice(0,-1).every((c,u)=>c===r[u])?s[s.length-1]-r[r.length-1]:0}function xb(s,r,i=!1){let{routesMeta:c}=s,u={},f="/",m=[];for(let h=0;h<c.length;++h){let y=c[h],x=h===c.length-1,p=f==="/"?r:r.slice(f.length)||"/",j=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},p),C=y.route;if(!j&&x&&i&&!c[c.length-1].route.index&&(j=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},p)),!j)return null;Object.assign(u,j.params),m.push({params:u,pathname:cs([f,j.pathname]),pathnameBase:Nb(cs([f,j.pathnameBase])),route:C}),j.pathnameBase!=="/"&&(f=cs([f,j.pathnameBase]))}return m}function pc(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,c]=pb(s.path,s.caseSensitive,s.end),u=r.match(i);if(!u)return null;let f=u[0],m=f.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:c.reduce((x,{paramName:p,isOptional:j},C)=>{if(p==="*"){let N=h[C]||"";m=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const E=h[C];return j&&!E?x[p]=void 0:x[p]=(E||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:m,pattern:s}}function pb(s,r=!1,i=!0){xa(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let c=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(c.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(c.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),c]}function gb(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return xa(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function os(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,c=s.charAt(i);return c&&c!=="/"?null:s.slice(i)||"/"}var yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vb=s=>yb.test(s);function bb(s,r="/"){let{pathname:i,search:c="",hash:u=""}=typeof s=="string"?jn(s):s,f;if(i)if(vb(i))f=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),xa(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${i}`)}i.startsWith("/")?f=xp(i.substring(1),"/"):f=xp(i,r)}else f=r;return{pathname:f,search:_b(c),hash:wb(u)}}function xp(s,r){let i=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function ru(s,r,i,c){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jb(s){return s.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Du(s){let r=jb(s);return r.map((i,c)=>c===r.length-1?i.pathname:i.pathnameBase)}function Ru(s,r,i,c=!1){let u;typeof s=="string"?u=jn(s):(u={...s},st(!u.pathname||!u.pathname.includes("?"),ru("?","pathname","search",u)),st(!u.pathname||!u.pathname.includes("#"),ru("#","pathname","hash",u)),st(!u.search||!u.search.includes("#"),ru("#","search","hash",u)));let f=s===""||u.pathname==="",m=f?"/":u.pathname,h;if(m==null)h=i;else{let j=r.length-1;if(!c&&m.startsWith("..")){let C=m.split("/");for(;C[0]==="..";)C.shift(),j-=1;u.pathname=C.join("/")}h=j>=0?r[j]:"/"}let y=bb(u,h),x=m&&m!=="/"&&m.endsWith("/"),p=(f||m===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(x||p)&&(y.pathname+="/"),y}var cs=s=>s.join("/").replace(/\/\/+/g,"/"),Nb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),_b=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,wb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Sb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Cb(s){return s.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f0=["POST","PUT","PATCH","DELETE"];new Set(f0);var Eb=["GET",...f0];new Set(Eb);var Nn=b.createContext(null);Nn.displayName="DataRouter";var Cc=b.createContext(null);Cc.displayName="DataRouterState";b.createContext(!1);var x0=b.createContext({isTransitioning:!1});x0.displayName="ViewTransition";var Tb=b.createContext(new Map);Tb.displayName="Fetchers";var Mb=b.createContext(null);Mb.displayName="Await";var pa=b.createContext(null);pa.displayName="Navigation";var Rr=b.createContext(null);Rr.displayName="Location";var Ca=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ca.displayName="Route";var Ou=b.createContext(null);Ou.displayName="RouteError";function Ab(s,{relative:r}={}){st(_n(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:c}=b.useContext(pa),{hash:u,pathname:f,search:m}=Or(s,{relative:r}),h=f;return i!=="/"&&(h=f==="/"?i:cs([i,f])),c.createHref({pathname:h,search:m,hash:u})}function _n(){return b.useContext(Rr)!=null}function Qa(){return st(_n(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Rr).location}var p0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function g0(s){b.useContext(pa).static||b.useLayoutEffect(s)}function Fs(){let{isDataRoute:s}=b.useContext(Ca);return s?$b():Db()}function Db(){st(_n(),"useNavigate() may be used only in the context of a <Router> component.");let s=b.useContext(Nn),{basename:r,navigator:i}=b.useContext(pa),{matches:c}=b.useContext(Ca),{pathname:u}=Qa(),f=JSON.stringify(Du(c)),m=b.useRef(!1);return g0(()=>{m.current=!0}),b.useCallback((y,x={})=>{if(xa(m.current,p0),!m.current)return;if(typeof y=="number"){i.go(y);return}let p=Ru(y,JSON.parse(f),u,x.relative==="path");s==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:cs([r,p.pathname])),(x.replace?i.replace:i.push)(p,x.state,x)},[r,i,f,u,s])}b.createContext(null);function Rb(){let{matches:s}=b.useContext(Ca),r=s[s.length-1];return r?r.params:{}}function Or(s,{relative:r}={}){let{matches:i}=b.useContext(Ca),{pathname:c}=Qa(),u=JSON.stringify(Du(i));return b.useMemo(()=>Ru(s,JSON.parse(u),c,r==="path"),[s,u,c,r])}function Ob(s,r){return y0(s,r)}function y0(s,r,i,c,u){st(_n(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=b.useContext(pa),{matches:m}=b.useContext(Ca),h=m[m.length-1],y=h?h.params:{},x=h?h.pathname:"/",p=h?h.pathnameBase:"/",j=h&&h.route;{let k=j&&j.path||"";v0(x,!j||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let C=Qa(),E;if(r){let k=typeof r=="string"?jn(r):r;st(p==="/"||k.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),E=k}else E=C;let N=E.pathname||"/",T=N;if(p!=="/"){let k=p.replace(/^\//,"").split("/");T="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=u0(s,{pathname:T});xa(j||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),xa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=Ub(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},y,k.params),pathname:cs([p,f.encodeLocation?f.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:cs([p,f.encodeLocation?f.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),m,i,c,u);return r&&w?b.createElement(Rr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},w):w}function kb(){let s=Vb(),r=Sb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:f},"ErrorBoundary")," or"," ",b.createElement("code",{style:f},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),i?b.createElement("pre",{style:u},i):null,m)}var zb=b.createElement(kb,null),qb=class extends b.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){this.props.onError?this.props.onError(s,r):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?b.createElement(Ca.Provider,{value:this.props.routeContext},b.createElement(Ou.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lb({routeContext:s,match:r,children:i}){let c=b.useContext(Nn);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Ca.Provider,{value:s},i)}function Ub(s,r=[],i=null,c=null,u=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let f=s,m=i?.errors;if(m!=null){let p=f.findIndex(j=>j.route.id&&m?.[j.route.id]!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,p+1))}let h=!1,y=-1;if(i)for(let p=0;p<f.length;p++){let j=f[p];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(y=p),j.route.id){let{loaderData:C,errors:E}=i,N=j.route.loader&&!C.hasOwnProperty(j.route.id)&&(!E||E[j.route.id]===void 0);if(j.route.lazy||N){h=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}let x=i&&c?(p,j)=>{c(p,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Cb(i.matches),errorInfo:j})}:void 0;return f.reduceRight((p,j,C)=>{let E,N=!1,T=null,S=null;i&&(E=m&&j.route.id?m[j.route.id]:void 0,T=j.route.errorElement||zb,h&&(y<0&&C===0?(v0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,S=null):y===C&&(N=!0,S=j.route.hydrateFallbackElement||null)));let w=r.concat(f.slice(0,C+1)),k=()=>{let O;return E?O=T:N?O=S:j.route.Component?O=b.createElement(j.route.Component,null):j.route.element?O=j.route.element:O=p,b.createElement(Lb,{match:j,routeContext:{outlet:p,matches:w,isDataRoute:i!=null},children:O})};return i&&(j.route.ErrorBoundary||j.route.errorElement||C===0)?b.createElement(qb,{location:i.location,revalidation:i.revalidation,component:T,error:E,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:x}):k()},null)}function ku(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hb(s){let r=b.useContext(Nn);return st(r,ku(s)),r}function Fb(s){let r=b.useContext(Cc);return st(r,ku(s)),r}function Bb(s){let r=b.useContext(Ca);return st(r,ku(s)),r}function zu(s){let r=Bb(s),i=r.matches[r.matches.length-1];return st(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Qb(){return zu("useRouteId")}function Vb(){let s=b.useContext(Ou),r=Fb("useRouteError"),i=zu("useRouteError");return s!==void 0?s:r.errors?.[i]}function $b(){let{router:s}=Hb("useNavigate"),r=zu("useNavigate"),i=b.useRef(!1);return g0(()=>{i.current=!0}),b.useCallback(async(u,f={})=>{xa(i.current,p0),i.current&&(typeof u=="number"?await s.navigate(u):await s.navigate(u,{fromRouteId:r,...f}))},[s,r])}var pp={};function v0(s,r,i){!r&&!pp[s]&&(pp[s]=!0,xa(!1,i))}b.memo(Gb);function Gb({routes:s,future:r,state:i,unstable_onError:c}){return y0(s,void 0,i,c,r)}function cl({to:s,replace:r,state:i,relative:c}){st(_n(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=b.useContext(pa);xa(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=b.useContext(Ca),{pathname:m}=Qa(),h=Fs(),y=Ru(s,Du(f),m,c==="path"),x=JSON.stringify(y);return b.useEffect(()=>{h(JSON.parse(x),{replace:r,state:i,relative:c})},[h,x,c,r,i]),null}function lt(s){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yb({basename:s="/",children:r=null,location:i,navigationType:c="POP",navigator:u,static:f=!1,unstable_useTransitions:m}){st(!_n(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),y=b.useMemo(()=>({basename:h,navigator:u,static:f,unstable_useTransitions:m,future:{}}),[h,u,f,m]);typeof i=="string"&&(i=jn(i));let{pathname:x="/",search:p="",hash:j="",state:C=null,key:E="default"}=i,N=b.useMemo(()=>{let T=os(x,h);return T==null?null:{location:{pathname:T,search:p,hash:j,state:C,key:E},navigationType:c}},[h,x,p,j,C,E,c]);return xa(N!=null,`<Router basename="${h}"> is not able to match the URL "${x}${p}${j}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:b.createElement(pa.Provider,{value:y},b.createElement(Rr.Provider,{children:r,value:N}))}function Xb({children:s,location:r}){return Ob(yu(s),r)}function yu(s,r=[]){let i=[];return b.Children.forEach(s,(c,u)=>{if(!b.isValidElement(c))return;let f=[...r,u];if(c.type===b.Fragment){i.push.apply(i,yu(c.props.children,f));return}st(c.type===lt,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!c.props.index||!c.props.children,"An index route cannot have child routes.");let m={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(m.children=yu(c.props.children,f)),i.push(m)}),i}var ic="get",cc="application/x-www-form-urlencoded";function Ec(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Kb(s){return Ec(s)&&s.tagName.toLowerCase()==="button"}function Zb(s){return Ec(s)&&s.tagName.toLowerCase()==="form"}function Jb(s){return Ec(s)&&s.tagName.toLowerCase()==="input"}function Pb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Wb(s,r){return s.button===0&&(!r||r==="_self")&&!Pb(s)}var ac=null;function Ib(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var ej=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iu(s){return s!=null&&!ej.has(s)?(xa(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):s}function tj(s,r){let i,c,u,f,m;if(Zb(s)){let h=s.getAttribute("action");c=h?os(h,r):null,i=s.getAttribute("method")||ic,u=iu(s.getAttribute("enctype"))||cc,f=new FormData(s)}else if(Kb(s)||Jb(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||h.getAttribute("action");if(c=y?os(y,r):null,i=s.getAttribute("formmethod")||h.getAttribute("method")||ic,u=iu(s.getAttribute("formenctype"))||iu(h.getAttribute("enctype"))||cc,f=new FormData(h,s),!Ib()){let{name:x,type:p,value:j}=s;if(p==="image"){let C=x?`${x}.`:"";f.append(`${C}x`,"0"),f.append(`${C}y`,"0")}else x&&f.append(x,j)}}else{if(Ec(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ic,c=null,u=cc,m=s}return f&&u==="text/plain"&&(m=f,f=void 0),{action:c,method:i.toLowerCase(),encType:u,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qu(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function aj(s,r,i){let c=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return c.pathname==="/"?c.pathname=`_root.${i}`:r&&os(c.pathname,r)==="/"?c.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function sj(s,r){if(s.id in r)return r[s.id];try{let i=await import(s.module);return r[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lj(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function nj(s,r,i){let c=await Promise.all(s.map(async u=>{let f=r.routes[u.route.id];if(f){let m=await sj(f,i);return m.links?m.links():[]}return[]}));return oj(c.flat(1).filter(lj).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function gp(s,r,i,c,u,f){let m=(y,x)=>i[x]?y.route.id!==i[x].route.id:!0,h=(y,x)=>i[x].pathname!==y.pathname||i[x].route.path?.endsWith("*")&&i[x].params["*"]!==y.params["*"];return f==="assets"?r.filter((y,x)=>m(y,x)||h(y,x)):f==="data"?r.filter((y,x)=>{let p=c.routes[y.route.id];if(!p||!p.hasLoader)return!1;if(m(y,x)||h(y,x))return!0;if(y.route.shouldRevalidate){let j=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function rj(s,r,{includeHydrateFallback:i}={}){return ij(s.map(c=>{let u=r.routes[c.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function ij(s){return[...new Set(s)]}function cj(s){let r={},i=Object.keys(s).sort();for(let c of i)r[c]=s[c];return r}function oj(s,r){let i=new Set;return new Set(r),s.reduce((c,u)=>{let f=JSON.stringify(cj(u));return i.has(f)||(i.add(f),c.push({key:f,link:u})),c},[])}function b0(){let s=b.useContext(Nn);return qu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function dj(){let s=b.useContext(Cc);return qu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Lu=b.createContext(void 0);Lu.displayName="FrameworkContext";function j0(){let s=b.useContext(Lu);return qu(s,"You must render this element inside a <HydratedRouter> element"),s}function uj(s,r){let i=b.useContext(Lu),[c,u]=b.useState(!1),[f,m]=b.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:x,onMouseLeave:p,onTouchStart:j}=r,C=b.useRef(null);b.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let T=w=>{w.forEach(k=>{m(k.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return C.current&&S.observe(C.current),()=>{S.disconnect()}}},[s]),b.useEffect(()=>{if(c){let T=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(T)}}},[c]);let E=()=>{u(!0)},N=()=>{u(!1),m(!1)};return i?s!=="intent"?[f,C,{}]:[f,C,{onFocus:wr(h,E),onBlur:wr(y,N),onMouseEnter:wr(x,E),onMouseLeave:wr(p,N),onTouchStart:wr(j,E)}]:[!1,C,{}]}function wr(s,r){return i=>{s&&s(i),i.defaultPrevented||r(i)}}function mj({page:s,...r}){let{router:i}=b0(),c=b.useMemo(()=>u0(i.routes,s,i.basename),[i.routes,s,i.basename]);return c?b.createElement(fj,{page:s,matches:c,...r}):null}function hj(s){let{manifest:r,routeModules:i}=j0(),[c,u]=b.useState([]);return b.useEffect(()=>{let f=!1;return nj(s,r,i).then(m=>{f||u(m)}),()=>{f=!0}},[s,r,i]),c}function fj({page:s,matches:r,...i}){let c=Qa(),{manifest:u,routeModules:f}=j0(),{basename:m}=b0(),{loaderData:h,matches:y}=dj(),x=b.useMemo(()=>gp(s,r,y,u,c,"data"),[s,r,y,u,c]),p=b.useMemo(()=>gp(s,r,y,u,c,"assets"),[s,r,y,u,c]),j=b.useMemo(()=>{if(s===c.pathname+c.search+c.hash)return[];let N=new Set,T=!1;if(r.forEach(w=>{let k=u.routes[w.route.id];!k||!k.hasLoader||(!x.some(O=>O.route.id===w.route.id)&&w.route.id in h&&f[w.route.id]?.shouldRevalidate||k.hasClientLoader?T=!0:N.add(w.route.id))}),N.size===0)return[];let S=aj(s,m,"data");return T&&N.size>0&&S.searchParams.set("_routes",r.filter(w=>N.has(w.route.id)).map(w=>w.route.id).join(",")),[S.pathname+S.search]},[m,h,c,u,x,r,s,f]),C=b.useMemo(()=>rj(p,u),[p,u]),E=hj(p);return b.createElement(b.Fragment,null,j.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),C.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),E.map(({key:N,link:T})=>b.createElement("link",{key:N,nonce:i.nonce,...T})))}function xj(...s){return r=>{s.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var N0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N0&&(window.__reactRouterVersion="7.10.1")}catch{}function pj({basename:s,children:r,unstable_useTransitions:i,window:c}){let u=b.useRef();u.current==null&&(u.current=tb({window:c,v5Compat:!0}));let f=u.current,[m,h]=b.useState({action:f.action,location:f.location}),y=b.useCallback(x=>{i===!1?h(x):b.startTransition(()=>h(x))},[i]);return b.useLayoutEffect(()=>f.listen(y),[f,y]),b.createElement(Yb,{basename:s,children:r,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:i===!0})}var _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fa=b.forwardRef(function({onClick:r,discover:i="render",prefetch:c="none",relative:u,reloadDocument:f,replace:m,state:h,target:y,to:x,preventScrollReset:p,viewTransition:j,...C},E){let{basename:N,unstable_useTransitions:T}=b.useContext(pa),S=typeof x=="string"&&_0.test(x),w,k=!1;if(typeof x=="string"&&S&&(w=x,N0))try{let $=new URL(window.location.href),q=x.startsWith("//")?new URL($.protocol+x):new URL(x),U=os(q.pathname,N);q.origin===$.origin&&U!=null?x=U+q.search+q.hash:k=!0}catch{xa(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Ab(x,{relative:u}),[H,Q,z]=uj(c,C),P=bj(x,{replace:m,state:h,target:y,preventScrollReset:p,relative:u,viewTransition:j,unstable_useTransitions:T});function W($){r&&r($),$.defaultPrevented||P($)}let ie=b.createElement("a",{...C,...z,href:w||O,onClick:k||f?r:W,ref:xj(E,Q),target:y,"data-discover":!S&&i==="render"?"true":void 0});return H&&!S?b.createElement(b.Fragment,null,ie,b.createElement(mj,{page:O})):ie});fa.displayName="Link";var gj=b.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:c="",end:u=!1,style:f,to:m,viewTransition:h,children:y,...x},p){let j=Or(m,{relative:x.relative}),C=Qa(),E=b.useContext(Cc),{navigator:N,basename:T}=b.useContext(pa),S=E!=null&&Sj(j)&&h===!0,w=N.encodeLocation?N.encodeLocation(j).pathname:j.pathname,k=C.pathname,O=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(k=k.toLowerCase(),O=O?O.toLowerCase():null,w=w.toLowerCase()),O&&T&&(O=os(O,T)||O);const H=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let Q=k===w||!u&&k.startsWith(w)&&k.charAt(H)==="/",z=O!=null&&(O===w||!u&&O.startsWith(w)&&O.charAt(w.length)==="/"),P={isActive:Q,isPending:z,isTransitioning:S},W=Q?r:void 0,ie;typeof c=="function"?ie=c(P):ie=[c,Q?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof f=="function"?f(P):f;return b.createElement(fa,{...x,"aria-current":W,className:ie,ref:p,style:$,to:m,viewTransition:h},typeof y=="function"?y(P):y)});gj.displayName="NavLink";var yj=b.forwardRef(({discover:s="render",fetcherKey:r,navigate:i,reloadDocument:c,replace:u,state:f,method:m=ic,action:h,onSubmit:y,relative:x,preventScrollReset:p,viewTransition:j,...C},E)=>{let{unstable_useTransitions:N}=b.useContext(pa),T=_j(),S=wj(h,{relative:x}),w=m.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&_0.test(h),O=H=>{if(y&&y(H),H.defaultPrevented)return;H.preventDefault();let Q=H.nativeEvent.submitter,z=Q?.getAttribute("formmethod")||m,P=()=>T(Q||H.currentTarget,{fetcherKey:r,method:z,navigate:i,replace:u,state:f,relative:x,preventScrollReset:p,viewTransition:j});N&&i!==!1?b.startTransition(()=>P()):P()};return b.createElement("form",{ref:E,method:w,action:S,onSubmit:c?y:O,...C,"data-discover":!k&&s==="render"?"true":void 0})});yj.displayName="Form";function vj(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w0(s){let r=b.useContext(Nn);return st(r,vj(s)),r}function bj(s,{target:r,replace:i,state:c,preventScrollReset:u,relative:f,viewTransition:m,unstable_useTransitions:h}={}){let y=Fs(),x=Qa(),p=Or(s,{relative:f});return b.useCallback(j=>{if(Wb(j,r)){j.preventDefault();let C=i!==void 0?i:Mr(x)===Mr(p),E=()=>y(s,{replace:C,state:c,preventScrollReset:u,relative:f,viewTransition:m});h?b.startTransition(()=>E()):E()}},[x,y,p,i,c,r,s,u,f,m,h])}var jj=0,Nj=()=>`__${String(++jj)}__`;function _j(){let{router:s}=w0("useSubmit"),{basename:r}=b.useContext(pa),i=Qb(),c=s.fetch,u=s.navigate;return b.useCallback(async(f,m={})=>{let{action:h,method:y,encType:x,formData:p,body:j}=tj(f,r);if(m.navigate===!1){let C=m.fetcherKey||Nj();await c(C,i,m.action||h,{preventScrollReset:m.preventScrollReset,formData:p,body:j,formMethod:m.method||y,formEncType:m.encType||x,flushSync:m.flushSync})}else await u(m.action||h,{preventScrollReset:m.preventScrollReset,formData:p,body:j,formMethod:m.method||y,formEncType:m.encType||x,replace:m.replace,state:m.state,fromRouteId:i,flushSync:m.flushSync,viewTransition:m.viewTransition})},[c,u,r,i])}function wj(s,{relative:r}={}){let{basename:i}=b.useContext(pa),c=b.useContext(Ca);st(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),f={...Or(s||".",{relative:r})},m=Qa();if(s==null){f.search=m.search;let h=new URLSearchParams(f.search),y=h.getAll("index");if(y.some(p=>p==="")){h.delete("index"),y.filter(j=>j).forEach(j=>h.append("index",j));let p=h.toString();f.search=p?`?${p}`:""}}return(!s||s===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:cs([i,f.pathname])),Mr(f)}function Sj(s,{relative:r}={}){let i=b.useContext(x0);st(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=w0("useViewTransitionState"),u=Or(s,{relative:r});if(!i.isTransitioning)return!1;let f=os(i.currentLocation.pathname,c)||i.currentLocation.pathname,m=os(i.nextLocation.pathname,c)||i.nextLocation.pathname;return pc(u.pathname,m)!=null||pc(u.pathname,f)!=null}var wn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cj={setTimeout:(s,r)=>setTimeout(s,r),clearTimeout:s=>clearTimeout(s),setInterval:(s,r)=>setInterval(s,r),clearInterval:s=>clearInterval(s)},Ej=class{#e=Cj;#t=!1;setTimeoutProvider(s){this.#e=s}setTimeout(s,r){return this.#e.setTimeout(s,r)}clearTimeout(s){this.#e.clearTimeout(s)}setInterval(s,r){return this.#e.setInterval(s,r)}clearInterval(s){this.#e.clearInterval(s)}},ol=new Ej;function Tj(s){setTimeout(s,0)}var xl=typeof window>"u"||"Deno"in globalThis;function qt(){}function Mj(s,r){return typeof s=="function"?s(r):s}function vu(s){return typeof s=="number"&&s>=0&&s!==1/0}function S0(s,r){return Math.max(s+(r||0)-Date.now(),0)}function Ls(s,r){return typeof s=="function"?s(r):s}function ha(s,r){return typeof s=="function"?s(r):s}function yp(s,r){const{type:i="all",exact:c,fetchStatus:u,predicate:f,queryKey:m,stale:h}=s;if(m){if(c){if(r.queryHash!==Uu(m,r.options))return!1}else if(!Ar(r.queryKey,m))return!1}if(i!=="all"){const y=r.isActive();if(i==="active"&&!y||i==="inactive"&&y)return!1}return!(typeof h=="boolean"&&r.isStale()!==h||u&&u!==r.state.fetchStatus||f&&!f(r))}function vp(s,r){const{exact:i,status:c,predicate:u,mutationKey:f}=s;if(f){if(!r.options.mutationKey)return!1;if(i){if(pl(r.options.mutationKey)!==pl(f))return!1}else if(!Ar(r.options.mutationKey,f))return!1}return!(c&&r.state.status!==c||u&&!u(r))}function Uu(s,r){return(r?.queryKeyHashFn||pl)(s)}function pl(s){return JSON.stringify(s,(r,i)=>bu(i)?Object.keys(i).sort().reduce((c,u)=>(c[u]=i[u],c),{}):i)}function Ar(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(i=>Ar(s[i],r[i])):!1}var Aj=Object.prototype.hasOwnProperty;function C0(s,r){if(s===r)return s;const i=bp(s)&&bp(r);if(!i&&!(bu(s)&&bu(r)))return r;const u=(i?s:Object.keys(s)).length,f=i?r:Object.keys(r),m=f.length,h=i?new Array(m):{};let y=0;for(let x=0;x<m;x++){const p=i?x:f[x],j=s[p],C=r[p];if(j===C){h[p]=j,(i?x<u:Aj.call(s,p))&&y++;continue}if(j===null||C===null||typeof j!="object"||typeof C!="object"){h[p]=C;continue}const E=C0(j,C);h[p]=E,E===j&&y++}return u===m&&y===u?s:h}function gc(s,r){if(!r||Object.keys(s).length!==Object.keys(r).length)return!1;for(const i in s)if(s[i]!==r[i])return!1;return!0}function bp(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function bu(s){if(!jp(s))return!1;const r=s.constructor;if(r===void 0)return!0;const i=r.prototype;return!(!jp(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function jp(s){return Object.prototype.toString.call(s)==="[object Object]"}function Dj(s){return new Promise(r=>{ol.setTimeout(r,s)})}function ju(s,r,i){return typeof i.structuralSharing=="function"?i.structuralSharing(s,r):i.structuralSharing!==!1?C0(s,r):r}function Rj(s,r,i=0){const c=[...s,r];return i&&c.length>i?c.slice(1):c}function Oj(s,r,i=0){const c=[r,...s];return i&&c.length>i?c.slice(0,-1):c}var Hu=Symbol();function E0(s,r){return!s.queryFn&&r?.initialPromise?()=>r.initialPromise:!s.queryFn||s.queryFn===Hu?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function T0(s,r){return typeof s=="function"?s(...r):!!s}var kj=class extends wn{#e;#t;#a;constructor(){super(),this.#a=s=>{if(!xl&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#a=s,this.#t?.(),this.#t=s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Fu=new kj;function Nu(){let s,r;const i=new Promise((u,f)=>{s=u,r=f});i.status="pending",i.catch(()=>{});function c(u){Object.assign(i,u),delete i.resolve,delete i.reject}return i.resolve=u=>{c({status:"fulfilled",value:u}),s(u)},i.reject=u=>{c({status:"rejected",reason:u}),r(u)},i}var zj=Tj;function qj(){let s=[],r=0,i=h=>{h()},c=h=>{h()},u=zj;const f=h=>{r?s.push(h):u(()=>{i(h)})},m=()=>{const h=s;s=[],h.length&&u(()=>{c(()=>{h.forEach(y=>{i(y)})})})};return{batch:h=>{let y;r++;try{y=h()}finally{r--,r||m()}return y},batchCalls:h=>(...y)=>{f(()=>{h(...y)})},schedule:f,setNotifyFunction:h=>{i=h},setBatchNotifyFunction:h=>{c=h},setScheduler:h=>{u=h}}}var vt=qj(),Lj=class extends wn{#e=!0;#t;#a;constructor(){super(),this.#a=s=>{if(!xl&&window.addEventListener){const r=()=>s(!0),i=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#a=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(i=>{i(s)}))}isOnline(){return this.#e}},yc=new Lj;function Uj(s){return Math.min(1e3*2**s,3e4)}function M0(s){return(s??"online")==="online"?yc.isOnline():!0}var _u=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function A0(s){let r=!1,i=0,c;const u=Nu(),f=()=>u.status!=="pending",m=T=>{if(!f()){const S=new _u(T);C(S),s.onCancel?.(S)}},h=()=>{r=!0},y=()=>{r=!1},x=()=>Fu.isFocused()&&(s.networkMode==="always"||yc.isOnline())&&s.canRun(),p=()=>M0(s.networkMode)&&s.canRun(),j=T=>{f()||(c?.(),u.resolve(T))},C=T=>{f()||(c?.(),u.reject(T))},E=()=>new Promise(T=>{c=S=>{(f()||x())&&T(S)},s.onPause?.()}).then(()=>{c=void 0,f()||s.onContinue?.()}),N=()=>{if(f())return;let T;const S=i===0?s.initialPromise:void 0;try{T=S??s.fn()}catch(w){T=Promise.reject(w)}Promise.resolve(T).then(j).catch(w=>{if(f())return;const k=s.retry??(xl?0:3),O=s.retryDelay??Uj,H=typeof O=="function"?O(i,w):O,Q=k===!0||typeof k=="number"&&i<k||typeof k=="function"&&k(i,w);if(r||!Q){C(w);return}i++,s.onFail?.(i,w),Dj(H).then(()=>x()?void 0:E()).then(()=>{r?C(w):N()})})};return{promise:u,status:()=>u.status,cancel:m,continue:()=>(c?.(),u),cancelRetry:h,continueRetry:y,canStart:p,start:()=>(p()?N():E().then(N),u)}}var D0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vu(this.gcTime)&&(this.#e=ol.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(xl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ol.clearTimeout(this.#e),this.#e=void 0)}},Hj=class extends D0{#e;#t;#a;#l;#s;#r;#i;constructor(s){super(),this.#i=!1,this.#r=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#l=s.client,this.#a=this.#l.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=_p(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(s){if(this.options={...this.#r,...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=_p(this.options);r.data!==void 0&&(this.setState(Np(r.data,r.dataUpdatedAt)),this.#e=r)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#a.remove(this)}setData(s,r){const i=ju(this.state.data,s,this.options);return this.#n({data:i,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),i}setState(s,r){this.#n({type:"setState",state:s,setStateOptions:r})}cancel(s){const r=this.#s?.promise;return this.#s?.cancel(s),r?r.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>ha(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Ls(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!S0(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(this.#s&&(this.#i?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(s,r){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(s&&this.setOptions(s),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,c=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#i=!0,i.signal)})},u=()=>{const h=E0(this.options,r),x=(()=>{const p={client:this.#l,queryKey:this.queryKey,meta:this.meta};return c(p),p})();return this.#i=!1,this.options.persister?this.options.persister(h,x,this):h(x)},m=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:u};return c(h),h})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#n({type:"fetch",meta:m.fetchOptions?.meta}),this.#s=A0({initialPromise:r?.initialPromise,fn:m.fetchFn,onCancel:h=>{h instanceof _u&&h.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(h,y)=>{this.#n({type:"failed",failureCount:h,error:y})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const h=await this.#s.start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),this.#a.config.onSuccess?.(h,this),this.#a.config.onSettled?.(h,this.state.error,this),h}catch(h){if(h instanceof _u){if(h.silent)return this.#s.promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw this.#n({type:"error",error:h}),this.#a.config.onError?.(h,this),this.#a.config.onSettled?.(this.state.data,h,this),h}finally{this.scheduleGc()}}#n(s){const r=i=>{switch(s.type){case"failed":return{...i,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...R0(i.data,this.options),fetchMeta:s.meta??null};case"success":const c={...i,...Np(s.data,s.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=s.manual?c:void 0,c;case"error":const u=s.error;return{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...s.state}}};this.state=r(this.state),vt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#a.notify({query:this,type:"updated",action:s})})}};function R0(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M0(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Np(s,r){return{data:s,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _p(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,i=r!==void 0,c=i?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:i?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var Fj=class extends wn{constructor(s,r){super(),this.options=r,this.#e=s,this.#n=null,this.#i=Nu(),this.bindMethods(),this.setOptions(r)}#e;#t=void 0;#a=void 0;#l=void 0;#s;#r;#i;#n;#x;#m;#h;#o;#d;#c;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wp(this.#t,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wu(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wu(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(s){const r=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ha(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),r._defaulted&&!gc(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const c=this.hasListeners();c&&Sp(this.#t,i,this.options,r)&&this.#u(),this.updateResult(),c&&(this.#t!==i||ha(this.options.enabled,this.#t)!==ha(r.enabled,this.#t)||Ls(this.options.staleTime,this.#t)!==Ls(r.staleTime,this.#t))&&this.#p();const u=this.#g();c&&(this.#t!==i||ha(this.options.enabled,this.#t)!==ha(r.enabled,this.#t)||u!==this.#c)&&this.#y(u)}getOptimisticResult(s){const r=this.#e.getQueryCache().build(this.#e,s),i=this.createResult(r,s);return Qj(this,i)&&(this.#l=i,this.#r=this.options,this.#s=this.#t.state),i}getCurrentResult(){return this.#l}trackResult(s,r){return new Proxy(s,{get:(i,c)=>(this.trackProp(c),r?.(c),c==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,c))})}trackProp(s){this.#f.add(s)}getCurrentQuery(){return this.#t}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=this.#e.defaultQueryOptions(s),i=this.#e.getQueryCache().build(this.#e,r);return i.fetch().then(()=>this.createResult(i,r))}fetch(s){return this.#u({...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#l))}#u(s){this.#N();let r=this.#t.fetch(this.options,s);return s?.throwOnError||(r=r.catch(qt)),r}#p(){this.#b();const s=Ls(this.options.staleTime,this.#t);if(xl||this.#l.isStale||!vu(s))return;const i=S0(this.#l.dataUpdatedAt,s)+1;this.#o=ol.setTimeout(()=>{this.#l.isStale||this.updateResult()},i)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(s){this.#j(),this.#c=s,!(xl||ha(this.options.enabled,this.#t)===!1||!vu(this.#c)||this.#c===0)&&(this.#d=ol.setInterval(()=>{(this.options.refetchIntervalInBackground||Fu.isFocused())&&this.#u()},this.#c))}#v(){this.#p(),this.#y(this.#g())}#b(){this.#o&&(ol.clearTimeout(this.#o),this.#o=void 0)}#j(){this.#d&&(ol.clearInterval(this.#d),this.#d=void 0)}createResult(s,r){const i=this.#t,c=this.options,u=this.#l,f=this.#s,m=this.#r,y=s!==i?s.state:this.#a,{state:x}=s;let p={...x},j=!1,C;if(r._optimisticResults){const W=this.hasListeners(),ie=!W&&wp(s,r),$=W&&Sp(s,i,r,c);(ie||$)&&(p={...p,...R0(x.data,s.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:E,errorUpdatedAt:N,status:T}=p;C=p.data;let S=!1;if(r.placeholderData!==void 0&&C===void 0&&T==="pending"){let W;u?.isPlaceholderData&&r.placeholderData===m?.placeholderData?(W=u.data,S=!0):W=typeof r.placeholderData=="function"?r.placeholderData(this.#h?.state.data,this.#h):r.placeholderData,W!==void 0&&(T="success",C=ju(u?.data,W,r),j=!0)}if(r.select&&C!==void 0&&!S)if(u&&C===f?.data&&r.select===this.#x)C=this.#m;else try{this.#x=r.select,C=r.select(C),C=ju(u?.data,C,r),this.#m=C,this.#n=null}catch(W){this.#n=W}this.#n&&(E=this.#n,C=this.#m,N=Date.now(),T="error");const w=p.fetchStatus==="fetching",k=T==="pending",O=T==="error",H=k&&w,Q=C!==void 0,P={status:T,fetchStatus:p.fetchStatus,isPending:k,isSuccess:T==="success",isError:O,isInitialLoading:H,isLoading:H,data:C,dataUpdatedAt:p.dataUpdatedAt,error:E,errorUpdatedAt:N,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>y.dataUpdateCount||p.errorUpdateCount>y.errorUpdateCount,isFetching:w,isRefetching:w&&!k,isLoadingError:O&&!Q,isPaused:p.fetchStatus==="paused",isPlaceholderData:j,isRefetchError:O&&Q,isStale:Bu(s,r),refetch:this.refetch,promise:this.#i,isEnabled:ha(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const W=q=>{P.status==="error"?q.reject(P.error):P.data!==void 0&&q.resolve(P.data)},ie=()=>{const q=this.#i=P.promise=Nu();W(q)},$=this.#i;switch($.status){case"pending":s.queryHash===i.queryHash&&W($);break;case"fulfilled":(P.status==="error"||P.data!==$.value)&&ie();break;case"rejected":(P.status!=="error"||P.error!==$.reason)&&ie();break}}return P}updateResult(){const s=this.#l,r=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#r=this.options,this.#s.data!==void 0&&(this.#h=this.#t),gc(r,s))return;this.#l=r;const i=()=>{if(!s)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!this.#f.size)return!0;const f=new Set(u??this.#f);return this.options.throwOnError&&f.add("error"),Object.keys(this.#l).some(m=>{const h=m;return this.#l[h]!==s[h]&&f.has(h)})};this.#_({listeners:i()})}#N(){const s=this.#e.getQueryCache().build(this.#e,this.options);if(s===this.#t)return;const r=this.#t;this.#t=s,this.#a=s.state,this.hasListeners()&&(r?.removeObserver(this),s.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#_(s){vt.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(this.#l)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Bj(s,r){return ha(r.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&r.retryOnMount===!1)}function wp(s,r){return Bj(s,r)||s.state.data!==void 0&&wu(s,r,r.refetchOnMount)}function wu(s,r,i){if(ha(r.enabled,s)!==!1&&Ls(r.staleTime,s)!=="static"){const c=typeof i=="function"?i(s):i;return c==="always"||c!==!1&&Bu(s,r)}return!1}function Sp(s,r,i,c){return(s!==r||ha(c.enabled,s)===!1)&&(!i.suspense||s.state.status!=="error")&&Bu(s,i)}function Bu(s,r){return ha(r.enabled,s)!==!1&&s.isStaleByTime(Ls(r.staleTime,s))}function Qj(s,r){return!gc(s.getCurrentResult(),r)}function Cp(s){return{onFetch:(r,i)=>{const c=r.options,u=r.fetchOptions?.meta?.fetchMore?.direction,f=r.state.data?.pages||[],m=r.state.data?.pageParams||[];let h={pages:[],pageParams:[]},y=0;const x=async()=>{let p=!1;const j=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(r.signal.aborted?p=!0:r.signal.addEventListener("abort",()=>{p=!0}),r.signal)})},C=E0(r.options,r.fetchOptions),E=async(N,T,S)=>{if(p)return Promise.reject();if(T==null&&N.pages.length)return Promise.resolve(N);const k=(()=>{const z={client:r.client,queryKey:r.queryKey,pageParam:T,direction:S?"backward":"forward",meta:r.options.meta};return j(z),z})(),O=await C(k),{maxPages:H}=r.options,Q=S?Oj:Rj;return{pages:Q(N.pages,O,H),pageParams:Q(N.pageParams,T,H)}};if(u&&f.length){const N=u==="backward",T=N?Vj:Ep,S={pages:f,pageParams:m},w=T(c,S);h=await E(S,w,N)}else{const N=s??f.length;do{const T=y===0?m[0]??c.initialPageParam:Ep(c,h);if(y>0&&T==null)break;h=await E(h,T),y++}while(y<N)}return h};r.options.persister?r.fetchFn=()=>r.options.persister?.(x,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},i):r.fetchFn=x}}}function Ep(s,{pages:r,pageParams:i}){const c=r.length-1;return r.length>0?s.getNextPageParam(r[c],r,i[c],i):void 0}function Vj(s,{pages:r,pageParams:i}){return r.length>0?s.getPreviousPageParam?.(r[0],r,i[0],i):void 0}var $j=class extends D0{#e;#t;#a;#l;constructor(s){super(),this.#e=s.client,this.mutationId=s.mutationId,this.#a=s.mutationCache,this.#t=[],this.state=s.state||O0(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(r=>r!==s),this.scheduleGc(),this.#a.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#a.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(s){const r=()=>{this.#s({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#l=A0({fn:()=>this.options.mutationFn?this.options.mutationFn(s,i):Promise.reject(new Error("No mutationFn found")),onFail:(f,m)=>{this.#s({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#s({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#a.canRun(this)});const c=this.state.status==="pending",u=!this.#l.canStart();try{if(c)r();else{this.#s({type:"pending",variables:s,isPaused:u}),await this.#a.config.onMutate?.(s,this,i);const m=await this.options.onMutate?.(s,i);m!==this.state.context&&this.#s({type:"pending",context:m,variables:s,isPaused:u})}const f=await this.#l.start();return await this.#a.config.onSuccess?.(f,s,this.state.context,this,i),await this.options.onSuccess?.(f,s,this.state.context,i),await this.#a.config.onSettled?.(f,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(f,null,s,this.state.context,i),this.#s({type:"success",data:f}),f}catch(f){try{throw await this.#a.config.onError?.(f,s,this.state.context,this,i),await this.options.onError?.(f,s,this.state.context,i),await this.#a.config.onSettled?.(void 0,f,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,f,s,this.state.context,i),f}finally{this.#s({type:"error",error:f})}}finally{this.#a.runNext(this)}}#s(s){const r=i=>{switch(s.type){case"failed":return{...i,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...i,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:s.error,failureCount:i.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vt.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(s)}),this.#a.notify({mutation:this,type:"updated",action:s})})}};function O0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gj=class extends wn{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#a=0}#e;#t;#a;build(s,r,i){const c=new $j({client:s,mutationCache:this,mutationId:++this.#a,options:s.defaultMutationOptions(r),state:i});return this.add(c),c}add(s){this.#e.add(s);const r=sc(s);if(typeof r=="string"){const i=this.#t.get(r);i?i.push(s):this.#t.set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const r=sc(s);if(typeof r=="string"){const i=this.#t.get(r);if(i)if(i.length>1){const c=i.indexOf(s);c!==-1&&i.splice(c,1)}else i[0]===s&&this.#t.delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=sc(s);if(typeof r=="string"){const c=this.#t.get(r)?.find(u=>u.state.status==="pending");return!c||c===s}else return!0}runNext(s){const r=sc(s);return typeof r=="string"?this.#t.get(r)?.find(c=>c!==s&&c.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vt.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const r={exact:!0,...s};return this.getAll().find(i=>vp(r,i))}findAll(s={}){return this.getAll().filter(r=>vp(s,r))}notify(s){vt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return vt.batch(()=>Promise.all(s.map(r=>r.continue().catch(qt))))}};function sc(s){return s.options.scope?.id}var Yj=class extends wn{#e;#t=void 0;#a;#l;constructor(r,i){super(),this.#e=r,this.setOptions(i),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const i=this.options;this.options=this.#e.defaultMutationOptions(r),gc(this.options,i)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#a,observer:this}),i?.mutationKey&&this.options.mutationKey&&pl(i.mutationKey)!==pl(this.options.mutationKey)?this.reset():this.#a?.state.status==="pending"&&this.#a.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#a?.removeObserver(this)}onMutationUpdate(r){this.#s(),this.#r(r)}getCurrentResult(){return this.#t}reset(){this.#a?.removeObserver(this),this.#a=void 0,this.#s(),this.#r()}mutate(r,i){return this.#l=i,this.#a?.removeObserver(this),this.#a=this.#e.getMutationCache().build(this.#e,this.options),this.#a.addObserver(this),this.#a.execute(r)}#s(){const r=this.#a?.state??O0();this.#t={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#r(r){vt.batch(()=>{if(this.#l&&this.hasListeners()){const i=this.#t.variables,c=this.#t.context,u={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};r?.type==="success"?(this.#l.onSuccess?.(r.data,i,c,u),this.#l.onSettled?.(r.data,null,i,c,u)):r?.type==="error"&&(this.#l.onError?.(r.error,i,c,u),this.#l.onSettled?.(void 0,r.error,i,c,u))}this.listeners.forEach(i=>{i(this.#t)})})}},Xj=class extends wn{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,r,i){const c=r.queryKey,u=r.queryHash??Uu(c,r);let f=this.get(u);return f||(f=new Hj({client:s,queryKey:c,queryHash:u,options:s.defaultQueryOptions(r),state:i,defaultOptions:s.getQueryDefaults(c)}),this.add(f)),f}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=this.#e.get(s.queryHash);r&&(s.destroy(),r===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){vt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const r={exact:!0,...s};return this.getAll().find(i=>yp(r,i))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(i=>yp(s,i)):r}notify(s){vt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){vt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){vt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Kj=class{#e;#t;#a;#l;#s;#r;#i;#n;constructor(s={}){this.#e=s.queryCache||new Xj,this.#t=s.mutationCache||new Gj,this.#a=s.defaultOptions||{},this.#l=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#i=Fu.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=yc.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#i?.(),this.#i=void 0,this.#n?.(),this.#n=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const r=this.defaultQueryOptions({queryKey:s});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),i=this.#e.build(this,r),c=i.state.data;return c===void 0?this.fetchQuery(s):(s.revalidateIfStale&&i.isStaleByTime(Ls(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(c))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:r,state:i})=>{const c=i.data;return[r,c]})}setQueryData(s,r,i){const c=this.defaultQueryOptions({queryKey:s}),f=this.#e.get(c.queryHash)?.state.data,m=Mj(r,f);if(m!==void 0)return this.#e.build(this,c).setData(m,{...i,manual:!0})}setQueriesData(s,r,i){return vt.batch(()=>this.#e.findAll(s).map(({queryKey:c})=>[c,this.setQueryData(c,r,i)]))}getQueryState(s){const r=this.defaultQueryOptions({queryKey:s});return this.#e.get(r.queryHash)?.state}removeQueries(s){const r=this.#e;vt.batch(()=>{r.findAll(s).forEach(i=>{r.remove(i)})})}resetQueries(s,r){const i=this.#e;return vt.batch(()=>(i.findAll(s).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const i={revert:!0,...r},c=vt.batch(()=>this.#e.findAll(s).map(u=>u.cancel(i)));return Promise.all(c).then(qt).catch(qt)}invalidateQueries(s,r={}){return vt.batch(()=>(this.#e.findAll(s).forEach(i=>{i.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},r)))}refetchQueries(s,r={}){const i={...r,cancelRefetch:r.cancelRefetch??!0},c=vt.batch(()=>this.#e.findAll(s).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let f=u.fetch(void 0,i);return i.throwOnError||(f=f.catch(qt)),u.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(c).then(qt)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const i=this.#e.build(this,r);return i.isStaleByTime(Ls(r.staleTime,i))?i.fetch(r):Promise.resolve(i.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(qt).catch(qt)}fetchInfiniteQuery(s){return s.behavior=Cp(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(qt).catch(qt)}ensureInfiniteQueryData(s){return s.behavior=Cp(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return yc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#a}setDefaultOptions(s){this.#a=s}setQueryDefaults(s,r){this.#l.set(pl(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...this.#l.values()],i={};return r.forEach(c=>{Ar(s,c.queryKey)&&Object.assign(i,c.defaultOptions)}),i}setMutationDefaults(s,r){this.#s.set(pl(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...this.#s.values()],i={};return r.forEach(c=>{Ar(s,c.mutationKey)&&Object.assign(i,c.defaultOptions)}),i}defaultQueryOptions(s){if(s._defaulted)return s;const r={...this.#a.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=Uu(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===Hu&&(r.enabled=!1),r}defaultMutationOptions(s){return s?._defaulted?s:{...this.#a.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},k0=b.createContext(void 0),Ye=s=>{const r=b.useContext(k0);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Zj=({client:s,children:r})=>(b.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(k0.Provider,{value:s,children:r})),z0=b.createContext(!1),Jj=()=>b.useContext(z0);z0.Provider;function Pj(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Wj=b.createContext(Pj()),Ij=()=>b.useContext(Wj),eN=(s,r)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(r.isReset()||(s.retryOnMount=!1))},tN=s=>{b.useEffect(()=>{s.clearReset()},[s])},aN=({result:s,errorResetBoundary:r,throwOnError:i,query:c,suspense:u})=>s.isError&&!r.isReset()&&!s.isFetching&&c&&(u&&s.data===void 0||T0(i,[s.error,c])),sN=s=>{if(s.suspense){const i=u=>u==="static"?u:Math.max(u??1e3,1e3),c=s.staleTime;s.staleTime=typeof c=="function"?(...u)=>i(c(...u)):i(c),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},lN=(s,r)=>s.isLoading&&s.isFetching&&!r,nN=(s,r)=>s?.suspense&&r.isPending,Tp=(s,r,i)=>r.fetchOptimistic(s).catch(()=>{i.clearReset()});function rN(s,r,i){const c=Jj(),u=Ij(),f=Ye(),m=f.defaultQueryOptions(s);f.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=c?"isRestoring":"optimistic",sN(m),eN(m,u),tN(u);const h=!f.getQueryCache().get(m.queryHash),[y]=b.useState(()=>new r(f,m)),x=y.getOptimisticResult(m),p=!c&&s.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(j=>{const C=p?y.subscribe(vt.batchCalls(j)):qt;return y.updateResult(),C},[y,p]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),b.useEffect(()=>{y.setOptions(m)},[m,y]),nN(m,x))throw Tp(m,y,u);if(aN({result:x,errorResetBoundary:u,throwOnError:m.throwOnError,query:f.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw x.error;return f.getDefaultOptions().queries?._experimental_afterQuery?.(m,x),m.experimental_prefetchInRender&&!xl&&lN(x,c)&&(h?Tp(m,y,u):f.getQueryCache().get(m.queryHash)?.promise)?.catch(qt).finally(()=>{y.updateResult()}),m.notifyOnChangeProps?x:y.trackResult(x)}function Ae(s,r){return rN(s,Fj)}function pe(s,r){const i=Ye(),[c]=b.useState(()=>new Yj(i,s));b.useEffect(()=>{c.setOptions(s)},[c,s]);const u=b.useSyncExternalStore(b.useCallback(m=>c.subscribe(vt.batchCalls(m)),[c]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f=b.useCallback((m,h)=>{c.mutate(m,h).catch(qt)},[c]);if(u.error&&T0(c.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:f,mutateAsync:u.mutate}}function q0(s,r){return function(){return s.apply(r,arguments)}}const{toString:iN}=Object.prototype,{getPrototypeOf:Qu}=Object,{iterator:Tc,toStringTag:L0}=Symbol,Mc=(s=>r=>{const i=iN.call(r);return s[i]||(s[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ea=s=>(s=s.toLowerCase(),r=>Mc(r)===s),Ac=s=>r=>typeof r===s,{isArray:Sn}=Array,xn=Ac("undefined");function kr(s){return s!==null&&!xn(s)&&s.constructor!==null&&!xn(s.constructor)&&$t(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const U0=Ea("ArrayBuffer");function cN(s){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(s):r=s&&s.buffer&&U0(s.buffer),r}const oN=Ac("string"),$t=Ac("function"),H0=Ac("number"),zr=s=>s!==null&&typeof s=="object",dN=s=>s===!0||s===!1,oc=s=>{if(Mc(s)!=="object")return!1;const r=Qu(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(L0 in s)&&!(Tc in s)},uN=s=>{if(!zr(s)||kr(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},mN=Ea("Date"),hN=Ea("File"),fN=Ea("Blob"),xN=Ea("FileList"),pN=s=>zr(s)&&$t(s.pipe),gN=s=>{let r;return s&&(typeof FormData=="function"&&s instanceof FormData||$t(s.append)&&((r=Mc(s))==="formdata"||r==="object"&&$t(s.toString)&&s.toString()==="[object FormData]"))},yN=Ea("URLSearchParams"),[vN,bN,jN,NN]=["ReadableStream","Request","Response","Headers"].map(Ea),_N=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qr(s,r,{allOwnKeys:i=!1}={}){if(s===null||typeof s>"u")return;let c,u;if(typeof s!="object"&&(s=[s]),Sn(s))for(c=0,u=s.length;c<u;c++)r.call(null,s[c],c,s);else{if(kr(s))return;const f=i?Object.getOwnPropertyNames(s):Object.keys(s),m=f.length;let h;for(c=0;c<m;c++)h=f[c],r.call(null,s[h],h,s)}}function F0(s,r){if(kr(s))return null;r=r.toLowerCase();const i=Object.keys(s);let c=i.length,u;for(;c-- >0;)if(u=i[c],r===u.toLowerCase())return u;return null}const dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,B0=s=>!xn(s)&&s!==dl;function Su(){const{caseless:s,skipUndefined:r}=B0(this)&&this||{},i={},c=(u,f)=>{const m=s&&F0(i,f)||f;oc(i[m])&&oc(u)?i[m]=Su(i[m],u):oc(u)?i[m]=Su({},u):Sn(u)?i[m]=u.slice():(!r||!xn(u))&&(i[m]=u)};for(let u=0,f=arguments.length;u<f;u++)arguments[u]&&qr(arguments[u],c);return i}const wN=(s,r,i,{allOwnKeys:c}={})=>(qr(r,(u,f)=>{i&&$t(u)?s[f]=q0(u,i):s[f]=u},{allOwnKeys:c}),s),SN=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),CN=(s,r,i,c)=>{s.prototype=Object.create(r.prototype,c),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:r.prototype}),i&&Object.assign(s.prototype,i)},EN=(s,r,i,c)=>{let u,f,m;const h={};if(r=r||{},s==null)return r;do{for(u=Object.getOwnPropertyNames(s),f=u.length;f-- >0;)m=u[f],(!c||c(m,s,r))&&!h[m]&&(r[m]=s[m],h[m]=!0);s=i!==!1&&Qu(s)}while(s&&(!i||i(s,r))&&s!==Object.prototype);return r},TN=(s,r,i)=>{s=String(s),(i===void 0||i>s.length)&&(i=s.length),i-=r.length;const c=s.indexOf(r,i);return c!==-1&&c===i},MN=s=>{if(!s)return null;if(Sn(s))return s;let r=s.length;if(!H0(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=s[r];return i},AN=(s=>r=>s&&r instanceof s)(typeof Uint8Array<"u"&&Qu(Uint8Array)),DN=(s,r)=>{const c=(s&&s[Tc]).call(s);let u;for(;(u=c.next())&&!u.done;){const f=u.value;r.call(s,f[0],f[1])}},RN=(s,r)=>{let i;const c=[];for(;(i=s.exec(r))!==null;)c.push(i);return c},ON=Ea("HTMLFormElement"),kN=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,c,u){return c.toUpperCase()+u}),Mp=(({hasOwnProperty:s})=>(r,i)=>s.call(r,i))(Object.prototype),zN=Ea("RegExp"),Q0=(s,r)=>{const i=Object.getOwnPropertyDescriptors(s),c={};qr(i,(u,f)=>{let m;(m=r(u,f,s))!==!1&&(c[f]=m||u)}),Object.defineProperties(s,c)},qN=s=>{Q0(s,(r,i)=>{if($t(s)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const c=s[i];if($t(c)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},LN=(s,r)=>{const i={},c=u=>{u.forEach(f=>{i[f]=!0})};return Sn(s)?c(s):c(String(s).split(r)),i},UN=()=>{},HN=(s,r)=>s!=null&&Number.isFinite(s=+s)?s:r;function FN(s){return!!(s&&$t(s.append)&&s[L0]==="FormData"&&s[Tc])}const BN=s=>{const r=new Array(10),i=(c,u)=>{if(zr(c)){if(r.indexOf(c)>=0)return;if(kr(c))return c;if(!("toJSON"in c)){r[u]=c;const f=Sn(c)?[]:{};return qr(c,(m,h)=>{const y=i(m,u+1);!xn(y)&&(f[h]=y)}),r[u]=void 0,f}}return c};return i(s,0)},QN=Ea("AsyncFunction"),VN=s=>s&&(zr(s)||$t(s))&&$t(s.then)&&$t(s.catch),V0=((s,r)=>s?setImmediate:r?((i,c)=>(dl.addEventListener("message",({source:u,data:f})=>{u===dl&&f===i&&c.length&&c.shift()()},!1),u=>{c.push(u),dl.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",$t(dl.postMessage)),$N=typeof queueMicrotask<"u"?queueMicrotask.bind(dl):typeof process<"u"&&process.nextTick||V0,GN=s=>s!=null&&$t(s[Tc]),K={isArray:Sn,isArrayBuffer:U0,isBuffer:kr,isFormData:gN,isArrayBufferView:cN,isString:oN,isNumber:H0,isBoolean:dN,isObject:zr,isPlainObject:oc,isEmptyObject:uN,isReadableStream:vN,isRequest:bN,isResponse:jN,isHeaders:NN,isUndefined:xn,isDate:mN,isFile:hN,isBlob:fN,isRegExp:zN,isFunction:$t,isStream:pN,isURLSearchParams:yN,isTypedArray:AN,isFileList:xN,forEach:qr,merge:Su,extend:wN,trim:_N,stripBOM:SN,inherits:CN,toFlatObject:EN,kindOf:Mc,kindOfTest:Ea,endsWith:TN,toArray:MN,forEachEntry:DN,matchAll:RN,isHTMLForm:ON,hasOwnProperty:Mp,hasOwnProp:Mp,reduceDescriptors:Q0,freezeMethods:qN,toObjectSet:LN,toCamelCase:kN,noop:UN,toFiniteNumber:HN,findKey:F0,global:dl,isContextDefined:B0,isSpecCompliantForm:FN,toJSONObject:BN,isAsyncFn:QN,isThenable:VN,setImmediate:V0,asap:$N,isIterable:GN};function Ce(s,r,i,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}K.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const $0=Ce.prototype,G0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{G0[s]={value:s}});Object.defineProperties(Ce,G0);Object.defineProperty($0,"isAxiosError",{value:!0});Ce.from=(s,r,i,c,u,f)=>{const m=Object.create($0);K.toFlatObject(s,m,function(p){return p!==Error.prototype},x=>x!=="isAxiosError");const h=s&&s.message?s.message:"Error",y=r==null&&s?s.code:r;return Ce.call(m,h,y,i,c,u),s&&m.cause==null&&Object.defineProperty(m,"cause",{value:s,configurable:!0}),m.name=s&&s.name||"Error",f&&Object.assign(m,f),m};const YN=null;function Cu(s){return K.isPlainObject(s)||K.isArray(s)}function Y0(s){return K.endsWith(s,"[]")?s.slice(0,-2):s}function Ap(s,r,i){return s?s.concat(r).map(function(u,f){return u=Y0(u),!i&&f?"["+u+"]":u}).join(i?".":""):r}function XN(s){return K.isArray(s)&&!s.some(Cu)}const KN=K.toFlatObject(K,{},null,function(r){return/^is[A-Z]/.test(r)});function Dc(s,r,i){if(!K.isObject(s))throw new TypeError("target must be an object");r=r||new FormData,i=K.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,S){return!K.isUndefined(S[T])});const c=i.metaTokens,u=i.visitor||p,f=i.dots,m=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(r);if(!K.isFunction(u))throw new TypeError("visitor must be a function");function x(N){if(N===null)return"";if(K.isDate(N))return N.toISOString();if(K.isBoolean(N))return N.toString();if(!y&&K.isBlob(N))throw new Ce("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(N)||K.isTypedArray(N)?y&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,T,S){let w=N;if(N&&!S&&typeof N=="object"){if(K.endsWith(T,"{}"))T=c?T:T.slice(0,-2),N=JSON.stringify(N);else if(K.isArray(N)&&XN(N)||(K.isFileList(N)||K.endsWith(T,"[]"))&&(w=K.toArray(N)))return T=Y0(T),w.forEach(function(O,H){!(K.isUndefined(O)||O===null)&&r.append(m===!0?Ap([T],H,f):m===null?T:T+"[]",x(O))}),!1}return Cu(N)?!0:(r.append(Ap(S,T,f),x(N)),!1)}const j=[],C=Object.assign(KN,{defaultVisitor:p,convertValue:x,isVisitable:Cu});function E(N,T){if(!K.isUndefined(N)){if(j.indexOf(N)!==-1)throw Error("Circular reference detected in "+T.join("."));j.push(N),K.forEach(N,function(w,k){(!(K.isUndefined(w)||w===null)&&u.call(r,w,K.isString(k)?k.trim():k,T,C))===!0&&E(w,T?T.concat(k):[k])}),j.pop()}}if(!K.isObject(s))throw new TypeError("data must be an object");return E(s),r}function Dp(s){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(c){return r[c]})}function Vu(s,r){this._pairs=[],s&&Dc(s,this,r)}const X0=Vu.prototype;X0.append=function(r,i){this._pairs.push([r,i])};X0.toString=function(r){const i=r?function(c){return r.call(this,c,Dp)}:Dp;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function ZN(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function K0(s,r,i){if(!r)return s;const c=i&&i.encode||ZN;K.isFunction(i)&&(i={serialize:i});const u=i&&i.serialize;let f;if(u?f=u(r,i):f=K.isURLSearchParams(r)?r.toString():new Vu(r,i).toString(c),f){const m=s.indexOf("#");m!==-1&&(s=s.slice(0,m)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class Rp{constructor(){this.handlers=[]}use(r,i,c){return this.handlers.push({fulfilled:r,rejected:i,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){K.forEach(this.handlers,function(c){c!==null&&r(c)})}}const Z0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JN=typeof URLSearchParams<"u"?URLSearchParams:Vu,PN=typeof FormData<"u"?FormData:null,WN=typeof Blob<"u"?Blob:null,IN={isBrowser:!0,classes:{URLSearchParams:JN,FormData:PN,Blob:WN},protocols:["http","https","file","blob","url","data"]},$u=typeof window<"u"&&typeof document<"u",Eu=typeof navigator=="object"&&navigator||void 0,e1=$u&&(!Eu||["ReactNative","NativeScript","NS"].indexOf(Eu.product)<0),t1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a1=$u&&window.location.href||"http://localhost",s1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$u,hasStandardBrowserEnv:e1,hasStandardBrowserWebWorkerEnv:t1,navigator:Eu,origin:a1},Symbol.toStringTag,{value:"Module"})),At={...s1,...IN};function l1(s,r){return Dc(s,new At.classes.URLSearchParams,{visitor:function(i,c,u,f){return At.isNode&&K.isBuffer(i)?(this.append(c,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...r})}function n1(s){return K.matchAll(/\w+|\[(\w*)]/g,s).map(r=>r[0]==="[]"?"":r[1]||r[0])}function r1(s){const r={},i=Object.keys(s);let c;const u=i.length;let f;for(c=0;c<u;c++)f=i[c],r[f]=s[f];return r}function J0(s){function r(i,c,u,f){let m=i[f++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),y=f>=i.length;return m=!m&&K.isArray(u)?u.length:m,y?(K.hasOwnProp(u,m)?u[m]=[u[m],c]:u[m]=c,!h):((!u[m]||!K.isObject(u[m]))&&(u[m]=[]),r(i,c,u[m],f)&&K.isArray(u[m])&&(u[m]=r1(u[m])),!h)}if(K.isFormData(s)&&K.isFunction(s.entries)){const i={};return K.forEachEntry(s,(c,u)=>{r(n1(c),u,i,0)}),i}return null}function i1(s,r,i){if(K.isString(s))try{return(r||JSON.parse)(s),K.trim(s)}catch(c){if(c.name!=="SyntaxError")throw c}return(i||JSON.stringify)(s)}const Lr={transitional:Z0,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const c=i.getContentType()||"",u=c.indexOf("application/json")>-1,f=K.isObject(r);if(f&&K.isHTMLForm(r)&&(r=new FormData(r)),K.isFormData(r))return u?JSON.stringify(J0(r)):r;if(K.isArrayBuffer(r)||K.isBuffer(r)||K.isStream(r)||K.isFile(r)||K.isBlob(r)||K.isReadableStream(r))return r;if(K.isArrayBufferView(r))return r.buffer;if(K.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let h;if(f){if(c.indexOf("application/x-www-form-urlencoded")>-1)return l1(r,this.formSerializer).toString();if((h=K.isFileList(r))||c.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Dc(h?{"files[]":r}:r,y&&new y,this.formSerializer)}}return f||u?(i.setContentType("application/json",!1),i1(r)):r}],transformResponse:[function(r){const i=this.transitional||Lr.transitional,c=i&&i.forcedJSONParsing,u=this.responseType==="json";if(K.isResponse(r)||K.isReadableStream(r))return r;if(r&&K.isString(r)&&(c&&!this.responseType||u)){const m=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(r,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?Ce.from(h,Ce.ERR_BAD_RESPONSE,this,null,this.response):h}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],s=>{Lr.headers[s]={}});const c1=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o1=s=>{const r={};let i,c,u;return s&&s.split(`
`).forEach(function(m){u=m.indexOf(":"),i=m.substring(0,u).trim().toLowerCase(),c=m.substring(u+1).trim(),!(!i||r[i]&&c1[i])&&(i==="set-cookie"?r[i]?r[i].push(c):r[i]=[c]:r[i]=r[i]?r[i]+", "+c:c)}),r},Op=Symbol("internals");function Sr(s){return s&&String(s).trim().toLowerCase()}function dc(s){return s===!1||s==null?s:K.isArray(s)?s.map(dc):String(s)}function d1(s){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=i.exec(s);)r[c[1]]=c[2];return r}const u1=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function cu(s,r,i,c,u){if(K.isFunction(c))return c.call(this,r,i);if(u&&(r=i),!!K.isString(r)){if(K.isString(c))return r.indexOf(c)!==-1;if(K.isRegExp(c))return c.test(r)}}function m1(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,c)=>i.toUpperCase()+c)}function h1(s,r){const i=K.toCamelCase(" "+r);["get","set","has"].forEach(c=>{Object.defineProperty(s,c+i,{value:function(u,f,m){return this[c].call(this,r,u,f,m)},configurable:!0})})}let Gt=class{constructor(r){r&&this.set(r)}set(r,i,c){const u=this;function f(h,y,x){const p=Sr(y);if(!p)throw new Error("header name must be a non-empty string");const j=K.findKey(u,p);(!j||u[j]===void 0||x===!0||x===void 0&&u[j]!==!1)&&(u[j||y]=dc(h))}const m=(h,y)=>K.forEach(h,(x,p)=>f(x,p,y));if(K.isPlainObject(r)||r instanceof this.constructor)m(r,i);else if(K.isString(r)&&(r=r.trim())&&!u1(r))m(o1(r),i);else if(K.isObject(r)&&K.isIterable(r)){let h={},y,x;for(const p of r){if(!K.isArray(p))throw TypeError("Object iterator must return a key-value pair");h[x=p[0]]=(y=h[x])?K.isArray(y)?[...y,p[1]]:[y,p[1]]:p[1]}m(h,i)}else r!=null&&f(i,r,c);return this}get(r,i){if(r=Sr(r),r){const c=K.findKey(this,r);if(c){const u=this[c];if(!i)return u;if(i===!0)return d1(u);if(K.isFunction(i))return i.call(this,u,c);if(K.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=Sr(r),r){const c=K.findKey(this,r);return!!(c&&this[c]!==void 0&&(!i||cu(this,this[c],c,i)))}return!1}delete(r,i){const c=this;let u=!1;function f(m){if(m=Sr(m),m){const h=K.findKey(c,m);h&&(!i||cu(c,c[h],h,i))&&(delete c[h],u=!0)}}return K.isArray(r)?r.forEach(f):f(r),u}clear(r){const i=Object.keys(this);let c=i.length,u=!1;for(;c--;){const f=i[c];(!r||cu(this,this[f],f,r,!0))&&(delete this[f],u=!0)}return u}normalize(r){const i=this,c={};return K.forEach(this,(u,f)=>{const m=K.findKey(c,f);if(m){i[m]=dc(u),delete i[f];return}const h=r?m1(f):String(f).trim();h!==f&&delete i[f],i[h]=dc(u),c[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return K.forEach(this,(c,u)=>{c!=null&&c!==!1&&(i[u]=r&&K.isArray(c)?c.join(", "):c)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const c=new this(r);return i.forEach(u=>c.set(u)),c}static accessor(r){const c=(this[Op]=this[Op]={accessors:{}}).accessors,u=this.prototype;function f(m){const h=Sr(m);c[h]||(h1(u,m),c[h]=!0)}return K.isArray(r)?r.forEach(f):f(r),this}};Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Gt.prototype,({value:s},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>s,set(c){this[i]=c}}});K.freezeMethods(Gt);function ou(s,r){const i=this||Lr,c=r||i,u=Gt.from(c.headers);let f=c.data;return K.forEach(s,function(h){f=h.call(i,f,u.normalize(),r?r.status:void 0)}),u.normalize(),f}function P0(s){return!!(s&&s.__CANCEL__)}function Cn(s,r,i){Ce.call(this,s??"canceled",Ce.ERR_CANCELED,r,i),this.name="CanceledError"}K.inherits(Cn,Ce,{__CANCEL__:!0});function W0(s,r,i){const c=i.config.validateStatus;!i.status||!c||c(i.status)?s(i):r(new Ce("Request failed with status code "+i.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function f1(s){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return r&&r[1]||""}function x1(s,r){s=s||10;const i=new Array(s),c=new Array(s);let u=0,f=0,m;return r=r!==void 0?r:1e3,function(y){const x=Date.now(),p=c[f];m||(m=x),i[u]=y,c[u]=x;let j=f,C=0;for(;j!==u;)C+=i[j++],j=j%s;if(u=(u+1)%s,u===f&&(f=(f+1)%s),x-m<r)return;const E=p&&x-p;return E?Math.round(C*1e3/E):void 0}}function p1(s,r){let i=0,c=1e3/r,u,f;const m=(x,p=Date.now())=>{i=p,u=null,f&&(clearTimeout(f),f=null),s(...x)};return[(...x)=>{const p=Date.now(),j=p-i;j>=c?m(x,p):(u=x,f||(f=setTimeout(()=>{f=null,m(u)},c-j)))},()=>u&&m(u)]}const vc=(s,r,i=3)=>{let c=0;const u=x1(50,250);return p1(f=>{const m=f.loaded,h=f.lengthComputable?f.total:void 0,y=m-c,x=u(y),p=m<=h;c=m;const j={loaded:m,total:h,progress:h?m/h:void 0,bytes:y,rate:x||void 0,estimated:x&&h&&p?(h-m)/x:void 0,event:f,lengthComputable:h!=null,[r?"download":"upload"]:!0};s(j)},i)},kp=(s,r)=>{const i=s!=null;return[c=>r[0]({lengthComputable:i,total:s,loaded:c}),r[1]]},zp=s=>(...r)=>K.asap(()=>s(...r)),g1=At.hasStandardBrowserEnv?((s,r)=>i=>(i=new URL(i,At.origin),s.protocol===i.protocol&&s.host===i.host&&(r||s.port===i.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,y1=At.hasStandardBrowserEnv?{write(s,r,i,c,u,f,m){if(typeof document>"u")return;const h=[`${s}=${encodeURIComponent(r)}`];K.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),K.isString(c)&&h.push(`path=${c}`),K.isString(u)&&h.push(`domain=${u}`),f===!0&&h.push("secure"),K.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(s){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function v1(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function b1(s,r){return r?s.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):s}function I0(s,r,i){let c=!v1(r);return s&&(c||i==!1)?b1(s,r):r}const qp=s=>s instanceof Gt?{...s}:s;function gl(s,r){r=r||{};const i={};function c(x,p,j,C){return K.isPlainObject(x)&&K.isPlainObject(p)?K.merge.call({caseless:C},x,p):K.isPlainObject(p)?K.merge({},p):K.isArray(p)?p.slice():p}function u(x,p,j,C){if(K.isUndefined(p)){if(!K.isUndefined(x))return c(void 0,x,j,C)}else return c(x,p,j,C)}function f(x,p){if(!K.isUndefined(p))return c(void 0,p)}function m(x,p){if(K.isUndefined(p)){if(!K.isUndefined(x))return c(void 0,x)}else return c(void 0,p)}function h(x,p,j){if(j in r)return c(x,p);if(j in s)return c(void 0,x)}const y={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(x,p,j)=>u(qp(x),qp(p),j,!0)};return K.forEach(Object.keys({...s,...r}),function(p){const j=y[p]||u,C=j(s[p],r[p],p);K.isUndefined(C)&&j!==h||(i[p]=C)}),i}const eg=s=>{const r=gl({},s);let{data:i,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:f,headers:m,auth:h}=r;if(r.headers=m=Gt.from(m),r.url=K0(I0(r.baseURL,r.url,r.allowAbsoluteUrls),s.params,s.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),K.isFormData(i)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(K.isFunction(i.getHeaders)){const y=i.getHeaders(),x=["content-type","content-length"];Object.entries(y).forEach(([p,j])=>{x.includes(p.toLowerCase())&&m.set(p,j)})}}if(At.hasStandardBrowserEnv&&(c&&K.isFunction(c)&&(c=c(r)),c||c!==!1&&g1(r.url))){const y=u&&f&&y1.read(f);y&&m.set(u,y)}return r},j1=typeof XMLHttpRequest<"u",N1=j1&&function(s){return new Promise(function(i,c){const u=eg(s);let f=u.data;const m=Gt.from(u.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:x}=u,p,j,C,E,N;function T(){E&&E(),N&&N(),u.cancelToken&&u.cancelToken.unsubscribe(p),u.signal&&u.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(u.method.toUpperCase(),u.url,!0),S.timeout=u.timeout;function w(){if(!S)return;const O=Gt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),Q={data:!h||h==="text"||h==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:O,config:s,request:S};W0(function(P){i(P),T()},function(P){c(P),T()},Q),S=null}"onloadend"in S?S.onloadend=w:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(w)},S.onabort=function(){S&&(c(new Ce("Request aborted",Ce.ECONNABORTED,s,S)),S=null)},S.onerror=function(H){const Q=H&&H.message?H.message:"Network Error",z=new Ce(Q,Ce.ERR_NETWORK,s,S);z.event=H||null,c(z),S=null},S.ontimeout=function(){let H=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const Q=u.transitional||Z0;u.timeoutErrorMessage&&(H=u.timeoutErrorMessage),c(new Ce(H,Q.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,s,S)),S=null},f===void 0&&m.setContentType(null),"setRequestHeader"in S&&K.forEach(m.toJSON(),function(H,Q){S.setRequestHeader(Q,H)}),K.isUndefined(u.withCredentials)||(S.withCredentials=!!u.withCredentials),h&&h!=="json"&&(S.responseType=u.responseType),x&&([C,N]=vc(x,!0),S.addEventListener("progress",C)),y&&S.upload&&([j,E]=vc(y),S.upload.addEventListener("progress",j),S.upload.addEventListener("loadend",E)),(u.cancelToken||u.signal)&&(p=O=>{S&&(c(!O||O.type?new Cn(null,s,S):O),S.abort(),S=null)},u.cancelToken&&u.cancelToken.subscribe(p),u.signal&&(u.signal.aborted?p():u.signal.addEventListener("abort",p)));const k=f1(u.url);if(k&&At.protocols.indexOf(k)===-1){c(new Ce("Unsupported protocol "+k+":",Ce.ERR_BAD_REQUEST,s));return}S.send(f||null)})},_1=(s,r)=>{const{length:i}=s=s?s.filter(Boolean):[];if(r||i){let c=new AbortController,u;const f=function(x){if(!u){u=!0,h();const p=x instanceof Error?x:this.reason;c.abort(p instanceof Ce?p:new Cn(p instanceof Error?p.message:p))}};let m=r&&setTimeout(()=>{m=null,f(new Ce(`timeout ${r} of ms exceeded`,Ce.ETIMEDOUT))},r);const h=()=>{s&&(m&&clearTimeout(m),m=null,s.forEach(x=>{x.unsubscribe?x.unsubscribe(f):x.removeEventListener("abort",f)}),s=null)};s.forEach(x=>x.addEventListener("abort",f));const{signal:y}=c;return y.unsubscribe=()=>K.asap(h),y}},w1=function*(s,r){let i=s.byteLength;if(i<r){yield s;return}let c=0,u;for(;c<i;)u=c+r,yield s.slice(c,u),c=u},S1=async function*(s,r){for await(const i of C1(s))yield*w1(i,r)},C1=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const r=s.getReader();try{for(;;){const{done:i,value:c}=await r.read();if(i)break;yield c}}finally{await r.cancel()}},Lp=(s,r,i,c)=>{const u=S1(s,r);let f=0,m,h=y=>{m||(m=!0,c&&c(y))};return new ReadableStream({async pull(y){try{const{done:x,value:p}=await u.next();if(x){h(),y.close();return}let j=p.byteLength;if(i){let C=f+=j;i(C)}y.enqueue(new Uint8Array(p))}catch(x){throw h(x),x}},cancel(y){return h(y),u.return()}},{highWaterMark:2})},Up=64*1024,{isFunction:lc}=K,E1=(({Request:s,Response:r})=>({Request:s,Response:r}))(K.global),{ReadableStream:Hp,TextEncoder:Fp}=K.global,Bp=(s,...r)=>{try{return!!s(...r)}catch{return!1}},T1=s=>{s=K.merge.call({skipUndefined:!0},E1,s);const{fetch:r,Request:i,Response:c}=s,u=r?lc(r):typeof fetch=="function",f=lc(i),m=lc(c);if(!u)return!1;const h=u&&lc(Hp),y=u&&(typeof Fp=="function"?(N=>T=>N.encode(T))(new Fp):async N=>new Uint8Array(await new i(N).arrayBuffer())),x=f&&h&&Bp(()=>{let N=!1;const T=new i(At.origin,{body:new Hp,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!T}),p=m&&h&&Bp(()=>K.isReadableStream(new c("").body)),j={stream:p&&(N=>N.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!j[N]&&(j[N]=(T,S)=>{let w=T&&T[N];if(w)return w.call(T);throw new Ce(`Response type '${N}' is not supported`,Ce.ERR_NOT_SUPPORT,S)})});const C=async N=>{if(N==null)return 0;if(K.isBlob(N))return N.size;if(K.isSpecCompliantForm(N))return(await new i(At.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(K.isArrayBufferView(N)||K.isArrayBuffer(N))return N.byteLength;if(K.isURLSearchParams(N)&&(N=N+""),K.isString(N))return(await y(N)).byteLength},E=async(N,T)=>{const S=K.toFiniteNumber(N.getContentLength());return S??C(T)};return async N=>{let{url:T,method:S,data:w,signal:k,cancelToken:O,timeout:H,onDownloadProgress:Q,onUploadProgress:z,responseType:P,headers:W,withCredentials:ie="same-origin",fetchOptions:$}=eg(N),q=r||fetch;P=P?(P+"").toLowerCase():"text";let U=_1([k,O&&O.toAbortSignal()],H),fe=null;const te=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let re;try{if(z&&x&&S!=="get"&&S!=="head"&&(re=await E(W,w))!==0){let v=new i(T,{method:"POST",body:w,duplex:"half"}),D;if(K.isFormData(w)&&(D=v.headers.get("content-type"))&&W.setContentType(D),v.body){const[ne,X]=kp(re,vc(zp(z)));w=Lp(v.body,Up,ne,X)}}K.isString(ie)||(ie=ie?"include":"omit");const M=f&&"credentials"in i.prototype,ae={...$,signal:U,method:S.toUpperCase(),headers:W.normalize().toJSON(),body:w,duplex:"half",credentials:M?ie:void 0};fe=f&&new i(T,ae);let Z=await(f?q(fe,$):q(T,ae));const ce=p&&(P==="stream"||P==="response");if(p&&(Q||ce&&te)){const v={};["status","statusText","headers"].forEach(G=>{v[G]=Z[G]});const D=K.toFiniteNumber(Z.headers.get("content-length")),[ne,X]=Q&&kp(D,vc(zp(Q),!0))||[];Z=new c(Lp(Z.body,Up,ne,()=>{X&&X(),te&&te()}),v)}P=P||"text";let xe=await j[K.findKey(j,P)||"text"](Z,N);return!ce&&te&&te(),await new Promise((v,D)=>{W0(v,D,{data:xe,headers:Gt.from(Z.headers),status:Z.status,statusText:Z.statusText,config:N,request:fe})})}catch(M){throw te&&te(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,N,fe),{cause:M.cause||M}):Ce.from(M,M&&M.code,N,fe)}}},M1=new Map,tg=s=>{let r=s&&s.env||{};const{fetch:i,Request:c,Response:u}=r,f=[c,u,i];let m=f.length,h=m,y,x,p=M1;for(;h--;)y=f[h],x=p.get(y),x===void 0&&p.set(y,x=h?new Map:T1(r)),p=x;return x};tg();const Gu={http:YN,xhr:N1,fetch:{get:tg}};K.forEach(Gu,(s,r)=>{if(s){try{Object.defineProperty(s,"name",{value:r})}catch{}Object.defineProperty(s,"adapterName",{value:r})}});const Qp=s=>`- ${s}`,A1=s=>K.isFunction(s)||s===null||s===!1;function D1(s,r){s=K.isArray(s)?s:[s];const{length:i}=s;let c,u;const f={};for(let m=0;m<i;m++){c=s[m];let h;if(u=c,!A1(c)&&(u=Gu[(h=String(c)).toLowerCase()],u===void 0))throw new Ce(`Unknown adapter '${h}'`);if(u&&(K.isFunction(u)||(u=u.get(r))))break;f[h||"#"+m]=u}if(!u){const m=Object.entries(f).map(([y,x])=>`adapter ${y} `+(x===!1?"is not supported by the environment":"is not available in the build"));let h=i?m.length>1?`since :
`+m.map(Qp).join(`
`):" "+Qp(m[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return u}const ag={getAdapter:D1,adapters:Gu};function du(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Cn(null,s)}function Vp(s){return du(s),s.headers=Gt.from(s.headers),s.data=ou.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),ag.getAdapter(s.adapter||Lr.adapter,s)(s).then(function(c){return du(s),c.data=ou.call(s,s.transformResponse,c),c.headers=Gt.from(c.headers),c},function(c){return P0(c)||(du(s),c&&c.response&&(c.response.data=ou.call(s,s.transformResponse,c.response),c.response.headers=Gt.from(c.response.headers))),Promise.reject(c)})}const sg="1.13.2",Rc={};["object","boolean","number","function","string","symbol"].forEach((s,r)=>{Rc[s]=function(c){return typeof c===s||"a"+(r<1?"n ":" ")+s}});const $p={};Rc.transitional=function(r,i,c){function u(f,m){return"[Axios v"+sg+"] Transitional option '"+f+"'"+m+(c?". "+c:"")}return(f,m,h)=>{if(r===!1)throw new Ce(u(m," has been removed"+(i?" in "+i:"")),Ce.ERR_DEPRECATED);return i&&!$p[m]&&($p[m]=!0,console.warn(u(m," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(f,m,h):!0}};Rc.spelling=function(r){return(i,c)=>(console.warn(`${c} is likely a misspelling of ${r}`),!0)};function R1(s,r,i){if(typeof s!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const c=Object.keys(s);let u=c.length;for(;u-- >0;){const f=c[u],m=r[f];if(m){const h=s[f],y=h===void 0||m(h,f,s);if(y!==!0)throw new Ce("option "+f+" must be "+y,Ce.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ce("Unknown option "+f,Ce.ERR_BAD_OPTION)}}const uc={assertOptions:R1,validators:Rc},za=uc.validators;let fl=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Rp,response:new Rp}}async request(r,i){try{return await this._request(r,i)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?f&&!String(c.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+f):c.stack=f}catch{}}throw c}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=gl(this.defaults,i);const{transitional:c,paramsSerializer:u,headers:f}=i;c!==void 0&&uc.assertOptions(c,{silentJSONParsing:za.transitional(za.boolean),forcedJSONParsing:za.transitional(za.boolean),clarifyTimeoutError:za.transitional(za.boolean)},!1),u!=null&&(K.isFunction(u)?i.paramsSerializer={serialize:u}:uc.assertOptions(u,{encode:za.function,serialize:za.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),uc.assertOptions(i,{baseUrl:za.spelling("baseURL"),withXsrfToken:za.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let m=f&&K.merge(f.common,f[i.method]);f&&K.forEach(["delete","get","head","post","put","patch","common"],N=>{delete f[N]}),i.headers=Gt.concat(m,f);const h=[];let y=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(i)===!1||(y=y&&T.synchronous,h.unshift(T.fulfilled,T.rejected))});const x=[];this.interceptors.response.forEach(function(T){x.push(T.fulfilled,T.rejected)});let p,j=0,C;if(!y){const N=[Vp.bind(this),void 0];for(N.unshift(...h),N.push(...x),C=N.length,p=Promise.resolve(i);j<C;)p=p.then(N[j++],N[j++]);return p}C=h.length;let E=i;for(;j<C;){const N=h[j++],T=h[j++];try{E=N(E)}catch(S){T.call(this,S);break}}try{p=Vp.call(this,E)}catch(N){return Promise.reject(N)}for(j=0,C=x.length;j<C;)p=p.then(x[j++],x[j++]);return p}getUri(r){r=gl(this.defaults,r);const i=I0(r.baseURL,r.url,r.allowAbsoluteUrls);return K0(i,r.params,r.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(r){fl.prototype[r]=function(i,c){return this.request(gl(c||{},{method:r,url:i,data:(c||{}).data}))}});K.forEach(["post","put","patch"],function(r){function i(c){return function(f,m,h){return this.request(gl(h||{},{method:r,headers:c?{"Content-Type":"multipart/form-data"}:{},url:f,data:m}))}}fl.prototype[r]=i(),fl.prototype[r+"Form"]=i(!0)});let O1=class lg{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const c=this;this.promise.then(u=>{if(!c._listeners)return;let f=c._listeners.length;for(;f-- >0;)c._listeners[f](u);c._listeners=null}),this.promise.then=u=>{let f;const m=new Promise(h=>{c.subscribe(h),f=h}).then(u);return m.cancel=function(){c.unsubscribe(f)},m},r(function(f,m,h){c.reason||(c.reason=new Cn(f,m,h),i(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=c=>{r.abort(c)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new lg(function(u){r=u}),cancel:r}}};function k1(s){return function(i){return s.apply(null,i)}}function z1(s){return K.isObject(s)&&s.isAxiosError===!0}const Tu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tu).forEach(([s,r])=>{Tu[r]=s});function ng(s){const r=new fl(s),i=q0(fl.prototype.request,r);return K.extend(i,fl.prototype,r,{allOwnKeys:!0}),K.extend(i,r,null,{allOwnKeys:!0}),i.create=function(u){return ng(gl(s,u))},i}const dt=ng(Lr);dt.Axios=fl;dt.CanceledError=Cn;dt.CancelToken=O1;dt.isCancel=P0;dt.VERSION=sg;dt.toFormData=Dc;dt.AxiosError=Ce;dt.Cancel=dt.CanceledError;dt.all=function(r){return Promise.all(r)};dt.spread=k1;dt.isAxiosError=z1;dt.mergeConfig=gl;dt.AxiosHeaders=Gt;dt.formToJSON=s=>J0(K.isHTMLForm(s)?new FormData(s):s);dt.getAdapter=ag.getAdapter;dt.HttpStatusCode=Tu;dt.default=dt;const{Axios:$w,AxiosError:Gw,CanceledError:Yw,isCancel:Xw,CancelToken:Kw,VERSION:Zw,all:Jw,Cancel:Pw,isAxiosError:Ww,spread:Iw,toFormData:e5,AxiosHeaders:t5,HttpStatusCode:a5,formToJSON:s5,getAdapter:l5,mergeConfig:n5}=dt,ee=dt.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(s=>{const r=localStorage.getItem("token");return r&&(s.headers.Authorization=`Bearer ${r}`),s});ee.interceptors.response.use(s=>s,s=>(s.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(s)));const hn={login:(s,r)=>ee.post("/auth/login",{email:s,password:r}),logout:()=>ee.delete("/auth/logout"),me:()=>ee.get("/auth/me"),updateProfile:s=>ee.patch("/auth/profile",{user:s}),changePassword:s=>ee.patch("/auth/password",s),forceChangePassword:s=>ee.post("/auth/password/force_change",s)},Cr={list:()=>ee.get("/auth/signatures"),get:s=>ee.get(`/auth/signatures/${s}`),create:s=>ee.post("/auth/signatures",{signature:s}),update:(s,r)=>ee.patch(`/auth/signatures/${s}`,{signature:r}),delete:s=>ee.delete(`/auth/signatures/${s}`),setDefault:s=>ee.post(`/auth/signatures/${s}/set_default`),toggleActive:s=>ee.post(`/auth/signatures/${s}/toggle_active`),getFonts:()=>ee.get("/auth/signatures/fonts")},ja={list:s=>ee.get("/hr/vacations",{params:s}),get:s=>ee.get(`/hr/vacations/${s}`),create:s=>ee.post("/hr/vacations",{vacation:s}),update:(s,r)=>ee.patch(`/hr/vacations/${s}`,{vacation:r}),delete:s=>ee.delete(`/hr/vacations/${s}`),submit:s=>ee.post(`/hr/vacations/${s}/submit`),cancel:(s,r)=>ee.post(`/hr/vacations/${s}/cancel`,{reason:r}),generateDocument:s=>ee.post(`/hr/vacations/${s}/generate_document`),signDocument:s=>ee.post(`/hr/vacations/${s}/sign_document`),downloadDocument:s=>ee.get(`/hr/vacations/${s}/download_document`,{responseType:"blob"})},La={list:s=>ee.get("/hr/certifications",{params:s}),get:s=>ee.get(`/hr/certifications/${s}`),create:s=>ee.post("/hr/certifications",{certification:s}),update:(s,r)=>ee.patch(`/hr/certifications/${s}`,{certification:r}),cancel:s=>ee.post(`/hr/certifications/${s}/cancel`),delete:s=>ee.delete(`/hr/certifications/${s}`),generateDocument:s=>ee.post(`/hr/certifications/${s}/generate_document`),signDocument:s=>ee.post(`/hr/certifications/${s}/sign_document`),downloadDocument:s=>ee.get(`/hr/certifications/${s}/download_document`,{responseType:"blob"})},mn={list:s=>ee.get("/hr/approvals",{params:s}),get:s=>ee.get(`/hr/approvals/${s}`),approve:(s,r)=>ee.post(`/hr/approvals/${s}/approve`,r),reject:(s,r)=>ee.post(`/hr/approvals/${s}/reject`,{reason:r})},on={list:s=>ee.get("/hr/employees",{params:s}),get:s=>ee.get(`/hr/employees/${s}`),create:s=>ee.post("/hr/employees",{employee:s}),update:(s,r)=>ee.patch(`/hr/employees/${s}`,{employee:r}),getSubordinates:s=>ee.get(`/hr/employees/${s}/subordinates`),getVacationBalance:s=>ee.get(`/hr/employees/${s}/vacation_balance`),createAccount:s=>ee.post(`/hr/employees/${s}/create_account`),generateDocument:(s,r)=>ee.post(`/hr/employees/${s}/generate_document`,{template_id:r})},rg={getStats:()=>ee.get("/hr/dashboard")},mc={list:s=>ee.get("/documents",{params:s}),get:s=>ee.get(`/documents/${s}`),download:s=>ee.get(`/documents/${s}/download`,{responseType:"blob"}),delete:s=>ee.delete(`/documents/${s}`)},ul={list:s=>ee.get("/folders",{params:s}),get:s=>ee.get(`/folders/${s}`),create:s=>ee.post("/folders",{folder:s}),update:(s,r)=>ee.patch(`/folders/${s}`,{folder:r}),delete:s=>ee.delete(`/folders/${s}`),addDocument:(s,r)=>ee.post(`/folders/${s}/documents`,{document_id:r}),removeDocument:(s,r)=>ee.delete(`/folders/${s}/documents/${r}`)},ml={list:s=>ee.get("/admin/signatory_types",{params:s}),get:s=>ee.get(`/admin/signatory_types/${s}`),create:s=>ee.post("/admin/signatory_types",{signatory_type:s}),update:(s,r)=>ee.patch(`/admin/signatory_types/${s}`,{signatory_type:r}),delete:s=>ee.delete(`/admin/signatory_types/${s}`),toggleActive:s=>ee.post(`/admin/signatory_types/${s}/toggle_active`),seedSystem:()=>ee.post("/admin/signatory_types/seed_system"),reorder:s=>ee.post("/admin/signatory_types/reorder",{ids:s})},Dt={list:s=>ee.get("/admin/variable_mappings",{params:s}),grouped:()=>ee.get("/admin/variable_mappings/grouped"),get:s=>ee.get(`/admin/variable_mappings/${s}`),create:s=>ee.post("/admin/variable_mappings",{mapping:s}),update:(s,r)=>ee.patch(`/admin/variable_mappings/${s}`,{mapping:r}),delete:s=>ee.delete(`/admin/variable_mappings/${s}`),toggleActive:s=>ee.post(`/admin/variable_mappings/${s}/toggle_active`),seedSystem:()=>ee.post("/admin/variable_mappings/seed_system"),reorder:s=>ee.post("/admin/variable_mappings/reorder",{ids:s}),pendingVariables:s=>ee.get("/admin/variable_mappings/pending_variables",{params:s}),autoAssign:s=>ee.post("/admin/variable_mappings/auto_assign",s),createAndAssign:s=>ee.post("/admin/variable_mappings/create_and_assign",s),aliases:()=>ee.get("/admin/variable_mappings/aliases"),addAlias:(s,r)=>ee.post(`/admin/variable_mappings/${s}/add_alias`,{alias_name:r}),removeAlias:(s,r)=>ee.post(`/admin/variable_mappings/${s}/remove_alias`,{alias_name:r})},et={list:s=>ee.get("/admin/templates",{params:s}),get:s=>ee.get(`/admin/templates/${s}`),create:s=>ee.post("/admin/templates",s),update:(s,r)=>ee.patch(`/admin/templates/${s}`,r),delete:s=>ee.delete(`/admin/templates/${s}`),activate:s=>ee.post(`/admin/templates/${s}/activate`),archive:s=>ee.post(`/admin/templates/${s}/archive`),duplicate:s=>ee.post(`/admin/templates/${s}/duplicate`),upload:(s,r)=>{const i=new FormData;return i.append("file",r),ee.post(`/admin/templates/${s}/upload`,i,{headers:{"Content-Type":"multipart/form-data"}})},getCategories:()=>ee.get("/admin/templates/categories"),getVariableMappings:()=>ee.get("/admin/templates/variable_mappings"),reassignMappings:s=>ee.post(`/admin/templates/${s}/reassign_mappings`),download:s=>ee.get(`/admin/templates/${s}/download`,{responseType:"blob"}),preview:s=>ee.get(`/admin/templates/${s}/preview`,{responseType:"blob"}),listSignatories:s=>ee.get(`/admin/templates/${s}/signatories`),createSignatory:(s,r)=>ee.post(`/admin/templates/${s}/signatories`,{signatory:r}),updateSignatory:(s,r,i)=>ee.patch(`/admin/templates/${s}/signatories/${r}`,{signatory:i}),deleteSignatory:(s,r)=>ee.delete(`/admin/templates/${s}/signatories/${r}`),reorderSignatories:(s,r)=>ee.post(`/admin/templates/${s}/signatories/reorder`,{ids:r})},qs={list:s=>ee.get("/legal/third_parties",{params:s}),get:s=>ee.get(`/legal/third_parties/${s}`),create:s=>ee.post("/legal/third_parties",{third_party:s}),update:(s,r)=>ee.patch(`/legal/third_parties/${s}`,{third_party:r}),delete:s=>ee.delete(`/legal/third_parties/${s}`),activate:s=>ee.post(`/legal/third_parties/${s}/activate`),deactivate:s=>ee.post(`/legal/third_parties/${s}/deactivate`),block:(s,r)=>ee.post(`/legal/third_parties/${s}/block`,{reason:r})},dn={list:s=>ee.get("/legal/contracts",{params:s}),get:s=>ee.get(`/legal/contracts/${s}`),create:s=>ee.post("/legal/contracts",{contract:s}),update:(s,r)=>ee.patch(`/legal/contracts/${s}`,{contract:r}),delete:s=>ee.delete(`/legal/contracts/${s}`),submit:s=>ee.post(`/legal/contracts/${s}/submit`),activate:s=>ee.post(`/legal/contracts/${s}/activate`),terminate:(s,r)=>ee.post(`/legal/contracts/${s}/terminate`,{reason:r}),cancel:(s,r)=>ee.post(`/legal/contracts/${s}/cancel`,{reason:r}),generateDocument:(s,r)=>ee.post(`/legal/contracts/${s}/generate_document`,{template_id:r}),downloadDocument:s=>ee.get(`/legal/contracts/${s}/download_document`,{responseType:"blob"})},hc={list:s=>ee.get("/legal/contract_approvals",{params:s}),get:s=>ee.get(`/legal/contract_approvals/${s}`),approve:(s,r)=>ee.post(`/legal/contract_approvals/${s}/approve`,{notes:r}),reject:(s,r)=>ee.post(`/legal/contract_approvals/${s}/reject`,{reason:r})},Gp={get:()=>ee.get("/admin/settings"),update:s=>ee.patch("/admin/settings",{settings:s})},ig=b.createContext(null);function q1({children:s}){const[r,i]=b.useState(null),[c,u]=b.useState(!0),[f,m]=b.useState(!1);b.useEffect(()=>{const z=localStorage.getItem("user"),P=localStorage.getItem("token");z&&P?(i(JSON.parse(z)),hn.me().then(W=>{i(W.data.data),localStorage.setItem("user",JSON.stringify(W.data.data))}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null)}).finally(()=>u(!1))):u(!1)},[]);const h=b.useCallback(async(z,P)=>{const W=await hn.login(z,P),{data:ie,token:$}=W.data;return localStorage.setItem("token",$),localStorage.setItem("user",JSON.stringify(ie)),i(ie),ie},[]),y=b.useCallback(async()=>{try{await hn.logout()}catch{}localStorage.removeItem("token"),localStorage.removeItem("user"),i(null)},[]),x=b.useCallback(z=>!r?.roles||f&&z!=="employee"?!1:r.roles.includes(z)||r.roles.includes("admin"),[r,f]),p=b.useCallback(z=>!r?.permissions||f?!1:r.permissions.includes("*")?!0:r.permissions.includes(z),[r,f]),j=r?.roles?.includes("admin"),C=r?.is_hr||r?.roles?.includes("hr")||r?.roles?.includes("hr_manager"),E=r?.is_supervisor||!1,N=j||C||E,T=f?!1:j,S=f?!1:C,w=f?!1:E,k=r?.must_change_password||!1,O=b.useCallback(()=>{m(z=>!z)},[]),H=b.useCallback(z=>{i(z),localStorage.setItem("user",JSON.stringify(z))},[]),Q={user:r,loading:c,login:h,logout:y,hasRole:x,hasPermission:p,isAdmin:T,isHR:S,isSupervisor:w,isAuthenticated:!!r,mustChangePassword:k,updateUser:H,employeeMode:f,toggleEmployeeMode:O,hasElevatedRole:N};return e.jsx(ig.Provider,{value:Q,children:s})}function Ta(){const s=b.useContext(ig);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const L1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,c)=>c?c.toUpperCase():i.toLowerCase()),Yp=s=>{const r=U1(s);return r.charAt(0).toUpperCase()+r.slice(1)},cg=(...s)=>s.filter((r,i,c)=>!!r&&r.trim()!==""&&c.indexOf(r)===i).join(" ").trim(),H1=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var F1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const B1=b.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:u="",children:f,iconNode:m,...h},y)=>b.createElement("svg",{ref:y,...F1,width:r,height:r,stroke:s,strokeWidth:c?Number(i)*24/Number(r):i,className:cg("lucide",u),...!f&&!H1(h)&&{"aria-hidden":"true"},...h},[...m.map(([x,p])=>b.createElement(x,p)),...Array.isArray(f)?f:[f]]));const ue=(s,r)=>{const i=b.forwardRef(({className:c,...u},f)=>b.createElement(B1,{ref:f,iconNode:r,className:cg(`lucide-${L1(Yp(s))}`,`lucide-${s}`,c),...u}));return i.displayName=Yp(s),i};const Q1=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],V1=ue("archive",Q1);const $1=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Oc=ue("arrow-down",$1);const G1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Y1=ue("arrow-left",G1);const X1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fc=ue("arrow-right",X1);const K1=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],kc=ue("arrow-up-down",K1);const Z1=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],zc=ue("arrow-up",Z1);const J1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Na=ue("award",J1);const P1=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W1=ue("ban",P1);const I1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],e2=ue("bell",I1);const t2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],En=ue("briefcase",t2);const a2=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ha=ue("building-2",a2);const s2=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],bc=ue("building",s2);const l2=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],n2=ue("calendar-clock",l2);const r2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],og=ue("calendar-days",r2);const i2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],it=ue("calendar",i2);const c2=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],o2=ue("camera",c2);const d2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],u2=ue("chart-column",d2);const m2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jc=ue("chevron-down",m2);const h2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dg=ue("chevron-left",h2);const f2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yl=ue("chevron-right",f2);const x2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ge=ue("circle-alert",x2);const p2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qe=ue("circle-check-big",p2);const g2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],y2=ue("circle-user",g2);const v2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Sa=ue("circle-x",v2);const b2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ot=ue("clock",b2);const j2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],N2=ue("copy",j2);const _2=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xp=ue("credit-card",_2);const w2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Nc=ue("database",w2);const S2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hl=ue("dollar-sign",S2);const C2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pn=ue("download",C2);const E2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Yu=ue("ellipsis-vertical",E2);const T2=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],M2=ue("eraser",T2);const A2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ug=ue("external-link",A2);const D2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ds=ue("eye",D2);const R2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],mg=ue("file-check",R2);const O2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Dr=ue("file-down",O2);const k2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z2=ue("file-exclamation-point",k2);const q2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],qc=ue("file-plus",q2);const L2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],Xu=ue("file-search",L2);const U2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ee=ue("file-text",U2);const H2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],F2=ue("folder-open",H2);const B2=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Kp=ue("folder-plus",B2);const Q2=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],hg=ue("folder",Q2);const V2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fg=ue("funnel",V2);const $2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],G2=ue("globe",$2);const Y2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Zp=ue("history",Y2);const X2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ku=ue("house",X2);const K2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Z2=ue("info",K2);const J2=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Zu=ue("key",J2);const P2=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],_c=ue("link-2",P2);const W2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fn=ue("loader-circle",W2);const I2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vl=ue("lock",I2);const e4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t4=ue("log-out",e4);const a4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ju=ue("mail",a4);const s4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xc=ue("map-pin",s4);const l4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],n4=ue("menu",l4);const r4=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],i4=ue("move",r4);const c4=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],_a=ue("pen-tool",c4);const o4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gn=ue("pen",o4);const d4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pu=ue("pencil",d4);const u4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jp=ue("phone",u4);const m4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Je=ue("plus",m4);const h4=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],f4=ue("power",h4);const x4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yn=ue("refresh-cw",x4);const p4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],g4=ue("rotate-ccw",p4);const y4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fa=ue("save",y4);const v4=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],b4=ue("scale",v4);const j4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ma=ue("search",j4);const N4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wu=ue("send",N4);const _4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vn=ue("settings",_4);const w4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],S4=ue("shield-check",w4);const C4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wc=ue("shield",C4);const E4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mu=ue("square-check-big",E4);const T4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xg=ue("square-pen",T4);const M4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pp=ue("star",M4);const A4=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Iu=ue("toggle-left",A4);const D4=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],em=ue("toggle-right",D4);const R4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rt=ue("trash-2",R4);const O4=[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]],k4=ue("tree-palm",O4);const z4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tm=ue("trending-up",z4);const q4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bl=ue("triangle-alert",q4);const L4=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Wp=ue("type",L4);const U4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ip=ue("upload",U4);const H4=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pg=ue("user-check",H4);const F4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],gg=ue("user-plus",F4);const B4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Q4=ue("user-x",B4);const V4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ba=ue("user",V4);const $4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yt=ue("users",$4);const G4=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]],Hs=ue("variable",G4);const Y4=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],e0=ue("wand-sparkles",Y4);const X4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tt=ue("x",X4),K4=[{name:"Inicio",href:"/",icon:Ku},{name:"Documentos",href:"/documents",icon:Ee},{name:"Carpetas",href:"/folders",icon:hg}],t0=[{name:"Mis Vacaciones",href:"/hr/vacations",icon:it},{name:"Mis Certificaciones",href:"/hr/certifications",icon:Na}],Z4=[{name:"Aprobaciones",href:"/hr/approvals",icon:Mu,badge:!0},{name:"Empleados",href:"/hr/employees",icon:Yt},{name:"Variables",href:"/hr/variables",icon:Hs},{name:"Dashboard HR",href:"/hr/dashboard",icon:u2}],J4=(s,r,i)=>i||!s&&!r?t0:[...t0,...Z4],P4=[{name:"Configuracin",href:"/admin/settings",icon:vn},{name:"Templates",href:"/admin/templates",icon:Ee},{name:"Firmantes",href:"/admin/signatory-types",icon:Yt}],W4=[{name:"Terceros",href:"/legal/third-parties",icon:Ha},{name:"Contratos",href:"/legal/contracts",icon:Ee},{name:"Aprobaciones",href:"/legal/approvals",icon:mg,badge:!0},{name:"Variables",href:"/legal/variables",icon:Hs}];function I4({children:s}){const[r,i]=b.useState(!1),[c,u]=b.useState(!1),[f,m]=b.useState([]),{user:h,logout:y,isAdmin:x,isHR:p,isSupervisor:j,employeeMode:C,toggleEmployeeMode:E,hasElevatedRole:N}=Ta(),T=Qa(),S=Fs(),{data:w}=Ae({queryKey:["hr-approvals-count"],queryFn:()=>mn.list(),enabled:j||p,refetchInterval:6e4}),{data:k}=Ae({queryKey:["legal-approvals-count"],queryFn:()=>hc.list(),enabled:x||h?.roles?.includes("legal"),refetchInterval:6e4}),O=w?.data?.meta?.total_pending||0,H=k?.data?.meta?.total_pending||0,Q=async()=>{await y(),S("/login")},z=ie=>{m($=>$.includes(ie)?$.filter(q=>q!==ie):[...$,ie])},P=({item:ie})=>{const $=T.pathname===ie.href,U=ie.badge?ie.href==="/hr/approvals"?O:ie.href==="/legal/approvals"?H:0:0;return e.jsxs(fa,{to:ie.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${$?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(ie.icon,{className:"w-5 h-5"}),ie.name,U>0&&e.jsx("span",{className:"ml-auto bg-danger-500 text-white text-xs px-2 py-0.5 rounded-full",children:U})]})},W=({id:ie,title:$,items:q,icon:U})=>{const fe=f.includes(ie),te=q.some(re=>T.pathname===re.href);return e.jsxs("div",{className:"mb-2",children:[e.jsxs("button",{onClick:()=>z(ie),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${te?"text-primary-700 bg-primary-50/50":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[U&&e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"uppercase tracking-wider text-xs",children:$})]}),fe?e.jsx(jc,{className:"w-4 h-4"}):e.jsx(yl,{className:"w-4 h-4"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-200 ${fe?"max-h-96 opacity-100 mt-1":"max-h-0 opacity-0"}`,children:e.jsx("nav",{className:"space-y-1 pl-2",children:q.map(re=>e.jsx(P,{item:re},re.href))})})]})};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>i(!1)}),e.jsxs("aside",{className:`fixed top-0 left-0 z-50 h-full w-64 bg-white border-r border-gray-200 transform transition-transform lg:translate-x-0 ${r?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[e.jsxs(fa,{to:"/",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:e.jsx("img",{src:"/Valkiria.png",alt:"Valkyria",className:"w-full h-full object-cover scale-[1.15]"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-bold text-gray-900 leading-tight",children:[e.jsx("span",{className:"text-primary-600",children:"VAL"}),"KYRIA"]}),e.jsx("span",{className:"text-[9px] text-gray-400 tracking-wider",children:"ECM"})]})]}),e.jsx("button",{className:"lg:hidden p-1 rounded hover:bg-gray-100",onClick:()=>i(!1),children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 overflow-y-auto h-[calc(100%-4rem)]",children:[N&&e.jsx("div",{className:"mb-4 p-2 bg-gray-50 rounded-lg",children:e.jsx("button",{onClick:E,className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${C?"bg-primary-100 text-primary-700":"bg-white text-gray-700 hover:bg-gray-100"}`,children:C?e.jsxs(e.Fragment,{children:[e.jsx(y2,{className:"w-4 h-4"}),e.jsx("span",{children:"Modo Empleado"}),e.jsx("span",{className:"ml-auto text-xs bg-primary-200 px-2 py-0.5 rounded",children:"Activo"})]}):e.jsxs(e.Fragment,{children:[e.jsx(wc,{className:"w-4 h-4"}),e.jsx("span",{children:"Cambiar a Empleado"})]})})}),e.jsx(W,{id:"general",title:"General",items:K4,icon:Ku}),e.jsx(W,{id:"hr",title:"Recursos Humanos",items:J4(j,p,C),icon:Yt}),!C&&e.jsxs(e.Fragment,{children:[(x||p)&&e.jsx(W,{id:"legal",title:"Gestin Legal",items:W4,icon:b4}),x&&e.jsx(W,{id:"system",title:"Sistema",items:P4,icon:vn})]})]})]}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx("header",{className:"sticky top-0 z-30 h-16 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between h-full px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"lg:hidden p-2 rounded-lg hover:bg-gray-100",onClick:()=>i(!0),children:e.jsx(n4,{className:"w-5 h-5"})}),e.jsx("div",{className:"hidden md:flex items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar documentos...",className:"w-64 pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100",children:[e.jsx(e2,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-danger-500 rounded-full"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100",onClick:()=>u(!c),children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Ba,{className:"w-4 h-4 text-primary-600"})}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[h?.first_name," ",h?.last_name]}),e.jsx("p",{className:"text-xs text-gray-500",children:h?.email})]}),e.jsx(jc,{className:"w-4 h-4 text-gray-400"})]}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[e.jsxs(fa,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>u(!1),children:[e.jsx(Ba,{className:"w-4 h-4"}),"Mi Perfil"]}),e.jsx("hr",{className:"my-1"}),e.jsxs("button",{onClick:Q,className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-danger-600 hover:bg-danger-50",children:[e.jsx(t4,{className:"w-4 h-4"}),"Cerrar Sesin"]})]})]})]})]})]})}),e.jsx("main",{className:"p-6",children:s})]})]})}const e_={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-500",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500"},t_={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"};function F({children:s,variant:r="primary",size:i="md",loading:c=!1,disabled:u=!1,icon:f,className:m="",...h}){return e.jsxs("button",{className:`
        inline-flex items-center justify-center gap-2 font-medium rounded-lg
        transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2
        disabled:opacity-50 disabled:cursor-not-allowed
        ${e_[r]}
        ${t_[i]}
        ${m}
      `,disabled:u||c,...h,children:[c?e.jsx(fn,{className:"w-4 h-4 animate-spin"}):f?e.jsx(f,{className:"w-4 h-4"}):null,s]})}const de=b.forwardRef(({label:s,error:r,hint:i,className:c="",...u},f)=>e.jsxs("div",{className:"w-full",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),e.jsx("input",{ref:f,className:`
          w-full px-3 py-2 border rounded-lg text-gray-900
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
          disabled:bg-gray-50 disabled:text-gray-500
          ${r?"border-red-300":"border-gray-300"}
          ${c}
        `,...u}),i&&!r&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:i}),r&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]}));de.displayName="Input";const a_=[{email:"admin@valkyria.com",password:"Admin123!",role:"Admin",color:"bg-red-100 text-red-700"},{email:"hr.manager@valkyria.com",password:"HrManager123!",role:"Gerente RRHH",color:"bg-purple-100 text-purple-700"},{email:"hr.staff@valkyria.com",password:"HrStaff123!",role:"Staff RRHH",color:"bg-indigo-100 text-indigo-700"},{email:"supervisor@valkyria.com",password:"Supervisor123!",role:"Supervisor",color:"bg-blue-100 text-blue-700"},{email:"employee1@valkyria.com",password:"Employee123!",role:"Empleado",color:"bg-green-100 text-green-700"},{email:"employee2@valkyria.com",password:"Employee123!",role:"Empleado",color:"bg-green-100 text-green-700"},{email:"legal@valkyria.com",password:"Legal123!",role:"Legal",color:"bg-amber-100 text-amber-700"},{email:"viewer@valkyria.com",password:"Viewer123!",role:"Viewer",color:"bg-gray-100 text-gray-700"}];function s_(){const[s,r]=b.useState(""),[i,c]=b.useState(""),[u,f]=b.useState(""),[m,h]=b.useState(!1),{login:y}=Ta(),x=Fs(),j=Qa().state?.from?.pathname||"/",C=N=>{r(N.email),c(N.password)},E=async N=>{N.preventDefault(),f(""),h(!0);try{(await y(s,i)).must_change_password?x("/change-password",{replace:!0}):x(j,{replace:!0})}catch(T){f(T.response?.data?.error||"Error al iniciar sesin")}finally{h(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-36 h-36 mx-auto mb-4 rounded-full overflow-hidden shadow-2xl",children:e.jsx("img",{src:"/Valkiria.png",alt:"Valkyria",className:"w-full h-full object-cover scale-[1.15]"})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"VALKYRIA ECM"}),e.jsx("p",{className:"text-primary-200 mt-2",children:"Protegemos lo que importa"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-6",children:"Iniciar Sesin"}),u&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:u})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsx(de,{label:"Correo Electrnico",type:"email",value:s,onChange:N=>r(N.target.value),placeholder:"tu@email.com",required:!0,autoFocus:!0}),e.jsx(de,{label:"Contrasea",type:"password",value:i,onChange:N=>c(N.target.value),placeholder:"",required:!0}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),e.jsx("span",{className:"text-gray-600",children:"Recordarme"})]}),e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700",children:"Olvidaste tu contrasea?"})]}),e.jsx(F,{type:"submit",loading:m,className:"w-full",children:"Iniciar Sesin"})]})]}),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&e.jsxs("div",{className:"mt-6 bg-white/10 backdrop-blur rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Yt,{className:"w-4 h-4 text-primary-200"}),e.jsx("span",{className:"text-sm font-medium text-primary-100",children:"Usuarios de Prueba"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:a_.map(N=>e.jsxs("button",{onClick:()=>C(N),className:"flex items-center gap-2 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors text-left",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${N.color}`,children:N.role}),e.jsx("span",{className:"text-xs text-white truncate",children:N.email.split("@")[0]})]},N.email))}),e.jsx("p",{className:"text-xs text-primary-300 mt-2 text-center",children:"Click para autocompletar credenciales"})]}),e.jsx("p",{className:"text-center text-primary-200 text-sm mt-6",children:" 2025 VALKYRIA ECM. Todos los derechos reservados."})]})})}function l_(){const[s,r]=b.useState(""),[i,c]=b.useState(""),[u,f]=b.useState(""),[m,h]=b.useState(!1),{user:y,updateUser:x,logout:p}=Ta(),j=Fs(),C=async N=>{if(N.preventDefault(),f(""),s!==i){f("Las contraseas no coinciden");return}if(s.length<6){f("La contrasea debe tener al menos 6 caracteres");return}h(!0);try{const T=await hn.forceChangePassword({new_password:s,new_password_confirmation:i});T.data.token&&localStorage.setItem("token",T.data.token),T.data.data&&x(T.data.data),j("/",{replace:!0})}catch(T){f(T.response?.data?.error||"Error al cambiar la contrasea")}finally{h(!1)}},E=()=>{p(),j("/login",{replace:!0})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-500 to-amber-700 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-2xl shadow-lg mb-4",children:e.jsx(vl,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Cambio de Contrasea"}),e.jsx("p",{className:"text-amber-100 mt-2",children:"Por seguridad, debes cambiar tu contrasea"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S4,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-amber-800",children:["Bienvenido(a), ",y?.first_name||"Usuario"]}),e.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Esta es tu primera vez iniciando sesion. Por razones de seguridad, debes establecer una nueva contrasea antes de continuar."})]})]})}),u&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:u})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsx(de,{label:"Nueva Contrasea",type:"password",value:s,onChange:N=>r(N.target.value),placeholder:"Minimo 6 caracteres",required:!0,autoFocus:!0}),e.jsx(de,{label:"Confirmar Nueva Contrasea",type:"password",value:i,onChange:N=>c(N.target.value),placeholder:"Repite la contrasea",required:!0}),e.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-medium mb-1",children:"Requisitos de la contrasea:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-gray-500",children:[e.jsx("li",{children:"Minimo 6 caracteres"}),e.jsx("li",{children:"No puede ser igual a tu numero de documento"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:E,className:"flex-1",children:"Cancelar"}),e.jsx(F,{type:"submit",loading:m,className:"flex-1",children:"Cambiar Contrasea"})]})]})]}),e.jsx("p",{className:"text-center text-amber-100 text-sm mt-6",children:"VALKYRIA ECM - Sistema de Gestion de Contenido Empresarial"})]})})}function ge({children:s,className:r="",...i}){return e.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 ${r}`,...i,children:s})}function Et({children:s,className:r=""}){return e.jsx("div",{className:`px-6 py-4 border-b border-gray-200 ${r}`,children:s})}function Tt({children:s,className:r=""}){return e.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${r}`,children:s})}function ve({children:s,className:r=""}){return e.jsx("div",{className:`p-6 ${r}`,children:s})}const n_={draft:"bg-gray-100 text-gray-700",pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",approved:"bg-blue-100 text-blue-800",enjoyed:"bg-green-100 text-green-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-500",active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-500",on_leave:"bg-yellow-100 text-yellow-800"},r_={draft:"Borrador",pending:"Solicitada",processing:"En proceso",approved:"Aprobada",enjoyed:"Disfrutada",completed:"Completado",rejected:"Rechazada",cancelled:"Cancelada",active:"Activo",inactive:"Inactivo",on_leave:"De licencia"};function qe({status:s,children:r}){const i=n_[s]||"bg-gray-100 text-gray-700",c=r||r_[s]||s;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i}`,children:c})}function nc({title:s,value:r,icon:i,color:c,subtitle:u}){const f={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"};return e.jsx(ge,{children:e.jsxs(ve,{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${f[c]}`,children:e.jsx(i,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r}),e.jsx("p",{className:"text-sm text-gray-500",children:s}),u&&e.jsx("p",{className:"text-xs text-gray-400",children:u})]})]})})}function uu({title:s,description:r,icon:i,href:c,color:u}){const f={blue:"bg-blue-500 hover:bg-blue-600",green:"bg-green-500 hover:bg-green-600",purple:"bg-purple-500 hover:bg-purple-600"};return e.jsxs(fa,{to:c,className:`flex items-center gap-4 p-4 rounded-xl text-white transition-colors ${f[u]}`,children:[e.jsx(i,{className:"w-8 h-8"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:s}),e.jsx("p",{className:"text-sm opacity-80",children:r})]}),e.jsx(fc,{className:"w-5 h-5"})]})}function a0({request:s,type:r}){const i=r==="vacation",c=i?it:Na;return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg",children:e.jsx(c,{className:"w-4 h-4 text-gray-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i?`${s.days_requested} das`:s.certification_type}),e.jsx("p",{className:"text-xs text-gray-500",children:s.request_number})]}),e.jsx(qe,{status:s.status})]})}function i_(){const{user:s,isHR:r,isSupervisor:i}=Ta(),{data:c}=Ae({queryKey:["vacations","recent"],queryFn:()=>ja.list({per_page:5})}),{data:u}=Ae({queryKey:["certifications","recent"],queryFn:()=>La.list({per_page:5})}),{data:f}=Ae({queryKey:["approvals"],queryFn:()=>mn.list(),enabled:r||i}),{data:m}=Ae({queryKey:["hr","dashboard"],queryFn:()=>rg.getStats(),enabled:r}),h=c?.data?.data||[],y=u?.data?.data||[],x=f?.data?.data||{vacation_requests:[],certification_requests:[]},p=(x.vacation_requests?.length||0)+(x.certification_requests?.length||0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Bienvenido, ",s?.first_name]}),e.jsx("p",{className:"text-gray-500",children:"Aqu tienes un resumen de tu actividad"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(nc,{title:"Das de vacaciones",value:Math.floor(s?.vacation?.days_available??0),icon:it,color:"blue",subtitle:s?.vacation?.days_pending>s?.vacation?.days_available?`${Math.floor(s?.vacation?.days_pending)} pendientes (mx. acumulable: ${s?.vacation?.max_accumulation_days})`:"Disponibles"}),e.jsx(nc,{title:"Solicitudes pendientes",value:h.filter(j=>j.status==="pending").length,icon:Ot,color:"yellow"}),(r||i)&&e.jsx(nc,{title:"Por aprobar",value:p,icon:Mu,color:"green"}),e.jsx(nc,{title:"Certificaciones",value:y.filter(j=>j.status==="completed").length,icon:Na,color:"purple",subtitle:"Completadas este ao"})]}),e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsx(Tt,{children:"Acciones Rpidas"})}),e.jsx(ve,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(uu,{title:"Nueva Solicitud de Vacaciones",description:"Solicita das libres",icon:it,href:"/hr/vacations/new",color:"blue"}),e.jsx(uu,{title:"Solicitar Certificacin",description:"Certificado laboral",icon:Na,href:"/hr/certifications/new",color:"green"}),e.jsx(uu,{title:"Explorar Documentos",description:"Busca y gestiona archivos",icon:Ee,href:"/documents",color:"purple"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ge,{children:[e.jsxs(Et,{className:"flex flex-row items-center justify-between",children:[e.jsx(Tt,{children:"Mis Solicitudes de Vacaciones"}),e.jsx(fa,{to:"/hr/vacations",children:e.jsxs(F,{variant:"ghost",size:"sm",children:["Ver todas",e.jsx(fc,{className:"w-4 h-4 ml-1"})]})})]}),e.jsx(ve,{children:h.length>0?e.jsx("div",{className:"space-y-2",children:h.slice(0,5).map(j=>e.jsx(a0,{request:j,type:"vacation"},j.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(it,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"No tienes solicitudes de vacaciones"}),e.jsx(fa,{to:"/hr/vacations/new",children:e.jsxs(F,{variant:"primary",size:"sm",className:"mt-4",children:[e.jsx(Je,{className:"w-4 h-4"}),"Nueva Solicitud"]})})]})})]}),r||i?e.jsxs(ge,{children:[e.jsxs(Et,{className:"flex flex-row items-center justify-between",children:[e.jsx(Tt,{children:"Pendientes de Aprobacin"}),e.jsx(fa,{to:"/hr/approvals",children:e.jsxs(F,{variant:"ghost",size:"sm",children:["Ver todas",e.jsx(fc,{className:"w-4 h-4 ml-1"})]})})]}),e.jsx(ve,{children:p>0?e.jsxs("div",{className:"space-y-2",children:[x.vacation_requests?.slice(0,3).map(j=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[e.jsx(it,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:j.employee?.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[j.days_requested," das"]})]}),e.jsx(qe,{status:"pending"})]},j.id)),x.certification_requests?.slice(0,2).map(j=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[e.jsx(Na,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:j.employee?.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Certificacin ",j.certification_type]})]}),e.jsx(qe,{status:"pending"})]},j.id))]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Mu,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"No hay solicitudes pendientes"})]})})]}):e.jsxs(ge,{children:[e.jsxs(Et,{className:"flex flex-row items-center justify-between",children:[e.jsx(Tt,{children:"Mis Certificaciones"}),e.jsx(fa,{to:"/hr/certifications",children:e.jsxs(F,{variant:"ghost",size:"sm",children:["Ver todas",e.jsx(fc,{className:"w-4 h-4 ml-1"})]})})]}),e.jsx(ve,{children:y.length>0?e.jsx("div",{className:"space-y-2",children:y.slice(0,5).map(j=>e.jsx(a0,{request:j,type:"certification"},j.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Na,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),e.jsx("p",{children:"No tienes certificaciones solicitadas"}),e.jsx(fa,{to:"/hr/certifications/new",children:e.jsxs(F,{variant:"primary",size:"sm",className:"mt-4",children:[e.jsx(Je,{className:"w-4 h-4"}),"Nueva Certificacin"]})})]})})]})]})]})}function c_({onSave:s,initialData:r=null,width:i=400,height:c=150,strokeColor:u="#000000",strokeWidth:f=2,disabled:m=!1}){const h=b.useRef(null),[y,x]=b.useState(!1),[p,j]=b.useState(!1),[C,E]=b.useState(null);b.useEffect(()=>{const O=h.current;if(!O)return;const H=O.getContext("2d");if(O.width=i,O.height=c,H.strokeStyle=u,H.lineWidth=f,H.lineCap="round",H.lineJoin="round",H.clearRect(0,0,i,c),r){const Q=new Image;Q.onload=()=>{H.drawImage(Q,0,0),j(!0)},Q.src=r.startsWith("data:")?r:`data:image/png;base64,${r}`}},[r,i,c,u,f]);const N=b.useCallback(O=>{const H=h.current,Q=H.getBoundingClientRect(),z=H.width/Q.width,P=H.height/Q.height;return O.touches&&O.touches.length>0?{x:(O.touches[0].clientX-Q.left)*z,y:(O.touches[0].clientY-Q.top)*P}:{x:(O.clientX-Q.left)*z,y:(O.clientY-Q.top)*P}},[]),T=b.useCallback(O=>{if(m)return;O.preventDefault();const H=N(O);E(H),x(!0),j(!0)},[m,N]),S=b.useCallback(O=>{if(!y||m)return;O.preventDefault();const Q=h.current.getContext("2d"),z=N(O);Q.beginPath(),Q.moveTo(C.x,C.y),Q.lineTo(z.x,z.y),Q.stroke(),E(z)},[y,m,C,N]),w=b.useCallback(()=>{if(x(!1),E(null),p&&s){const Q=h.current.toDataURL("image/png").replace(/^data:image\/png;base64,/,"");s(Q)}},[p,s]),k=b.useCallback(()=>{const O=h.current;if(!O)return;O.getContext("2d").clearRect(0,0,O.width,O.height),j(!1),s&&s(null)},[s]);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg bg-white relative ${m?"bg-gray-50 cursor-not-allowed":"cursor-crosshair"}`,style:{width:"100%",maxWidth:i},children:[e.jsx("canvas",{ref:h,className:"w-full touch-none",style:{aspectRatio:`${i}/${c}`,maxHeight:c},onMouseDown:T,onMouseMove:S,onMouseUp:w,onMouseLeave:w,onTouchStart:T,onTouchMove:S,onTouchEnd:w}),!p&&!m&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-gray-400 text-sm",children:"Dibuje su firma aqui"})]}),!m&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(M2,{className:"w-4 h-4"}),"Borrar"]}),e.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(g4,{className:"w-4 h-4"}),"Reiniciar"]})]})]})}const mu=[{name:"Allura",family:"Allura, cursive"},{name:"Dancing Script",family:'"Dancing Script", cursive'},{name:"Great Vibes",family:'"Great Vibes", cursive'},{name:"Pacifico",family:"Pacifico, cursive"},{name:"Sacramento",family:"Sacramento, cursive"}],o_=[{name:"Negro",value:"#000000"},{name:"Azul Oscuro",value:"#1e3a5f"},{name:"Azul",value:"#2563eb"},{name:"Verde Oscuro",value:"#166534"},{name:"Gris",value:"#4b5563"}];function d_({defaultText:s="",defaultFont:r="Allura",defaultColor:i="#000000",defaultSize:c=48,onChange:u,disabled:f=!1}){const[m,h]=b.useState(s),[y,x]=b.useState(r),[p,j]=b.useState(i),[C,E]=b.useState(c),[N,T]=b.useState(!1);b.useEffect(()=>{(async()=>{const k=mu.map(H=>H.name.replace(" ","+")).join("&family="),O=document.createElement("link");O.href=`https://fonts.googleapis.com/css2?family=${k}&display=swap`,O.rel="stylesheet",document.head.appendChild(O),O.onload=()=>T(!0)})()},[]),b.useEffect(()=>{u&&m&&u({styled_text:m,font_family:y,font_color:p,font_size:C})},[m,y,p,C,u]);const S=mu.find(w=>w.name===y)?.family||"cursive";return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Texto de la firma"}),e.jsx("input",{type:"text",value:m,onChange:w=>h(w.target.value),placeholder:"Escriba su nombre o iniciales",disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estilo de fuente"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:mu.map(w=>e.jsxs("button",{type:"button",onClick:()=>x(w.name),disabled:f,className:`p-3 border rounded-lg text-left transition-all ${y===w.name?"border-primary-500 bg-primary-50 ring-2 ring-primary-200":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("span",{style:{fontFamily:w.family,fontSize:"20px",color:p},children:m||"Firma"}),e.jsx("span",{className:"block text-xs text-gray-500 mt-1",children:w.name})]},w.name))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color de la firma"}),e.jsxs("div",{className:"flex gap-2",children:[o_.map(w=>e.jsx("button",{type:"button",onClick:()=>j(w.value),disabled:f,className:`w-8 h-8 rounded-full border-2 transition-all ${p===w.value?"ring-2 ring-offset-2 ring-primary-500":"hover:scale-110"} ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{backgroundColor:w.value},title:w.name},w.value)),e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsx("input",{type:"color",value:p,onChange:w=>j(w.target.value),disabled:f,className:"w-8 h-8 rounded cursor-pointer border border-gray-300",title:"Color personalizado"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Personalizado"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tamano: ",C,"px"]}),e.jsx("input",{type:"range",min:"24",max:"72",value:C,onChange:w=>E(Number(w.target.value)),disabled:f,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vista previa"}),e.jsx("div",{className:`p-4 border-2 border-dashed rounded-lg bg-white min-h-[80px] flex items-center justify-center ${N?"":"animate-pulse"}`,children:m?e.jsx("span",{style:{fontFamily:S,fontSize:`${C}px`,color:p},children:m}):e.jsx("span",{className:"text-gray-400",children:"Escriba su nombre para ver la vista previa"})})]})]})}function qa({icon:s,label:r,value:i}){return e.jsxs("div",{className:"flex items-center gap-3 py-3 border-b border-gray-100 last:border-0",children:[e.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:e.jsx(s,{className:"w-4 h-4 text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:r}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i||"-"})]})]})}function hu({title:s,children:r}){return e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsx(Tt,{children:s})}),e.jsx(ve,{children:r})]})}function u_({used:s,total:r,label:i}){const c=r>0?Math.min(s/r*100,100):0;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:i}),e.jsxs("span",{className:"font-medium",children:[s," / ",r," das"]})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]})}function m_({user:s,isOpen:r,onClose:i,onSuccess:c}){const[u,f]=b.useState({first_name:s?.first_name||"",last_name:s?.last_name||"",time_zone:s?.time_zone||"UTC",locale:s?.locale||"es"}),[m,h]=b.useState(""),y=pe({mutationFn:p=>hn.updateProfile(p),onSuccess:p=>{c(p.data.data),i()},onError:p=>{h(p.response?.data?.error||"Error al actualizar perfil")}}),x=p=>{p.preventDefault(),h(""),y.mutate(u)};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Editar Perfil"}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:x,className:"p-4 space-y-4",children:[m&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:m})]}),e.jsx(de,{label:"Nombre",value:u.first_name,onChange:p=>f({...u,first_name:p.target.value}),required:!0}),e.jsx(de,{label:"Apellido",value:u.last_name,onChange:p=>f({...u,last_name:p.target.value}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zona Horaria"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:u.time_zone,onChange:p=>f({...u,time_zone:p.target.value}),children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/Mexico_City",children:"Ciudad de Mxico (GMT-6)"}),e.jsx("option",{value:"America/Bogota",children:"Bogot (GMT-5)"}),e.jsx("option",{value:"America/Lima",children:"Lima (GMT-5)"}),e.jsx("option",{value:"America/Santiago",children:"Santiago (GMT-4)"}),e.jsx("option",{value:"America/Buenos_Aires",children:"Buenos Aires (GMT-3)"}),e.jsx("option",{value:"America/Sao_Paulo",children:"So Paulo (GMT-3)"}),e.jsx("option",{value:"Europe/Madrid",children:"Madrid (GMT+1)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idioma"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",value:u.locale,onChange:p=>f({...u,locale:p.target.value}),children:[e.jsx("option",{value:"es",children:"Espaol"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:i,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:y.isPending,children:[e.jsx(Fa,{className:"w-4 h-4"}),"Guardar Cambios"]})]})]})]})}):null}function h_({isOpen:s,onClose:r}){const[i,c]=b.useState({current_password:"",new_password:"",confirm_password:""}),[u,f]=b.useState(""),[m,h]=b.useState(!1),y=pe({mutationFn:p=>hn.changePassword(p),onSuccess:()=>{h(!0),c({current_password:"",new_password:"",confirm_password:""}),setTimeout(()=>{r(),h(!1)},2e3)},onError:p=>{f(p.response?.data?.error||"Error al cambiar contrasea")}}),x=p=>{if(p.preventDefault(),f(""),i.new_password!==i.confirm_password){f("Las contraseas no coinciden");return}if(i.new_password.length<8){f("La contrasea debe tener al menos 8 caracteres");return}y.mutate({current_password:i.current_password,password:i.new_password,password_confirmation:i.confirm_password})};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Cambiar Contrasea"}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),m?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Qe,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Contrasea actualizada!"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tu contrasea ha sido cambiada exitosamente"})]}):e.jsxs("form",{onSubmit:x,className:"p-4 space-y-4",children:[u&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:u})]}),e.jsx(de,{label:"Contrasea Actual",type:"password",value:i.current_password,onChange:p=>c({...i,current_password:p.target.value}),required:!0}),e.jsx(de,{label:"Nueva Contrasea",type:"password",value:i.new_password,onChange:p=>c({...i,new_password:p.target.value}),required:!0,hint:"Mnimo 8 caracteres"}),e.jsx(de,{label:"Confirmar Nueva Contrasea",type:"password",value:i.confirm_password,onChange:p=>c({...i,confirm_password:p.target.value}),required:!0}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:r,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:y.isPending,children:[e.jsx(Zu,{className:"w-4 h-4"}),"Cambiar Contrasea"]})]})]})]})}):null}function f_(){const s=Ye(),[r,i]=b.useState(!1),[c,u]=b.useState("drawn"),[f,m]=b.useState(""),[h,y]=b.useState(null),[x,p]=b.useState(null),[j,C]=b.useState(""),{data:E,isLoading:N}=Ae({queryKey:["signatures"],queryFn:()=>Cr.list()}),T=pe({mutationFn:z=>Cr.create(z),onSuccess:()=>{s.invalidateQueries(["signatures"]),O()},onError:z=>{C(z.response?.data?.error||"Error al crear la firma")}}),S=pe({mutationFn:z=>Cr.delete(z),onSuccess:()=>{s.invalidateQueries(["signatures"])},onError:z=>{const P=z.response?.data;P?.in_use?alert(`Esta firma est siendo utilizada en ${P.documents_count} documento(s). Desactvela en lugar de eliminarla.`):alert(P?.error||"Error al eliminar la firma")}}),w=pe({mutationFn:z=>Cr.toggleActive(z),onSuccess:()=>{s.invalidateQueries(["signatures"])},onError:z=>{alert(z.response?.data?.error||"Error al cambiar estado de la firma")}}),k=pe({mutationFn:z=>Cr.setDefault(z),onSuccess:()=>{s.invalidateQueries(["signatures"])}}),O=()=>{i(!1),u("drawn"),m(""),y(null),p(null),C("")},H=()=>{if(!f.trim()){C("El nombre de la firma es requerido");return}if(c==="drawn"&&!h){C("Por favor dibuje su firma");return}if(c==="styled"&&!x?.styled_text){C("Por favor ingrese el texto de su firma");return}const z={name:f,signature_type:c,...c==="drawn"?{image_data:h}:x};T.mutate(z)},Q=E?.data?.data||[];return e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(_a,{className:"w-5 h-5 text-primary-600"}),"Firma Digital"]}),e.jsxs(F,{size:"sm",onClick:()=>i(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nueva Firma"]})]})}),e.jsxs(ve,{children:[N?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):Q.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_a,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes firmas digitales configuradas"}),e.jsxs(F,{variant:"secondary",onClick:()=>i(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Crear mi primera firma"]})]}):e.jsx("div",{className:"space-y-4",children:Q.map(z=>e.jsxs("div",{className:`flex items-center gap-4 p-4 border rounded-lg ${z.active?z.is_default?"border-primary-300 bg-primary-50":"border-gray-200":"border-gray-200 bg-gray-50 opacity-60"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx("span",{className:`font-medium ${z.active?"":"text-gray-500"}`,children:z.name}),z.is_default&&z.active&&e.jsxs(qe,{status:"approved",className:"text-xs",children:[e.jsx(Pp,{className:"w-3 h-3 mr-1"}),"Predeterminada"]}),e.jsx(qe,{variant:"secondary",className:"text-xs",children:z.signature_type==="drawn"?e.jsxs(e.Fragment,{children:[e.jsx(_a,{className:"w-3 h-3 mr-1"})," Dibujada"]}):e.jsxs(e.Fragment,{children:[e.jsx(Wp,{className:"w-3 h-3 mr-1"})," Estilizada"]})}),!z.active&&e.jsx(qe,{status:"cancelled",className:"text-xs",children:"Desactivada"}),z.in_use&&e.jsxs(qe,{variant:"secondary",className:"text-xs bg-blue-50 text-blue-700",children:[e.jsx(Ee,{className:"w-3 h-3 mr-1"}),"En uso (",z.documents_count,")"]})]}),z.signature_type==="styled"&&e.jsx("p",{className:`text-2xl ${z.active?"":"opacity-50"}`,style:{fontFamily:`"${z.font_family}", cursive`,color:z.font_color},children:z.styled_text})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{size:"sm",variant:"secondary",onClick:()=>w.mutate(z.id),disabled:w.isPending,title:z.active?"Desactivar firma":"Activar firma",children:e.jsx(f4,{className:`w-4 h-4 ${z.active?"text-green-600":"text-gray-400"}`})}),!z.is_default&&z.active&&e.jsx(F,{size:"sm",variant:"secondary",onClick:()=>k.mutate(z.id),disabled:k.isPending,title:"Establecer como predeterminada",children:e.jsx(Pp,{className:"w-4 h-4"})}),e.jsx(F,{size:"sm",variant:"danger",onClick:()=>{if(z.in_use){alert(`Esta firma est siendo utilizada en ${z.documents_count} documento(s). Desactvela en lugar de eliminarla.`);return}confirm("Est seguro de eliminar esta firma?")&&S.mutate(z.id)},disabled:S.isPending||z.in_use,title:z.in_use?"No se puede eliminar, est en uso":"Eliminar firma",children:e.jsx(Rt,{className:"w-4 h-4"})})]})]},z.id))}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Nueva Firma Digital"}),e.jsx("button",{onClick:O,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[j&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:j})]}),e.jsx(de,{label:"Nombre de la firma",value:f,onChange:z=>m(z.target.value),placeholder:"Ej: Firma formal, Iniciales, etc."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de firma"}),e.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>u("drawn"),className:`flex-1 px-4 py-2 text-sm font-medium flex items-center justify-center gap-2 ${c==="drawn"?"bg-primary-500 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(_a,{className:"w-4 h-4"}),"Dibujar"]}),e.jsxs("button",{type:"button",onClick:()=>u("styled"),className:`flex-1 px-4 py-2 text-sm font-medium flex items-center justify-center gap-2 ${c==="styled"?"bg-primary-500 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(Wp,{className:"w-4 h-4"}),"Estilizada"]})]})]}),c==="drawn"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dibuje su firma"}),e.jsx(c_,{onSave:y,width:400,height:150})]}):e.jsx(d_,{onChange:p}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:O,children:"Cancelar"}),e.jsxs(F,{onClick:H,loading:T.isPending,children:[e.jsx(Fa,{className:"w-4 h-4"}),"Guardar Firma"]})]})]})]})})]})]})}function x_(s){return s?new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"-"}function p_(s){if(!s)return"0 aos";const r=Math.floor(s),i=Math.round((s-r)*12);return r===0&&i===0?"Menos de 1 mes":r===0?`${i} ${i===1?"mes":"meses"}`:i===0?`${r} ${r===1?"ao":"aos"}`:`${r} ${r===1?"ao":"aos"} y ${i} ${i===1?"mes":"meses"}`}function g_(){const{user:s}=Ta(),[r,i]=b.useState(!1),[c,u]=b.useState(!1),f=p=>{localStorage.setItem("user",JSON.stringify(p)),window.location.reload()},m=p=>{const j={admin:"bg-red-100 text-red-700",hr:"bg-purple-100 text-purple-700",legal:"bg-blue-100 text-blue-700",employee:"bg-green-100 text-green-700",viewer:"bg-gray-100 text-gray-700"};return j[p]||j.employee},h=p=>({admin:"Administrador",hr:"Recursos Humanos",legal:"Legal",employee:"Empleado",viewer:"Visor"})[p]||p,y=s?.vacation||{},x=s?.employee||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mi Perfil"}),e.jsx("p",{className:"text-gray-500",children:"Gestiona tu informacin personal y preferencias"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(ge,{children:e.jsx(ve,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-3xl font-bold text-primary-600",children:[s?.first_name?.[0],s?.last_name?.[0]]})}),e.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-white rounded-full shadow-lg border hover:bg-gray-50",children:e.jsx(o2,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?.full_name}),e.jsx("p",{className:"text-gray-500",children:s?.email}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.job_title,"  ",x.department]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s?.roles?.map(p=>e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m(p)}`,children:h(p)},p)),s?.is_supervisor&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:"Supervisor"})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(F,{size:"sm",onClick:()=>i(!0),children:"Editar Perfil"}),e.jsxs(F,{size:"sm",variant:"secondary",onClick:()=>u(!0),children:[e.jsx(Zu,{className:"w-4 h-4"}),"Cambiar Contrasea"]})]})]})]})})}),e.jsx(hu,{title:"Informacin Laboral",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8",children:[e.jsx(qa,{icon:Ba,label:"Nmero de Empleado",value:x.employee_number}),e.jsx(qa,{icon:En,label:"Cargo",value:x.job_title}),e.jsx(qa,{icon:Ha,label:"Departamento",value:x.department}),e.jsx(qa,{icon:og,label:"Fecha de Contratacin",value:x_(x.hire_date)}),e.jsx(qa,{icon:tm,label:"Antigedad",value:p_(y.years_of_service)}),e.jsx(qa,{icon:Na,label:"Aos Completos",value:`${y.complete_years||0} aos`})]})}),e.jsx(hu,{title:"Informacin de Contacto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8",children:[e.jsx(qa,{icon:Ju,label:"Correo Electrnico",value:s?.email}),e.jsx(qa,{icon:Ha,label:"Organizacin",value:"VALKYRIA Corp"})]})}),e.jsx(hu,{title:"Preferencias",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8",children:[e.jsx(qa,{icon:G2,label:"Idioma",value:s?.locale==="es"?"Espaol":"English"}),e.jsx(qa,{icon:Ot,label:"Zona Horaria",value:s?.time_zone||"UTC"})]})}),e.jsx(f_,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(it,{className:"w-5 h-5 text-primary-600"}),"Vacaciones"]})}),e.jsxs(ve,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center py-4 bg-primary-50 rounded-xl",children:[e.jsx("p",{className:"text-4xl font-bold text-primary-600",children:Math.floor(y.days_available||0)}),e.jsx("p",{className:"text-sm text-primary-700 mt-1",children:"Das disponibles"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"Poltica: Ley Laboral Colombiana"}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[y.days_per_year||15," das hbiles por ao de servicio"]})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Das causados (total)"}),e.jsx("span",{className:"font-medium",children:Math.floor(y.days_accrued_total||0)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Das usados (total)"}),e.jsx("span",{className:"font-medium",children:Math.floor(y.days_used_total||0)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Das pendientes"}),e.jsx("span",{className:"font-medium text-primary-600",children:Math.floor(y.days_pending||0)})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Mximo acumulable"}),e.jsxs("span",{className:"font-medium",children:[y.max_accumulation_days||30," das"]})]})})]}),y.days_expiring>0&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[e.jsx(bl,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-yellow-800",children:[Math.floor(y.days_expiring)," das por vencer"]}),e.jsxs("p",{className:"text-xs text-yellow-600",children:["Exceden el mximo acumulable de ",y.max_accumulation_days," das"]})]})]}),y.can_compensate_cash&&e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx(Qe,{className:"w-4 h-4 inline mr-1"}),"Puedes compensar hasta ",y.max_cash_compensation," das en efectivo"]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Disponible despus de 4 aos de servicio"})]}),e.jsx("div",{className:"pt-2",children:e.jsx(u_,{used:y.days_used_total||0,total:y.days_accrued_total||0,label:"Das usados vs causados"})})]})]}),e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(wc,{className:"w-5 h-5 text-green-600"}),"Seguridad"]})}),e.jsxs(ve,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Contrasea"}),e.jsx(qe,{status:"approved",children:"Configurada"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ltimo acceso"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Hoy"})]}),e.jsx(F,{variant:"secondary",size:"sm",className:"w-full mt-2",onClick:()=>u(!0),children:"Cambiar Contrasea"})]})]}),e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsx(Tt,{children:"Permisos"})}),e.jsx(ve,{children:e.jsxs("div",{className:"space-y-2",children:[s?.permissions?.slice(0,6).map(p=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Qe,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-gray-600",children:p==="*"?"Acceso completo":p.replace("."," - ")})]},p)),s?.permissions?.length>6&&e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["+",s.permissions.length-6," permisos ms"]})]})})]})]})]}),e.jsx(m_,{user:s,isOpen:r,onClose:()=>i(!1),onSuccess:f}),e.jsx(h_,{isOpen:c,onClose:()=>u(!1)})]})}function pt({isOpen:s,onClose:r,title:i,children:c,size:u="md"}){if(!s)return null;const f={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:r}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:`relative w-full ${f[u]} bg-white rounded-xl shadow-xl`,children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:i}),e.jsx("button",{onClick:r,className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(tt,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:c})]})})]})}const Me=b.forwardRef(({label:s,error:r,options:i,placeholder:c,className:u="",...f},m)=>e.jsxs("div",{className:"w-full",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{ref:m,className:`
            w-full px-3 py-2 border rounded-lg text-gray-900 appearance-none
            focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
            disabled:bg-gray-50 disabled:text-gray-500
            ${r?"border-red-300":"border-gray-300"}
            ${u}
          `,...f,children:[c&&e.jsx("option",{value:"",children:c}),i.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))]}),e.jsx(jc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),r&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]}));Me.displayName="Select";const s0=[{value:"vacation",label:"Vacaciones"},{value:"personal",label:"Da Personal"},{value:"sick",label:"Enfermedad"},{value:"bereavement",label:"Duelo"},{value:"unpaid",label:"Sin Goce"}],y_=[{value:"",label:"Todos"},{value:"draft",label:"Borrador"},{value:"pending",label:"Solicitada"},{value:"approved",label:"Aprobada"},{value:"enjoyed",label:"Disfrutada"},{value:"rejected",label:"Rechazada"},{value:"cancelled",label:"Cancelada"}];function v_({onClose:s,onSuccess:r,balance:i}){const[c,u]=b.useState(1),[f,m]=b.useState({vacation_type:"vacation",start_date:"",end_date:"",days_requested:"",reason:""}),[h,y]=b.useState(null),[x,p]=b.useState(null),[j,C]=b.useState(null),[E,N]=b.useState(!1),[T,S]=b.useState(""),w=Ye(),{data:k}=Ae({queryKey:["vacation-template"],queryFn:async()=>(await et.list({category:"vacation",status:"active"})).data?.data?.[0]||null}),O=k,H=pe({mutationFn:te=>ja.create(te),onSuccess:async te=>{const re=te.data?.data,M=te.data?.document;if(y(re),p(M),S(""),re?.id&&re?.has_document)try{const ae=await ja.downloadDocument(re.id),Z=new Blob([ae.data],{type:"application/pdf"});C(URL.createObjectURL(Z))}catch(ae){console.error("Error loading PDF:",ae),C(null)}else C(null);u(2)},onError:te=>{const re=te.response?.data?.errors;Array.isArray(re)?S(re.join(", ")):S(te.response?.data?.error||"Error al crear la solicitud")}}),Q=pe({mutationFn:te=>ja.signDocument(te),onSuccess:te=>{p(te.data?.document),y(te.data?.data),P()},onError:te=>{S(te.response?.data?.error||"Error al firmar el documento")}}),z=pe({mutationFn:te=>ja.submit(te),onSuccess:te=>{y(te.data?.data),u(3),w.invalidateQueries(["vacations"])},onError:te=>{S(te.response?.data?.error||"Error al enviar la solicitud")}}),P=async()=>{if(h?.id)try{const te=await ja.downloadDocument(h.id),re=new Blob([te.data],{type:"application/pdf"});j&&URL.revokeObjectURL(j),C(URL.createObjectURL(re))}catch(te){console.error("Error reloading PDF:",te)}};b.useEffect(()=>{if(f.start_date&&f.end_date){const te=new Date(f.start_date),re=new Date(f.end_date),M=Math.abs(re-te),ae=Math.ceil(M/(1e3*60*60*24))+1;m(Z=>({...Z,days_requested:ae.toString()}))}},[f.start_date,f.end_date]),b.useEffect(()=>()=>{j&&URL.revokeObjectURL(j)},[j]);const W=te=>{te.preventDefault(),H.mutate(f)},ie=()=>{S(""),h?.id&&Q.mutate(h.id)},$=()=>{S(""),h?.id&&z.mutate(h.id)},q=()=>{w.invalidateQueries(["vacations"]),r?.(),s()},U=()=>{j&&window.open(j,"_blank")},fe=x?.employee_signed||!1;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:[1,2,3].map(te=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${c>=te?"bg-primary-500 text-white":"bg-gray-200 text-gray-500"}`,children:c>te?e.jsx(Qe,{className:"w-5 h-5"}):te}),te<3&&e.jsx("div",{className:`w-12 h-1 mx-1 ${c>te?"bg-primary-500":"bg-gray-200"}`})]},te))}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 px-4 mb-6",children:[e.jsx("span",{className:c>=1?"text-primary-600 font-medium":"",children:"Datos"}),e.jsx("span",{className:c>=2?"text-primary-600 font-medium":"",children:"Firmar"}),e.jsx("span",{className:c>=3?"text-primary-600 font-medium":"",children:"Enviado"})]}),c===1&&e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[O&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-3",children:[e.jsx(Ee,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:O.name}),e.jsx("p",{className:"text-sm text-blue-700",children:"Se generar el documento oficial para tu firma"}),O.signatories_count>0&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-blue-600",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsxs("span",{children:[O.signatories_count," firmantes requeridos"]})]})]})]}),e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[e.jsx("span",{className:"text-green-700",children:"Das disponibles para solicitar:"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:Math.floor(i?.available||0)})]}),e.jsx(Me,{label:"Tipo de Solicitud",options:s0,value:f.vacation_type,onChange:te=>m({...f,vacation_type:te.target.value}),required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(de,{label:"Fecha Inicio",type:"date",value:f.start_date,onChange:te=>{m({...f,start_date:te.target.value}),S("")},required:!0}),e.jsx(de,{label:"Fecha Fin",type:"date",value:f.end_date,onChange:te=>{m({...f,end_date:te.target.value}),S("")},required:!0})]}),e.jsx(de,{label:"Das Solicitados",type:"number",step:"0.5",min:"0.5",value:f.days_requested,onChange:te=>m({...f,days_requested:te.target.value}),required:!0}),parseFloat(f.days_requested)>(i?.available||0)&&e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg flex items-center gap-2 text-amber-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Los das solicitados exceden tu saldo disponible"})]}),T&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:T})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo (opcional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,value:f.reason,onChange:te=>m({...f,reason:te.target.value}),placeholder:"Describe el motivo de tu solicitud..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:s,children:"Cancelar"}),e.jsx(F,{type:"submit",loading:H.isPending,children:"Continuar"})]})]}),c===2&&h&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:["Solicitud ",h.request_number]}),e.jsx(qe,{status:h.status})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Tipo:"}),e.jsx("p",{className:"font-medium",children:s0.find(te=>te.value===h.vacation_type)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Fechas:"}),e.jsxs("p",{className:"font-medium",children:[new Date(h.start_date).toLocaleDateString("es-ES")," - ",new Date(h.end_date).toLocaleDateString("es-ES")]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Das:"}),e.jsx("p",{className:"font-bold text-primary-600",children:h.days_requested})]})]})]}),j?e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Documento de Solicitud"}),e.jsxs(F,{variant:"ghost",size:"sm",onClick:U,children:[e.jsx(ug,{className:"w-4 h-4"}),"Abrir en nueva pestaa"]})]}),e.jsx("iframe",{src:j,className:"w-full h-[400px] border-0",title:"Vista previa del documento"})]}):e.jsxs("div",{className:"border rounded-lg p-8 text-center bg-gray-50",children:[e.jsx(fn,{className:"w-8 h-8 animate-spin mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Cargando documento..."})]}),e.jsxs("div",{className:"p-4 bg-white border rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(_a,{className:"w-4 h-4"}),"Firmas Requeridas"]}),e.jsx("div",{className:"space-y-3",children:x?.signatures?.map((te,re)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${te.signed?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:te.signed?e.jsx(Qe,{className:"w-5 h-5"}):re+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:te.label}),te.signed&&e.jsxs("p",{className:"text-xs text-green-600",children:["Firmado por ",te.signed_by," - ",new Date(te.signed_at).toLocaleString("es-ES")]})]})]}),te.signatory_type_code==="employee"&&!te.signed&&e.jsxs(F,{size:"sm",onClick:ie,loading:Q.isPending,children:[e.jsx(_a,{className:"w-4 h-4"}),"Firmar"]}),te.signatory_type_code!=="employee"&&!te.signed&&e.jsx("span",{className:"text-xs text-gray-500 px-2 py-1 bg-gray-200 rounded",children:"Pendiente"})]},re))})]}),T&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:T})]}),!fe&&e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[e.jsx(Ge,{className:"w-5 h-5 text-amber-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium",children:"Debes firmar el documento antes de enviar"}),e.jsx("p",{className:"mt-1",children:'Haz clic en el botn "Firmar" junto a tu nombre para continuar.'})]})]}),fe&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("p",{className:"font-medium",children:"Documento firmado!"}),e.jsx("p",{className:"mt-1",children:"Ahora puedes enviar la solicitud para aprobacin del supervisor y RRHH."})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsx(F,{variant:"secondary",onClick:()=>u(1),children:"Volver"}),e.jsxs(F,{onClick:$,loading:z.isPending,disabled:!fe,children:[e.jsx(Wu,{className:"w-4 h-4"}),"Enviar Solicitud"]})]})]}),c===3&&h&&e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Qe,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Solicitud Enviada!"}),e.jsxs("p",{className:"text-gray-600",children:["Tu solicitud ",e.jsx("span",{className:"font-medium",children:h.request_number})," ha sido enviada correctamente."]}),j&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Documento firmado:"}),e.jsxs(F,{variant:"secondary",onClick:U,children:[e.jsx(Dr,{className:"w-4 h-4"}),"Ver Documento PDF"]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-left",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Prximos pasos:"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Tu supervisor recibir la solicitud para aprobacin y firma"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_a,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Recursos Humanos revisar y firmar la solicitud"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{children:"Recibirs notificacin cuando sea aprobada"})]})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsx(F,{onClick:q,children:"Cerrar"})})]})]})}function b_({vacation:s,onSubmit:r,onCancel:i,onDelete:c,onView:u,onDownload:f}){const m={vacation:"Vacaciones",personal:"Da Personal",sick:"Enfermedad",bereavement:"Duelo",unpaid:"Sin Goce"};return e.jsx(ge,{className:"hover:shadow-md transition-shadow",children:e.jsxs(ve,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-primary-50 rounded-lg",children:e.jsx(it,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:m[s.vacation_type]||s.vacation_type}),e.jsx("p",{className:"text-sm text-gray-500",children:s.request_number}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[new Date(s.start_date).toLocaleDateString("es-ES")," - ",new Date(s.end_date).toLocaleDateString("es-ES")]}),e.jsxs("p",{className:"text-sm font-medium text-primary-600 mt-1",children:[s.days_requested," das"]})]})]}),e.jsx(qe,{status:s.status})]}),e.jsxs("div",{className:"flex justify-end gap-1 mt-4 pt-4 border-t border-gray-100",children:[e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>u(s),title:"Ver detalles",children:e.jsx(ds,{className:"w-4 h-4"})}),s.has_document&&e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>f(s.id),title:"Descargar documento",children:e.jsx(Dr,{className:"w-4 h-4"})}),s.status==="draft"&&e.jsx(F,{variant:"primary",size:"sm",onClick:()=>r(s.id),title:"Enviar solicitud",children:e.jsx(Wu,{className:"w-4 h-4"})}),["draft","pending"].includes(s.status)&&e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>i(s.id),title:"Cancelar solicitud",children:e.jsx(tt,{className:"w-4 h-4"})}),s.can_delete&&e.jsx(F,{variant:"danger",size:"sm",onClick:()=>c(s.id),title:"Eliminar solicitud",children:e.jsx(Rt,{className:"w-4 h-4"})})]})]})})}function l0(){const[s,r]=b.useState(!1),[i,c]=b.useState(!1),[u,f]=b.useState(null),[m,h]=b.useState(""),y=Ye(),{data:x,isLoading:p}=Ae({queryKey:["vacations",{status:m}],queryFn:()=>ja.list({status:m||void 0})}),j=pe({mutationFn:O=>ja.submit(O),onSuccess:()=>{y.invalidateQueries(["vacations"])}}),C=pe({mutationFn:O=>ja.cancel(O),onSuccess:()=>{y.invalidateQueries(["vacations"])}}),E=pe({mutationFn:O=>ja.delete(O),onSuccess:()=>{y.invalidateQueries(["vacations"])},onError:O=>{alert(O.response?.data?.error||"Error al eliminar la solicitud")}}),N=O=>{window.confirm("Ests seguro de que deseas eliminar esta solicitud? Esta accin no se puede deshacer.")&&E.mutate(O)},T=x?.data?.data||[],S=x?.data?.meta?.vacation_balance||{},w=O=>{f(O),c(!0)},k=async O=>{try{const H=await ja.downloadDocument(O),Q=new Blob([H.data],{type:"application/pdf"}),z=window.URL.createObjectURL(Q);window.open(z,"_blank")}catch(H){console.error("Error downloading document:",H),alert("Error al descargar el documento")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Vacaciones"}),e.jsx("p",{className:"text-gray-500",children:"Gestiona tus solicitudes de vacaciones"})]}),e.jsxs(F,{onClick:()=>r(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nueva Solicitud"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ge,{className:"bg-blue-50 border-blue-200",children:e.jsx(ve,{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(og,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Math.floor((S.accrued||0)-(S.enjoyed||0))}),e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Das por Contrato"}),e.jsx("p",{className:"text-xs text-blue-500",children:"Acumulados - Disfrutados"})]})]})})}),e.jsx(ge,{className:"bg-amber-50 border-amber-200",children:e.jsx(ve,{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:e.jsx(n2,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-amber-600",children:Math.floor(S.scheduled||0)}),e.jsx("p",{className:"text-sm text-amber-700 font-medium",children:"Das Programados"}),e.jsx("p",{className:"text-xs text-amber-500",children:"Aprobados sin disfrutar"})]})]})})}),e.jsx(ge,{className:"bg-green-50 border-green-300 ring-2 ring-green-200",children:e.jsx(ve,{className:"p-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(Je,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:Math.floor(S.available||0)}),e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Das Vacaciones"}),e.jsx("p",{className:"text-xs text-green-500",children:"Para solicitar"})]})]})})})]}),e.jsx(ge,{children:e.jsx(ve,{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(fg,{className:"w-4 h-4 text-gray-400"}),e.jsx(Me,{options:y_,value:m,onChange:O=>h(O.target.value),className:"w-48"})]})})}),p?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(O=>e.jsx(ge,{className:"animate-pulse",children:e.jsx(ve,{className:"p-4",children:e.jsx("div",{className:"h-24 bg-gray-100 rounded"})})},O))}):T.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(O=>e.jsx(b_,{vacation:O,onSubmit:H=>j.mutate(H),onCancel:H=>C.mutate(H),onDelete:N,onView:w,onDownload:k},O.id))}):e.jsx(ge,{children:e.jsxs(ve,{className:"py-12 text-center",children:[e.jsx(it,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes solicitudes de vacaciones"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera solicitud de vacaciones"}),e.jsxs(F,{onClick:()=>r(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nueva Solicitud"]})]})}),e.jsx(pt,{isOpen:s,onClose:()=>r(!1),title:"Nueva Solicitud de Vacaciones",size:"xl",children:e.jsx(v_,{onClose:()=>r(!1),onSuccess:()=>y.invalidateQueries(["vacations"]),balance:S})}),e.jsx(pt,{isOpen:i,onClose:()=>c(!1),title:"Detalle de Solicitud",size:"md",children:u&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Nmero:"}),e.jsx("span",{className:"font-medium",children:u.request_number})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Estado:"}),e.jsx(qe,{status:u.status})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Tipo:"}),e.jsx("span",{children:u.vacation_type})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Fechas:"}),e.jsxs("span",{children:[new Date(u.start_date).toLocaleDateString("es-ES")," - ",new Date(u.end_date).toLocaleDateString("es-ES")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Das:"}),e.jsx("span",{className:"font-medium text-primary-600",children:u.days_requested})]}),u.reason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block mb-1",children:"Motivo:"}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:u.reason})]}),u.decision_reason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 block mb-1",children:"Comentario del aprobador:"}),e.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:u.decision_reason})]}),u.has_document&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(F,{variant:"secondary",className:"w-full",onClick:()=>k(u.id),children:[e.jsx(Dr,{className:"w-4 h-4"}),"Descargar Documento"]})})]})})]})}function n0({request:s,type:r,onApprove:i,onReject:c,onView:u,showActions:f=!0}){const m=r==="vacation",h=m?it:Na;return e.jsx(ge,{className:"hover:shadow-md transition-shadow",children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${m?"bg-blue-50":"bg-purple-50"}`,children:e.jsx(h,{className:`w-6 h-6 ${m?"text-blue-600":"text-purple-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.employee?.name||"Empleado"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.employee?.department,"  ",s.employee?.job_title]})]}),e.jsx(qe,{status:s.status})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Solicitud:"})," ",s.request_number]}),m?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"})," ",s.vacation_type]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Fechas:"})," ",new Date(s.start_date).toLocaleDateString("es-ES")," -"," ",new Date(s.end_date).toLocaleDateString("es-ES")]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsxs("p",{className:"text-sm font-medium text-primary-600",children:[Math.floor(s.days_requested)," das solicitados"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium text-green-600",children:Math.floor(s.employee?.available_vacation_days||0)})," das disponibles"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"})," Certificacin ",s.certification_type]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Propsito:"})," ",s.purpose]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Tiempo estimado: ",s.estimated_days," das"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t border-gray-100",children:[e.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>u(s,r),children:[e.jsx(ds,{className:"w-4 h-4"}),"Detalle"]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1"}),e.jsxs(F,{variant:"danger",size:"sm",onClick:()=>c(s,r),children:[e.jsx(Sa,{className:"w-4 h-4"}),"Rechazar"]}),e.jsxs(F,{variant:"success",size:"sm",onClick:()=>i(s,r),children:[e.jsx(Qe,{className:"w-4 h-4"}),"Aprobar"]})]})]})]})]})})})}function j_(){const[s,r]=b.useState("pending"),[i,c]=b.useState(!1),[u,f]=b.useState(!1),[m,h]=b.useState(null),[y,x]=b.useState(null),[p,j]=b.useState(""),C=Ye(),{data:E,isLoading:N}=Ae({queryKey:["approvals","pending"],queryFn:()=>mn.list({status:"pending"})}),{data:T,isLoading:S}=Ae({queryKey:["approvals","history"],queryFn:()=>mn.list({status:"history"}),enabled:s==="history"}),w=pe({mutationFn:({id:re})=>mn.approve(re,{}),onSuccess:()=>{C.invalidateQueries(["approvals"]),C.invalidateQueries(["approvals-count"])}}),k=pe({mutationFn:({id:re,reason:M})=>mn.reject(re,M),onSuccess:()=>{C.invalidateQueries(["approvals"]),C.invalidateQueries(["approvals-count"]),c(!1),j("")}}),O=pe({mutationFn:re=>La.generateDocument(re),onSuccess:re=>{C.invalidateQueries(["approvals"]),alert("Documento generado exitosamente"),re.data?.data?.certification&&h(M=>({...M,document_uuid:re.data.data.certification.document_uuid,status:re.data.data.certification.status}))},onError:re=>{alert(re.response?.data?.error||"Error al generar documento")}}),H=async re=>{try{const M=await La.downloadDocument(re),ae=new Blob([M.data],{type:"application/pdf"}),Z=window.URL.createObjectURL(ae),ce=document.createElement("a");ce.href=Z,ce.download=`certificacion-${re}.pdf`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),window.URL.revokeObjectURL(Z)}catch(M){alert(M.response?.data?.error||"Error al descargar documento")}},Q=E?.data?.data||{vacation_requests:[],certification_requests:[]},z=T?.data?.data||{vacation_requests:[],certification_requests:[]},P=(Q.vacation_requests?.length||0)+(Q.certification_requests?.length||0),W=(z.vacation_requests?.length||0)+(z.certification_requests?.length||0),ie=(re,M)=>{window.confirm("Ests seguro de aprobar esta solicitud?")&&w.mutate({id:re.id,type:M})},$=(re,M)=>{h(re),x(M),c(!0)},q=(re,M)=>{h(re),x(M),f(!0)},U=()=>{if(!p.trim()){alert("Debes proporcionar un motivo de rechazo");return}k.mutate({id:m.id,reason:p})},fe=s==="pending"?Q:z,te=s==="pending"?N:S;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Aprobaciones"}),e.jsx("p",{className:"text-gray-500",children:"Administra las solicitudes de vacaciones y certificaciones"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>r("pending"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${s==="pending"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ot,{className:"w-4 h-4"}),"Pendientes",P>0&&e.jsx("span",{className:"bg-danger-500 text-white text-xs px-2 py-0.5 rounded-full",children:P})]}),e.jsxs("button",{onClick:()=>r("history"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${s==="history"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Zp,{className:"w-4 h-4"}),"Historial",s==="history"&&W>0&&e.jsx("span",{className:"bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:W})]})]})}),s==="pending"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ge,{children:e.jsxs(ve,{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"p-3 bg-yellow-50 rounded-xl",children:e.jsx(Ot,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Pendientes"})]})]})}),e.jsx(ge,{children:e.jsxs(ve,{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:e.jsx(it,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Q.vacation_requests?.length||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Vacaciones"})]})]})}),e.jsx(ge,{children:e.jsxs(ve,{className:"flex items-center gap-4 p-4",children:[e.jsx("div",{className:"p-3 bg-purple-50 rounded-xl",children:e.jsx(Na,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Q.certification_requests?.length||0}),e.jsx("p",{className:"text-sm text-gray-500",children:"Certificaciones"})]})]})})]}),te&&e.jsx("div",{className:"space-y-4",children:[1,2,3].map(re=>e.jsx(ge,{className:"animate-pulse",children:e.jsx(ve,{className:"p-4",children:e.jsx("div",{className:"h-24 bg-gray-100 rounded"})})},re))}),!te&&fe.vacation_requests?.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(it,{className:"w-5 h-5 text-blue-600"}),"Solicitudes de Vacaciones"]}),e.jsx("div",{className:"space-y-4",children:fe.vacation_requests.map(re=>e.jsx(n0,{request:re,type:"vacation",onApprove:ie,onReject:$,onView:q,showActions:s==="pending"},re.id))})]}),!te&&fe.certification_requests?.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Na,{className:"w-5 h-5 text-purple-600"}),"Solicitudes de Certificacin"]}),e.jsx("div",{className:"space-y-4",children:fe.certification_requests.map(re=>e.jsx(n0,{request:re,type:"certification",onApprove:ie,onReject:$,onView:q,showActions:s==="pending"},re.id))})]}),!te&&fe.vacation_requests?.length===0&&fe.certification_requests?.length===0&&e.jsx(ge,{children:e.jsx(ve,{className:"py-12 text-center",children:s==="pending"?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-16 h-16 mx-auto text-green-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Todo al da!"}),e.jsx("p",{className:"text-gray-500",children:"No tienes solicitudes pendientes de aprobacin"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Zp,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sin historial"}),e.jsx("p",{className:"text-gray-500",children:"An no hay solicitudes procesadas"})]})})}),e.jsx(pt,{isOpen:i,onClose:()=>c(!1),title:"Rechazar Solicitud",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Por favor, proporciona el motivo del rechazo para la solicitud"," ",e.jsx("span",{className:"font-medium",children:m?.request_number}),"."]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo del Rechazo *"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:4,value:p,onChange:re=>j(re.target.value),placeholder:"Explica el motivo del rechazo...",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{variant:"secondary",onClick:()=>c(!1),children:"Cancelar"}),e.jsx(F,{variant:"danger",onClick:U,loading:k.isPending,children:"Confirmar Rechazo"})]})]})}),e.jsx(pt,{isOpen:u,onClose:()=>f(!1),title:"Detalle de Solicitud",size:"lg",children:m&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Ba,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:m.employee?.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[m.employee?.department,"  ",m.employee?.job_title]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Nmero de Solicitud"}),e.jsx("p",{className:"font-medium",children:m.request_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Estado"}),e.jsx(qe,{status:m.status})]}),y==="vacation"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tipo"}),e.jsx("p",{className:"font-medium",children:m.vacation_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Das Solicitados"}),e.jsx("p",{className:"font-medium text-primary-600",children:m.days_requested})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Fecha Inicio"}),e.jsx("p",{className:"font-medium",children:new Date(m.start_date).toLocaleDateString("es-ES")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Fecha Fin"}),e.jsx("p",{className:"font-medium",children:new Date(m.end_date).toLocaleDateString("es-ES")})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tipo de Certificacin"}),e.jsx("p",{className:"font-medium",children:m.certification_type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Propsito"}),e.jsx("p",{className:"font-medium",children:m.purpose})]})]})]}),m.reason&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Motivo"}),e.jsx("p",{className:"p-3 bg-gray-50 rounded-lg text-gray-700",children:m.reason})]}),m.status==="pending"&&e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{variant:"secondary",onClick:()=>f(!1),children:"Cerrar"}),e.jsx(F,{variant:"danger",onClick:()=>{f(!1),$(m,y)},children:"Rechazar"}),e.jsx(F,{variant:"success",onClick:()=>{f(!1),ie(m,y)},children:"Aprobar"})]}),m.status!=="pending"&&e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[y==="certification"&&m.status==="approved"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Generacion de Documento"]}),m.document_uuid?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"Documento generado"}),e.jsxs(F,{size:"sm",onClick:()=>H(m.id),children:[e.jsx(pn,{className:"w-4 h-4"}),"Descargar PDF"]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-blue-700",children:"Genera el documento de certificacion para el empleado"}),e.jsxs(F,{size:"sm",onClick:()=>O.mutate(m.id),loading:O.isPending,children:[e.jsx(Ee,{className:"w-4 h-4"}),"Generar Documento"]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(F,{variant:"secondary",onClick:()=>f(!1),children:"Cerrar"})})]})]})})]})}const N_=[{value:"",label:"Todos los estados"},{value:"active",label:"Activo"},{value:"inactive",label:"Inactivo"},{value:"on_leave",label:"En licencia"},{value:"terminated",label:"Terminado"}],__=[{value:"",label:"Todos los departamentos"},{value:"engineering",label:"Ingeniera"},{value:"hr",label:"Recursos Humanos"},{value:"finance",label:"Finanzas"},{value:"sales",label:"Ventas"},{value:"marketing",label:"Marketing"},{value:"operations",label:"Operaciones"},{value:"legal",label:"Legal"}],yg=[{value:"active",label:"Activo"},{value:"inactive",label:"Inactivo"},{value:"on_leave",label:"En licencia"},{value:"terminated",label:"Terminado"},{value:"suspended",label:"Suspendido"}],am=[{value:"full_time",label:"Tiempo Completo"},{value:"part_time",label:"Medio Tiempo"},{value:"contractor",label:"Contratista"},{value:"intern",label:"Pasante"}],sm=[{value:"indefinite",label:"Termino Indefinido"},{value:"fixed_term",label:"Termino Fijo"},{value:"work_or_labor",label:"Obra o Labor"},{value:"apprentice",label:"Aprendizaje"}],vg=[{value:"CC",label:"Cedula de Ciudadania"},{value:"CE",label:"Cedula de Extranjeria"},{value:"PA",label:"Pasaporte"},{value:"TI",label:"Tarjeta de Identidad"},{value:"NIT",label:"NIT"}],wa=s=>{if(!s||s===0)return"cero pesos";const r=["","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"],i=["diez","once","doce","trece","catorce","quince","dieciseis","diecisiete","dieciocho","diecinueve"],c=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"],u=["","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"],f=Math.floor(parseFloat(s));if(f===0)return"cero pesos";const m=x=>x===0?"":x<10?r[x]:x<20?i[x-10]:x<30?x===20?"veinte":"veinti"+r[x-20]:x<100?c[Math.floor(x/10)]+(x%10>0?" y "+r[x%10]:""):x===100?"cien":x<1e3?u[Math.floor(x/100)]+(x%100>0?" "+m(x%100):""):x.toString(),h=[];let y=f;if(y>=1e6){const x=Math.floor(y/1e6);h.push(x===1?"un millon":m(x)+" millones"),y%=1e6}if(y>=1e3){const x=Math.floor(y/1e3);h.push(x===1?"mil":m(x)+" mil"),y%=1e3}return y>0&&h.push(m(y)),h.join(" ").trim()+" pesos"},w_={indefinite:"Termino Indefinido",fixed_term:"Termino Fijo",work_or_labor:"Obra o Labor",apprentice:"Aprendizaje"},bg=[{value:"days",label:"Dias"},{value:"weeks",label:"Semanas"},{value:"months",label:"Meses"},{value:"years",label:"Anos"}],S_={days:"dias",weeks:"semanas",months:"meses",years:"anos"},jg=[{value:"",label:"Sin departamento"},{value:"engineering",label:"Ingeniera"},{value:"hr",label:"Recursos Humanos"},{value:"finance",label:"Finanzas"},{value:"sales",label:"Ventas"},{value:"marketing",label:"Marketing"},{value:"operations",label:"Operaciones"},{value:"legal",label:"Legal"},{value:"it",label:"Tecnologa"},{value:"admin",label:"Administracin"}],Er={active:"Activo",inactive:"Inactivo",on_leave:"En licencia",terminated:"Terminado",suspended:"Suspendido"},bn={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-700",on_leave:"bg-yellow-100 text-yellow-700",terminated:"bg-red-100 text-red-700",suspended:"bg-orange-100 text-orange-700"},C_={full_time:"Tiempo Completo",part_time:"Medio Tiempo",contractor:"Contratista",intern:"Pasante"};function E_({employee:s,employees:r,contractTemplates:i=[],onSubmit:c,onCancel:u,loading:f,error:m}){const[h,y]=b.useState({employee_number:"",job_title:"",department:"",employment_status:"active",employment_type:"full_time",hire_date:"",termination_date:"",cost_center:"",date_of_birth:"",emergency_contact_name:"",emergency_contact_phone:"",supervisor_id:"",contract_type:"indefinite",contract_template_id:"",contract_start_date:"",contract_end_date:"",contract_duration_value:"",contract_duration_unit:"months",trial_period_days:"60",salary:"",food_allowance:"",transport_allowance:"",identification_type:"CC",identification_number:"",place_of_birth:"",nationality:"Colombiana",address:"",phone:"",personal_email:""}),[x,p]=b.useState("laboral");b.useEffect(()=>{s&&y({employee_number:s.employee_number||"",job_title:s.job_title||"",department:s.department||"",employment_status:s.employment_status||"active",employment_type:s.employment_type||"full_time",hire_date:s.hire_date?s.hire_date.split("T")[0]:"",termination_date:s.termination_date?s.termination_date.split("T")[0]:"",cost_center:s.cost_center||"",date_of_birth:s.date_of_birth?s.date_of_birth.split("T")[0]:"",emergency_contact_name:s.emergency_contact_name||"",emergency_contact_phone:s.emergency_contact_phone||"",supervisor_id:s.supervisor_id||"",contract_type:s.contract_type||"indefinite",contract_template_id:s.contract_template_id||"",contract_start_date:s.contract_start_date?s.contract_start_date.split("T")[0]:"",contract_end_date:s.contract_end_date?s.contract_end_date.split("T")[0]:"",contract_duration_value:s.contract_duration_value||"",contract_duration_unit:s.contract_duration_unit||"months",trial_period_days:s.trial_period_days||"60",salary:s.salary||"",food_allowance:s.food_allowance||"",transport_allowance:s.transport_allowance||"",identification_type:s.identification_type||"CC",identification_number:s.identification_number||"",place_of_birth:s.place_of_birth||"",nationality:s.nationality||"Colombiana",address:s.address||"",phone:s.phone||"",personal_email:s.personal_email||""})},[s]);const j=N=>{N.preventDefault();const T={...h};Object.keys(T).forEach(S=>{T[S]===""&&(T[S]=null)}),c(T)},C=[{value:"",label:"Sin supervisor"},...r.filter(N=>N.id!==s?.id).map(N=>({value:N.id,label:`${N.full_name} - ${N.job_title||"Sin cargo"}`}))],E=[{id:"laboral",label:"Laboral",icon:En},{id:"contrato",label:"Contrato",icon:Ee},{id:"compensacion",label:"Compensacion",icon:hl},{id:"personal",label:"Personal",icon:Ba}];return e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:m})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-4",children:E.map(N=>e.jsxs("button",{type:"button",onClick:()=>p(N.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${x===N.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(N.icon,{className:"w-4 h-4"}),N.label]},N.id))})}),x==="laboral"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(de,{label:"Numero de Empleado",value:h.employee_number,onChange:N=>y({...h,employee_number:N.target.value}),placeholder:"EMP-001"}),e.jsx(de,{label:"Cargo",value:h.job_title,onChange:N=>y({...h,job_title:N.target.value}),placeholder:"Ej: Desarrollador Senior"}),e.jsx(Me,{label:"Departamento",options:jg,value:h.department,onChange:N=>y({...h,department:N.target.value})}),e.jsx(de,{label:"Centro de Costo",value:h.cost_center,onChange:N=>y({...h,cost_center:N.target.value}),placeholder:"Ej: CC-100"}),e.jsx(Me,{label:"Estado Laboral",options:yg,value:h.employment_status,onChange:N=>y({...h,employment_status:N.target.value})}),e.jsx(Me,{label:"Tipo de Empleo",options:am,value:h.employment_type,onChange:N=>y({...h,employment_type:N.target.value})}),e.jsxs("div",{children:[e.jsx(Me,{label:"Supervisor *",options:C,value:h.supervisor_id,onChange:N=>y({...h,supervisor_id:N.target.value})}),!h.supervisor_id&&e.jsxs("p",{className:"text-xs text-amber-600 mt-1 flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"}),"Requerido para aprobaciones y firmas de documentos"]})]}),e.jsx(de,{label:"Fecha de Contratacion",type:"date",value:h.hire_date,onChange:N=>y({...h,hire_date:N.target.value})})]})}),x==="contrato"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Me,{label:"Tipo de Contrato",options:i.length>0?i:sm,value:i.length>0?h.contract_template_id:h.contract_type,onChange:N=>{i.length>0?y({...h,contract_template_id:N.target.value}):y({...h,contract_type:N.target.value})}}),e.jsx(de,{label:"Dias de Periodo de Prueba",type:"number",value:h.trial_period_days,onChange:N=>y({...h,trial_period_days:N.target.value}),placeholder:"60"}),e.jsx(de,{label:"Fecha de Inicio del Contrato",type:"date",value:h.contract_start_date,onChange:N=>y({...h,contract_start_date:N.target.value})}),(h.contract_type==="fixed_term"||h.contract_type==="work_or_labor")&&e.jsxs(e.Fragment,{children:[e.jsx(de,{label:"Fecha de Fin del Contrato",type:"date",value:h.contract_end_date,onChange:N=>y({...h,contract_end_date:N.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duracion del Contrato"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(de,{type:"number",value:h.contract_duration_value,onChange:N=>y({...h,contract_duration_value:N.target.value}),placeholder:"12",className:"flex-1"}),e.jsx(Me,{options:bg,value:h.contract_duration_unit,onChange:N=>y({...h,contract_duration_unit:N.target.value}),className:"w-32"})]})]})]}),h.employment_status==="terminated"&&e.jsx(de,{label:"Fecha de Terminacion",type:"date",value:h.termination_date,onChange:N=>y({...h,termination_date:N.target.value})})]})}),x==="compensacion"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(de,{label:"Salario Mensual",type:"number",value:h.salary,onChange:N=>y({...h,salary:N.target.value}),placeholder:"2500000"}),h.salary&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:wa(h.salary)})]}),e.jsxs("div",{children:[e.jsx(de,{label:"Auxilio de Alimentacion",type:"number",value:h.food_allowance,onChange:N=>y({...h,food_allowance:N.target.value}),placeholder:"0"}),h.food_allowance>0&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:wa(h.food_allowance)})]}),e.jsxs("div",{children:[e.jsx(de,{label:"Auxilio de Transporte",type:"number",value:h.transport_allowance,onChange:N=>y({...h,transport_allowance:N.target.value}),placeholder:"140606"}),h.transport_allowance>0&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:wa(h.transport_allowance)})]})]}),(h.salary||h.food_allowance||h.transport_allowance)&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"Compensacion Total: "}),"$",((parseFloat(h.salary)||0)+(parseFloat(h.food_allowance)||0)+(parseFloat(h.transport_allowance)||0)).toLocaleString("es-CO")]}),e.jsx("p",{className:"text-xs text-green-600 mt-1 italic",children:wa((parseFloat(h.salary)||0)+(parseFloat(h.food_allowance)||0)+(parseFloat(h.transport_allowance)||0))})]})]}),x==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Identificacion"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Me,{label:"Tipo de Documento",options:vg,value:h.identification_type,onChange:N=>y({...h,identification_type:N.target.value})}),e.jsx(de,{label:"Numero de Documento",value:h.identification_number,onChange:N=>y({...h,identification_number:N.target.value}),placeholder:"1234567890"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Datos Personales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(de,{label:"Fecha de Nacimiento",type:"date",value:h.date_of_birth,onChange:N=>y({...h,date_of_birth:N.target.value})}),e.jsx(de,{label:"Lugar de Nacimiento",value:h.place_of_birth,onChange:N=>y({...h,place_of_birth:N.target.value}),placeholder:"Bogota, Colombia"}),e.jsx(de,{label:"Nacionalidad",value:h.nationality,onChange:N=>y({...h,nationality:N.target.value}),placeholder:"Colombiana"}),e.jsx(de,{label:"Telefono",value:h.phone,onChange:N=>y({...h,phone:N.target.value}),placeholder:"+57 300 123 4567"}),e.jsx(de,{label:"Correo Personal",type:"email",value:h.personal_email,onChange:N=>y({...h,personal_email:N.target.value}),placeholder:"correo@personal.com"}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(de,{label:"Direccion",value:h.address,onChange:N=>y({...h,address:N.target.value}),placeholder:"Calle 123 # 45-67, Bogota"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Contacto de Emergencia"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(de,{label:"Nombre del Contacto",value:h.emergency_contact_name,onChange:N=>y({...h,emergency_contact_name:N.target.value}),placeholder:"Nombre completo"}),e.jsx(de,{label:"Telefono del Contacto",value:h.emergency_contact_phone,onChange:N=>y({...h,emergency_contact_phone:N.target.value}),placeholder:"+57 300 123 4567"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:u,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:f,children:[e.jsx(Fa,{className:"w-4 h-4"}),"Guardar Cambios"]})]})]})}function T_({employees:s=[],contractTemplates:r=[],onSubmit:i,onCancel:c,loading:u,error:f}){const[m,h]=b.useState({first_name:"",last_name:"",personal_email:"",identification_type:"CC",identification_number:"",employee_number:"",job_title:"",department:"",employment_status:"active",employment_type:"full_time",hire_date:new Date().toISOString().split("T")[0],supervisor_id:"",cost_center:"",contract_type:"indefinite",contract_template_id:"",contract_start_date:new Date().toISOString().split("T")[0],contract_end_date:"",contract_duration_value:"",contract_duration_unit:"months",trial_period_days:"60",salary:"",food_allowance:"",transport_allowance:"",date_of_birth:"",place_of_birth:"",nationality:"Colombiana",address:"",phone:"",emergency_contact_name:"",emergency_contact_phone:""}),[y,x]=b.useState("basico"),[p,j]=b.useState({}),C=()=>{const w={};return m.first_name.trim()||(w.first_name="Nombre es requerido"),m.last_name.trim()||(w.last_name="Apellido es requerido"),m.personal_email.trim()||(w.personal_email="Correo es requerido"),m.identification_number.trim()||(w.identification_number="Nmero de documento es requerido"),m.job_title.trim()||(w.job_title="Cargo es requerido"),m.department||(w.department="Departamento es requerido"),m.supervisor_id||(w.supervisor_id="Supervisor es requerido"),m.hire_date||(w.hire_date="Fecha de contratacin es requerida"),j(w),Object.keys(w).length===0},E=w=>{if(w.preventDefault(),!C()){p.first_name||p.last_name||p.personal_email||p.identification_number?x("basico"):(p.job_title||p.department||p.supervisor_id||p.hire_date)&&x("laboral");return}const k={...m};Object.keys(k).forEach(O=>{k[O]===""&&(k[O]=null)}),i(k)},N=[{value:"",label:"Seleccionar supervisor *"},...s.map(w=>({value:w.id,label:`${w.full_name} - ${w.job_title||"Sin cargo"}`}))],T=[{id:"basico",label:"Datos Bsicos",icon:Ba,required:!0},{id:"laboral",label:"Laboral",icon:En,required:!0},{id:"contrato",label:"Contrato",icon:Ee},{id:"compensacion",label:"Compensacin",icon:hl},{id:"personal",label:"Personal",icon:xc}],S=w=>w==="basico"?p.first_name||p.last_name||p.personal_email||p.identification_number:w==="laboral"?p.job_title||p.department||p.supervisor_id||p.hire_date:!1;return e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:f})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-2 overflow-x-auto",children:T.map(w=>e.jsxs("button",{type:"button",onClick:()=>x(w.id),className:`py-2 px-3 border-b-2 font-medium text-sm flex items-center gap-2 whitespace-nowrap ${y===w.id?"border-primary-500 text-primary-600":S(w.id)?"border-red-300 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(w.icon,{className:"w-4 h-4"}),w.label,w.required&&e.jsx("span",{className:"text-red-500",children:"*"}),S(w.id)&&e.jsx(Ge,{className:"w-3 h-3 text-red-500"})]},w.id))})}),y==="basico"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Informacin requerida:"})," Estos datos son necesarios para crear la cuenta del empleado."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(de,{label:"Nombre *",value:m.first_name,onChange:w=>h({...m,first_name:w.target.value}),placeholder:"Nombre",error:p.first_name}),p.first_name&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.first_name})]}),e.jsxs("div",{children:[e.jsx(de,{label:"Apellido *",value:m.last_name,onChange:w=>h({...m,last_name:w.target.value}),placeholder:"Apellido",error:p.last_name}),p.last_name&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.last_name})]}),e.jsxs("div",{children:[e.jsx(de,{label:"Correo Personal *",type:"email",value:m.personal_email,onChange:w=>h({...m,personal_email:w.target.value}),placeholder:"correo@personal.com",error:p.personal_email}),p.personal_email&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.personal_email}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se usar para crear la cuenta de usuario"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(Me,{label:"Tipo Doc *",options:vg,value:m.identification_type,onChange:w=>h({...m,identification_type:w.target.value})}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(de,{label:"Nmero de Documento *",value:m.identification_number,onChange:w=>h({...m,identification_number:w.target.value}),placeholder:"1234567890",error:p.identification_number}),p.identification_number&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.identification_number}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ser la contrasea inicial"})]})]})]})]}),y==="laboral"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(de,{label:"Nmero de Empleado",value:m.employee_number,onChange:w=>h({...m,employee_number:w.target.value}),placeholder:"EMP-001 (auto si vaco)"}),e.jsxs("div",{children:[e.jsx(de,{label:"Cargo *",value:m.job_title,onChange:w=>h({...m,job_title:w.target.value}),placeholder:"Ej: Desarrollador Senior",error:p.job_title}),p.job_title&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.job_title})]}),e.jsxs("div",{children:[e.jsx(Me,{label:"Departamento *",options:[{value:"",label:"Seleccionar departamento *"},...jg.slice(1)],value:m.department,onChange:w=>h({...m,department:w.target.value})}),p.department&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.department})]}),e.jsx(de,{label:"Centro de Costo",value:m.cost_center,onChange:w=>h({...m,cost_center:w.target.value}),placeholder:"Ej: CC-100"}),e.jsx(Me,{label:"Estado Laboral",options:yg,value:m.employment_status,onChange:w=>h({...m,employment_status:w.target.value})}),e.jsx(Me,{label:"Tipo de Empleo",options:am,value:m.employment_type,onChange:w=>h({...m,employment_type:w.target.value})}),e.jsxs("div",{children:[e.jsx(Me,{label:"Supervisor *",options:N,value:m.supervisor_id,onChange:w=>h({...m,supervisor_id:w.target.value})}),p.supervisor_id&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.supervisor_id}),!m.supervisor_id&&e.jsxs("p",{className:"text-xs text-amber-600 mt-1 flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"}),"Requerido para aprobaciones y firmas"]})]}),e.jsxs("div",{children:[e.jsx(de,{label:"Fecha de Contratacin *",type:"date",value:m.hire_date,onChange:w=>h({...m,hire_date:w.target.value}),error:p.hire_date}),p.hire_date&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.hire_date})]})]})}),y==="contrato"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Me,{label:"Tipo de Contrato",options:r.length>0?[{value:"",label:"Seleccionar template"},...r]:sm,value:r.length>0?m.contract_template_id:m.contract_type,onChange:w=>{r.length>0?h({...m,contract_template_id:w.target.value}):h({...m,contract_type:w.target.value})}}),e.jsx(de,{label:"Das de Periodo de Prueba",type:"number",value:m.trial_period_days,onChange:w=>h({...m,trial_period_days:w.target.value}),placeholder:"60"}),e.jsx(de,{label:"Fecha de Inicio del Contrato",type:"date",value:m.contract_start_date,onChange:w=>h({...m,contract_start_date:w.target.value})}),(m.contract_type==="fixed_term"||m.contract_type==="work_or_labor")&&e.jsxs(e.Fragment,{children:[e.jsx(de,{label:"Fecha de Fin del Contrato",type:"date",value:m.contract_end_date,onChange:w=>h({...m,contract_end_date:w.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duracin del Contrato"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(de,{type:"number",value:m.contract_duration_value,onChange:w=>h({...m,contract_duration_value:w.target.value}),placeholder:"12",className:"flex-1"}),e.jsx(Me,{options:bg,value:m.contract_duration_unit,onChange:w=>h({...m,contract_duration_unit:w.target.value}),className:"w-32"})]})]})]})]})}),y==="compensacion"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(de,{label:"Salario Mensual",type:"number",value:m.salary,onChange:w=>h({...m,salary:w.target.value}),placeholder:"2500000"}),m.salary&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:wa(m.salary)})]}),e.jsxs("div",{children:[e.jsx(de,{label:"Auxilio de Alimentacin",type:"number",value:m.food_allowance,onChange:w=>h({...m,food_allowance:w.target.value}),placeholder:"0"}),m.food_allowance>0&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:wa(m.food_allowance)})]}),e.jsxs("div",{children:[e.jsx(de,{label:"Auxilio de Transporte",type:"number",value:m.transport_allowance,onChange:w=>h({...m,transport_allowance:w.target.value}),placeholder:"140606"}),m.transport_allowance>0&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:wa(m.transport_allowance)})]})]}),(m.salary||m.food_allowance||m.transport_allowance)&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"Compensacin Total: "}),"$",((parseFloat(m.salary)||0)+(parseFloat(m.food_allowance)||0)+(parseFloat(m.transport_allowance)||0)).toLocaleString("es-CO")]})})]}),y==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Datos Personales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(de,{label:"Fecha de Nacimiento",type:"date",value:m.date_of_birth,onChange:w=>h({...m,date_of_birth:w.target.value})}),e.jsx(de,{label:"Lugar de Nacimiento",value:m.place_of_birth,onChange:w=>h({...m,place_of_birth:w.target.value}),placeholder:"Bogot, Colombia"}),e.jsx(de,{label:"Nacionalidad",value:m.nationality,onChange:w=>h({...m,nationality:w.target.value}),placeholder:"Colombiana"}),e.jsx(de,{label:"Telfono",value:m.phone,onChange:w=>h({...m,phone:w.target.value}),placeholder:"+57 300 123 4567"}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(de,{label:"Direccin",value:m.address,onChange:w=>h({...m,address:w.target.value}),placeholder:"Calle 123 # 45-67, Bogot"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Contacto de Emergencia"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(de,{label:"Nombre del Contacto",value:m.emergency_contact_name,onChange:w=>h({...m,emergency_contact_name:w.target.value}),placeholder:"Nombre completo"}),e.jsx(de,{label:"Telfono del Contacto",value:m.emergency_contact_phone,onChange:w=>h({...m,emergency_contact_phone:w.target.value}),placeholder:"+57 300 123 4567"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Los campos marcados con ",e.jsx("span",{className:"text-red-500",children:"*"})," son obligatorios"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:c,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:u,children:[e.jsx(gg,{className:"w-4 h-4"}),"Crear Empleado"]})]})]})]})}function M_({employee:s,onView:r}){return e.jsx(ge,{className:"hover:shadow-md transition-shadow",children:e.jsxs(ve,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsxs("span",{className:"text-primary-700 font-semibold text-lg",children:[s.first_name?.[0],s.last_name?.[0]]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:s.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.employee_number})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${bn[s.employment_status]||bn.active}`,children:Er[s.employment_status]||s.employment_status})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(En,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"truncate",children:s.job_title||"Sin cargo"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(bc,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"truncate",children:s.department||"Sin departamento"})]}),s.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ju,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"truncate",children:s.email})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4 pt-3 border-t border-gray-100",children:e.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>r(s),children:[e.jsx(ds,{className:"w-4 h-4"}),"Ver Detalle"]})})]})})}function A_({employees:s,onView:r,sortColumn:i,sortDirection:c,onSort:u}){const f=({column:h})=>i!==h?e.jsx(kc,{className:"w-3 h-3 text-gray-400"}):c==="asc"?e.jsx(zc,{className:"w-3 h-3 text-primary-600"}):e.jsx(Oc,{className:"w-3 h-3 text-primary-600"}),m=({column:h,children:y,align:x="left"})=>e.jsx("th",{onClick:()=>u(h),className:`px-4 py-3 text-${x} text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none`,children:e.jsxs("div",{className:`flex items-center gap-1 ${x==="right"?"justify-end":x==="center"?"justify-center":""}`,children:[y,e.jsx(f,{column:h})]})});return e.jsx(ge,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx(m,{column:"full_name",children:"Empleado"}),e.jsx(m,{column:"job_title",children:"Cargo"}),e.jsx(m,{column:"department",children:"Departamento"}),e.jsx(m,{column:"employment_status",children:"Estado"}),e.jsx(m,{column:"hire_date",children:"Fecha Ingreso"}),e.jsx(m,{column:"available_vacation_days",align:"center",children:"Vacaciones"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.map(h=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsxs("span",{className:"text-primary-700 font-medium",children:[h.first_name?.[0],h.last_name?.[0]]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:h.full_name}),e.jsx("p",{className:"text-sm text-gray-500",children:h.email})]})]})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:h.job_title||"-"}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:h.department||"-"}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${bn[h.employment_status]||bn.active}`,children:Er[h.employment_status]||h.employment_status})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:h.hire_date?new Date(h.hire_date).toLocaleDateString("es-CO"):"-"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[h.available_vacation_days??0," das"]})}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>r(h),children:e.jsx(ds,{className:"w-4 h-4"})})})]},h.id))})]})})})}function D_(){const{isHR:s,isAdmin:r}=Ta(),i=s||r,[c,u]=b.useState(""),[f,m]=b.useState(""),[h,y]=b.useState(""),[x,p]=b.useState(""),[j,C]=b.useState(""),[E,N]=b.useState("table"),[T,S]=b.useState(1),[w,k]=b.useState(!1),[O,H]=b.useState(!1),[Q,z]=b.useState(!1),[P,W]=b.useState(!1),[ie,$]=b.useState(null),[q,U]=b.useState(""),[fe,te]=b.useState(""),[re,M]=b.useState("full_name"),[ae,Z]=b.useState("asc"),ce=Ye(),{data:xe,isLoading:v,isError:D}=Ae({queryKey:["employees",{q:c,status:f,department:h,page:T,sortColumn:re,sortDirection:ae}],queryFn:()=>on.list({q:c||void 0,status:f||void 0,department:h||void 0,sort_by:re,sort_direction:ae,page:T,per_page:20})}),{data:ne,isLoading:X}=Ae({queryKey:["employee",ie?.id],queryFn:()=>on.get(ie.id),enabled:!!ie?.id&&(w||O)}),G=pe({mutationFn:({id:me,data:ut})=>on.update(me,ut),onSuccess:()=>{ce.invalidateQueries(["employees"]),ce.invalidateQueries(["employee",ie?.id]),H(!1),U("")},onError:me=>{U(me.response?.data?.error||"Error al actualizar el empleado")}}),he=pe({mutationFn:me=>on.create(me),onSuccess:me=>{ce.invalidateQueries(["employees"]),z(!1),te("");const ut=me.data?.data;ut&&($(ut),k(!0))},onError:me=>{te(me.response?.data?.error||me.response?.data?.errors?.join(", ")||"Error al crear el empleado")}}),je=pe({mutationFn:me=>on.createAccount(me),onSuccess:me=>{ce.invalidateQueries(["employees"]),ce.invalidateQueries(["employee",ie?.id]),alert(me.data.message||"Cuenta creada exitosamente. La contrasea inicial es el nmero de cdula.")},onError:me=>{alert(me.response?.data?.error||"Error al crear la cuenta")}}),Le=pe({mutationFn:({employeeId:me,templateId:ut})=>on.generateDocument(me,ut),onSuccess:me=>{W(!1),alert(me.data.message||"Documento generado exitosamente. Puede descargarlo desde la seccin de documentos.")},onError:me=>{alert(me.response?.data?.error||"Error al generar el documento")}}),{data:Fe}=Ae({queryKey:["templates",{category:"contract",status:"active"}],queryFn:()=>et.list({category:"contract",status:"active"})}),Va=Fe?.data?.data||[],Bs=Va.map(me=>({value:me.id,label:me.name})),Qs=xe?.data?.data||[],jl=xe?.data?.meta||{},oe=ne?.data?.data||ie,Aa=Qs.filter(me=>!(x&&me.contract_type!==x||j&&me.employment_type!==j)).sort((me,ut)=>{let aa,ga;switch(re){case"full_name":aa=(me.full_name||"").toLowerCase(),ga=(ut.full_name||"").toLowerCase();break;case"job_title":aa=(me.job_title||"").toLowerCase(),ga=(ut.job_title||"").toLowerCase();break;case"department":aa=(me.department||"").toLowerCase(),ga=(ut.department||"").toLowerCase();break;case"employment_status":aa=Er[me.employment_status]||me.employment_status||"",ga=Er[ut.employment_status]||ut.employment_status||"";break;case"hire_date":aa=me.hire_date?new Date(me.hire_date).getTime():0,ga=ut.hire_date?new Date(ut.hire_date).getTime():0;break;case"available_vacation_days":aa=me.available_vacation_days??0,ga=ut.available_vacation_days??0;break;default:aa=(me.full_name||"").toLowerCase(),ga=(ut.full_name||"").toLowerCase()}return aa<ga?ae==="asc"?-1:1:aa>ga?ae==="asc"?1:-1:0}),Tn=me=>{re===me?Z(ut=>ut==="asc"?"desc":"asc"):(M(me),Z("asc"))},Lc=()=>{u(""),m(""),y(""),p(""),C(""),S(1)},Ur=c||f||h||x||j,Nl=me=>{$(me),k(!0)},Mn=()=>{k(!1),H(!0),U("")},_l=()=>{H(!1),$(null),U("")},Uc=me=>{G.mutate({id:ie.id,data:me})},Hc=me=>{confirm(`Crear cuenta de usuario para este empleado?

La contrasea inicial ser el nmero de cdula y deber cambiarla en el primer inicio de sesin.`)&&je.mutate(me)},kt=()=>{W(!0)},Fc=me=>{ie&&Le.mutate({employeeId:ie.id,templateId:me})},Hr=me=>{me.preventDefault(),S(1)},Vs=Math.ceil((jl.total||0)/(jl.per_page||20));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Empleados"}),e.jsx("p",{className:"text-gray-500",children:"Directorio de empleados de la organizacin"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[i&&e.jsxs(F,{onClick:()=>{te(""),z(!0)},children:[e.jsx(Je,{className:"w-4 h-4"}),"Agregar Empleado"]}),e.jsxs("div",{className:"flex items-center gap-1 border-l pl-3 ml-2",children:[e.jsx(F,{variant:E==="table"?"primary":"secondary",size:"sm",onClick:()=>N("table"),children:"Tabla"}),e.jsx(F,{variant:E==="grid"?"primary":"secondary",size:"sm",onClick:()=>N("grid"),children:"Tarjetas"})]})]})]}),e.jsx(ge,{children:e.jsx(ve,{className:"py-4",children:e.jsxs("form",{onSubmit:Hr,className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o nmero...",value:c,onChange:me=>u(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),e.jsx(Me,{options:N_,value:f,onChange:me=>{m(me.target.value),S(1)},className:"w-44"}),e.jsx(Me,{options:__,value:h,onChange:me=>{y(me.target.value),S(1)},className:"w-48"}),e.jsx(Me,{options:[{value:"",label:"Tipo de contrato"},...sm],value:x,onChange:me=>{p(me.target.value),S(1)},className:"w-44"}),e.jsx(Me,{options:[{value:"",label:"Tipo de empleo"},...am],value:j,onChange:me=>{C(me.target.value),S(1)},className:"w-44"}),Ur&&e.jsxs("button",{type:"button",onClick:Lc,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg flex items-center gap-1",children:[e.jsx(tt,{className:"w-4 h-4"}),"Limpiar"]})]}),!v&&Qs.length>0&&e.jsx("div",{className:"text-sm text-gray-500 flex items-center justify-between",children:e.jsxs("span",{children:["Mostrando ",e.jsx("strong",{children:Aa.length})," de ",e.jsx("strong",{children:jl.total||Qs.length})," empleados",re&&e.jsxs("span",{className:"ml-2 text-gray-400",children:[" Ordenado por ",re==="full_name"?"nombre":re==="job_title"?"cargo":re==="department"?"departamento":re==="employment_status"?"estado":"fecha ingreso"," (",ae==="asc"?"A-Z":"Z-A",")"]})]})})]})})}),v?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(me=>e.jsx(ge,{className:"animate-pulse",children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})})},me))}):D?e.jsx(ge,{children:e.jsxs(ve,{className:"py-12 text-center",children:[e.jsx(Yt,{className:"w-16 h-16 mx-auto text-red-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error al cargar empleados"}),e.jsx("p",{className:"text-gray-500",children:"No se pudo obtener la lista de empleados. Intenta de nuevo."})]})}):Aa.length>0?e.jsxs(e.Fragment,{children:[E==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Aa.map(me=>e.jsx(M_,{employee:me,onView:Nl},me.id))}):e.jsx(A_,{employees:Aa,onView:Nl,sortColumn:re,sortDirection:ae,onSort:Tn}),Vs>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Pgina ",T," de ",Vs]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{variant:"secondary",size:"sm",onClick:()=>S(me=>Math.max(1,me-1)),disabled:T===1,children:[e.jsx(dg,{className:"w-4 h-4"}),"Anterior"]}),e.jsxs(F,{variant:"secondary",size:"sm",onClick:()=>S(me=>Math.min(Vs,me+1)),disabled:T===Vs,children:["Siguiente",e.jsx(yl,{className:"w-4 h-4"})]})]})]})]}):e.jsx(ge,{children:e.jsxs(ve,{className:"py-12 text-center",children:[e.jsx(Yt,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron empleados"}),e.jsx("p",{className:"text-gray-500",children:c||f||h?"Intenta ajustar los filtros de bsqueda":"No hay empleados registrados en el sistema"})]})}),e.jsx(pt,{isOpen:w,onClose:()=>{k(!1),$(null)},title:"Detalle del Empleado",size:"lg",children:X?e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-48"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(me=>e.jsx("div",{className:"h-12 bg-gray-100 rounded"},me))})]}):oe&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-primary-700 font-semibold text-2xl",children:[oe.first_name?.[0],oe.last_name?.[0]]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:oe.full_name}),e.jsx("p",{className:"text-gray-500",children:oe.employee_number}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${bn[oe.employment_status]||bn.active}`,children:Er[oe.employment_status]||oe.employment_status}),oe.employment_type&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:C_[oe.employment_type]||oe.employment_type})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:i&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{variant:"secondary",size:"sm",onClick:kt,children:[e.jsx(Dr,{className:"w-4 h-4"}),"Generar Contrato"]}),e.jsxs(F,{variant:"secondary",size:"sm",onClick:Mn,children:[e.jsx(xg,{className:"w-4 h-4"}),"Editar"]})]})})]}),i&&e.jsx("div",{className:`p-4 rounded-lg ${oe.has_account?"bg-green-50 border border-green-200":"bg-amber-50 border border-amber-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:oe.has_account?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Cuenta de usuario activa"}),e.jsx("p",{className:"text-xs text-green-600",children:oe.user_email})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Zu,{className:"w-5 h-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Sin cuenta de usuario"}),e.jsx("p",{className:"text-xs text-amber-600",children:oe.personal_email?`Se creara con: ${oe.personal_email}`:"Agregue correo personal para crear cuenta"})]})]})}),!oe.has_account&&oe.personal_email&&oe.identification_number&&e.jsxs(F,{size:"sm",onClick:()=>Hc(oe.id),loading:je.isPending,children:[e.jsx(gg,{className:"w-4 h-4"}),"Crear Cuenta"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Ju,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Correo electronico"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.email||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(En,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Cargo"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.job_title||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(bc,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Departamento"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.department||"-"})]})]}),oe.supervisor&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Ba,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Supervisor"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.supervisor.name}),e.jsx("p",{className:"text-xs text-gray-500",children:oe.supervisor.job_title})]})]}),oe.vacation_balance_days!==null&&oe.vacation_balance_days!==void 0&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600",children:"Dias de vacaciones disponibles"}),e.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[oe.vacation_balance_days," dias"]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Informacion de Contrato"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Ee,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Tipo de Contrato"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.contract_template_name||w_[oe.contract_type]||oe.contract_type||"-"})]})]}),oe.hire_date&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fecha de Contratacion"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(oe.hire_date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]}),oe.contract_start_date&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Inicio del Contrato"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(oe.contract_start_date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]}),oe.contract_end_date&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fin del Contrato"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(oe.contract_end_date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]}),oe.contract_duration_value&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Duracion del Contrato"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[oe.contract_duration_value," ",S_[oe.contract_duration_unit]||oe.contract_duration_unit]})]})]}),oe.trial_period_days&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Periodo de Prueba"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[oe.trial_period_days," dias"]})]})]})]})]}),(oe.salary||oe.food_allowance||oe.transport_allowance)&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(hl,{className:"w-4 h-4"}),"Compensacion"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.salary&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hl,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600",children:"Salario Mensual"}),e.jsxs("p",{className:"text-sm font-medium text-green-900",children:["$",parseFloat(oe.salary).toLocaleString("es-CO")]})]})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1 italic ml-8",children:wa(oe.salary)})]}),oe.food_allowance>0&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hl,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600",children:"Auxilio Alimentacion"}),e.jsxs("p",{className:"text-sm font-medium text-green-900",children:["$",parseFloat(oe.food_allowance).toLocaleString("es-CO")]})]})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1 italic ml-8",children:wa(oe.food_allowance)})]}),oe.transport_allowance>0&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hl,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600",children:"Auxilio Transporte"}),e.jsxs("p",{className:"text-sm font-medium text-green-900",children:["$",parseFloat(oe.transport_allowance).toLocaleString("es-CO")]})]})]}),e.jsx("p",{className:"text-xs text-green-600 mt-1 italic ml-8",children:wa(oe.transport_allowance)})]})]}),e.jsxs("div",{className:"mt-3 p-3 bg-green-100 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("span",{className:"font-medium",children:"Compensacion Total: "}),"$",((parseFloat(oe.salary)||0)+(parseFloat(oe.food_allowance)||0)+(parseFloat(oe.transport_allowance)||0)).toLocaleString("es-CO")]}),e.jsx("p",{className:"text-xs text-green-700 mt-1 italic",children:wa((parseFloat(oe.salary)||0)+(parseFloat(oe.food_allowance)||0)+(parseFloat(oe.transport_allowance)||0))})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Xp,{className:"w-4 h-4"}),"Informacion Personal"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[oe.identification_number&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Xp,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Documento de Identidad"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[oe.identification_type||"CC",": ",oe.identification_number]})]})]}),oe.date_of_birth&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Fecha de Nacimiento"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(oe.date_of_birth).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]}),oe.place_of_birth&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(xc,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Lugar de Nacimiento"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.place_of_birth})]})]}),oe.nationality&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(xc,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Nacionalidad"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.nationality})]})]}),oe.phone&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Jp,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Telefono"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.phone})]})]}),oe.address&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg md:col-span-2",children:[e.jsx(xc,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Direccion"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:oe.address})]})]})]})]}),(oe.emergency_contact_name||oe.emergency_contact_phone)&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Contacto de Emergencia"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[oe.emergency_contact_name&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[e.jsx(Ba,{className:"w-5 h-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-orange-600",children:"Nombre"}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:oe.emergency_contact_name})]})]}),oe.emergency_contact_phone&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[e.jsx(Jp,{className:"w-5 h-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-orange-600",children:"Telefono"}),e.jsx("p",{className:"text-sm font-medium text-orange-900",children:oe.emergency_contact_phone})]})]})]})]}),(oe.is_supervisor||oe.is_hr_staff||oe.is_hr_manager)&&e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-200",children:[oe.is_supervisor&&e.jsx(qe,{variant:"info",children:"Supervisor"}),oe.is_hr_staff&&e.jsx(qe,{variant:"info",children:"Staff HR"}),oe.is_hr_manager&&e.jsx(qe,{variant:"success",children:"Gerente HR"})]})]})}),e.jsx(pt,{isOpen:O,onClose:_l,title:`Editar Empleado: ${ie?.full_name||""}`,size:"lg",children:X?e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4].map(me=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},me))}):oe&&e.jsx(E_,{employee:oe,employees:Aa,contractTemplates:Bs,onSubmit:Uc,onCancel:_l,loading:G.isPending,error:q})}),e.jsx(pt,{isOpen:P,onClose:()=>W(!1),title:"Seleccionar Template de Contrato",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Seleccione el template que desea usar para generar el contrato de ",e.jsx("strong",{children:oe?.full_name})]}),Va.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Ee,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No hay templates de contrato disponibles"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Cree un template con categora "contract" desde Admin  Templates'})]}):e.jsx("div",{className:"space-y-2",children:Va.map(me=>e.jsx("button",{onClick:()=>Fc(me.id),disabled:Le.isPending,className:"w-full p-4 text-left border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-primary-300 transition-colors disabled:opacity-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:me.name}),me.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:me.description})]}),e.jsx(Dr,{className:"w-5 h-5 text-gray-400"})]})},me.id))}),Le.isPending&&e.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary-600 border-t-transparent"}),e.jsx("span",{className:"text-sm text-primary-700",children:"Generando documento..."})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsx(F,{variant:"secondary",onClick:()=>W(!1),children:"Cancelar"})})]})}),e.jsx(pt,{isOpen:Q,onClose:()=>z(!1),title:"Agregar Nuevo Empleado",size:"lg",children:e.jsx(T_,{employees:Aa,contractTemplates:Bs,onSubmit:me=>he.mutate(me),onCancel:()=>z(!1),loading:he.isPending,error:fe})})]})}const Ng=[{value:"employment",label:"Certificacin Laboral Bsica"},{value:"salary",label:"Certificacin con Salario"},{value:"position",label:"Certificacin de Cargo"},{value:"full",label:"Certificacin Completa"},{value:"custom",label:"Certificacin Personalizada"}],R_=[{value:"bank",label:"Entidad Bancaria / Crdito"},{value:"visa",label:"Trmite de Visa"},{value:"rental",label:"Arrendamiento / Inmobiliaria"},{value:"government",label:"Trmite Gubernamental"},{value:"legal",label:"Proceso Legal"},{value:"other",label:"Otro"}],O_=[{value:"digital",label:"Digital (PDF)"},{value:"physical",label:"Fsica (Impresa)"},{value:"both",label:"Digital y Fsica"}],k_=[{value:"es",label:"Espaol"},{value:"en",label:"Ingls"}],z_=[{value:"",label:"Todos los estados"},{value:"pending",label:"Pendiente"},{value:"processing",label:"En Proceso"},{value:"completed",label:"Completado"},{value:"rejected",label:"Rechazado"},{value:"cancelled",label:"Cancelado"}],q_=[{value:"",label:"Todos los tipos"},...Ng],fu={employment:"Certificacin Laboral",salary:"Con Salario",position:"Certificacin de Cargo",full:"Certificacin Completa",custom:"Personalizada"},r0={bank:"Entidad Bancaria",visa:"Trmite de Visa",rental:"Arrendamiento",government:"Trmite Gubernamental",legal:"Proceso Legal",other:"Otro"},xu={employment:1,salary:2,position:1,full:3,custom:3};function L_({onSubmit:s,onCancel:r,loading:i}){const[c,u]=b.useState({certification_type:"employment",purpose:"bank",purpose_details:"",language:"es",delivery_method:"digital",addressee:"",include_salary:!1,include_position:!0,include_start_date:!0,include_department:!1,special_instructions:""}),f=h=>{h.preventDefault(),s(c)},m=c.certification_type;return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsx(Me,{label:"Tipo de Certificacin",options:Ng,value:c.certification_type,onChange:h=>u({...c,certification_type:h.target.value}),required:!0}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Tiempo estimado: ",xu[m]," da",xu[m]>1?"s":""," hbil",xu[m]>1?"es":""]})]})}),e.jsx(Me,{label:"Propsito",options:R_,value:c.purpose,onChange:h=>u({...c,purpose:h.target.value}),required:!0}),c.purpose==="other"&&e.jsx(de,{label:"Especifique el propsito",value:c.purpose_details,onChange:h=>u({...c,purpose_details:h.target.value}),placeholder:"Describa el propsito de la certificacin...",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Me,{label:"Idioma",options:k_,value:c.language,onChange:h=>u({...c,language:h.target.value})}),e.jsx(Me,{label:"Mtodo de Entrega",options:O_,value:c.delivery_method,onChange:h=>u({...c,delivery_method:h.target.value})})]}),e.jsx(de,{label:"Dirigido a (opcional)",value:c.addressee,onChange:h=>u({...c,addressee:h.target.value}),placeholder:"Ej: A quien corresponda, Banco XYZ, Embajada..."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Informacin a incluir"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:c.include_start_date,onChange:h=>u({...c,include_start_date:h.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm",children:"Fecha de ingreso"})]}),e.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:c.include_position,onChange:h=>u({...c,include_position:h.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm",children:"Cargo actual"})]}),e.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:c.include_department,onChange:h=>u({...c,include_department:h.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm",children:"Departamento"})]}),e.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:c.include_salary,onChange:h=>u({...c,include_salary:h.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm",children:"Informacin salarial"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instrucciones especiales (opcional)"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3,value:c.special_instructions,onChange:h=>u({...c,special_instructions:h.target.value}),placeholder:"Informacin adicional o requisitos especiales..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:r,children:"Cancelar"}),e.jsx(F,{type:"submit",loading:i,children:"Solicitar Certificacin"})]})]})}const U_={pending:e.jsx(Ot,{className:"w-4 h-4 text-yellow-500"}),processing:e.jsx(Ot,{className:"w-4 h-4 text-blue-500 animate-pulse"}),completed:e.jsx(Qe,{className:"w-4 h-4 text-green-500"}),rejected:e.jsx(Ge,{className:"w-4 h-4 text-red-500"}),cancelled:e.jsx(tt,{className:"w-4 h-4 text-gray-400"})};function H_(){const[s,r]=b.useState(!1),[i,c]=b.useState(!1),[u,f]=b.useState(!1),[m,h]=b.useState(null),[y,x]=b.useState(null),[p,j]=b.useState(null),[C,E]=b.useState(""),[N,T]=b.useState(""),[S,w]=b.useState(null),[k,O]=b.useState(null),[H,Q]=b.useState(null),z=Ye(),P=Fs(),{isHR:W,isAdmin:ie}=Ta(),{data:$,isLoading:q}=Ae({queryKey:["certifications",{status:C,type:N}],queryFn:()=>La.list({status:C||void 0,type:N||void 0})}),U=pe({mutationFn:v=>La.create(v),onSuccess:()=>{z.invalidateQueries(["certifications"]),r(!1)}}),fe=pe({mutationFn:v=>La.cancel(v),onSuccess:()=>{z.invalidateQueries(["certifications"])}}),te=pe({mutationFn:v=>La.generateDocument(v),onSuccess:()=>{z.invalidateQueries(["certifications"]),w(null)},onError:v=>{console.error("Error generating document:",v),w(null);const D=v.response?.data;D?.error_type==="missing_variables"?(h({message:D.error,missingData:D.missing_data,actions:D.action_required||[]}),f(!0)):alert(D?.error||"Error al generar documento")}}),re=pe({mutationFn:v=>La.delete(v),onSuccess:()=>{z.invalidateQueries(["certifications"]),x(null)},onError:v=>{console.error("Error deleting certification:",v),alert(v.response?.data?.error||"Error al eliminar certificacin")}}),M=pe({mutationFn:v=>La.signDocument(v),onSuccess:v=>{z.invalidateQueries(["certifications"]),Q(null);const D=v.data.document;D.all_signed?alert("Documento firmado y completado exitosamente"):alert(`Documento firmado. Firmas pendientes: ${D.pending_signatures.join(", ")}`)},onError:v=>{console.error("Error signing document:",v),Q(null);const D=v.response?.data;D?.action_required?.type==="configure_signature"?confirm("No tienes firma digital configurada. Deseas configurarla ahora?")&&P("/profile"):alert(D?.error||"Error al firmar documento")}}),ae=$?.data?.data||[],Z=v=>{j(v),c(!0)},ce=async v=>{w(v),te.mutate(v)},xe=async v=>{try{O(v.id);const D=await La.downloadDocument(v.id),ne=new Blob([D.data],{type:"application/pdf"}),X=URL.createObjectURL(ne),G=document.createElement("a");G.href=X,G.download=`${v.request_number}.pdf`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(X)}catch(D){console.error("Error downloading document:",D),alert("Error al descargar documento")}finally{O(null)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Certificaciones"}),e.jsx("p",{className:"text-gray-500",children:"Solicita certificaciones laborales para distintos trmites"})]}),e.jsxs(F,{onClick:()=>r(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nueva Solicitud"]})]}),e.jsx(ge,{children:e.jsx(ve,{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(fg,{className:"w-4 h-4 text-gray-400"}),e.jsx(Me,{options:z_,value:C,onChange:v=>E(v.target.value),className:"w-48"}),e.jsx(Me,{options:q_,value:N,onChange:v=>T(v.target.value),className:"w-56"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ge,{className:"bg-blue-50 border-blue-200",children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Certificacin Laboral"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Confirma tu vnculo laboral actual"})]})]})})}),e.jsx(ge,{className:"bg-green-50 border-green-200",children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900",children:"Con Informacin Salarial"}),e.jsx("p",{className:"text-sm text-green-700",children:"Incluye detalles de tu compensacin"})]})]})})}),e.jsx(ge,{className:"bg-purple-50 border-purple-200",children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ot,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900",children:"Entrega Rpida"}),e.jsx("p",{className:"text-sm text-purple-700",children:"1-3 das hbiles segn el tipo"})]})]})})})]}),e.jsxs(ge,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-[15%] px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Nmero"}),e.jsx("th",{className:"w-[18%] px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{className:"w-[17%] px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Propsito"}),e.jsx("th",{className:"w-[12%] px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"w-[10%] px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Das"}),e.jsx("th",{className:"w-[13%] px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"w-[15%] px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q?[...Array(3)].map((v,D)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-8 mx-auto"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mx-auto"})})]},D)):ae.length>0?ae.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"text-sm font-mono text-primary-600 bg-primary-50 px-2 py-0.5 rounded",children:v.request_number})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:fu[v.certification_type]||v.certification_type})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600 truncate block",children:r0[v.purpose]||v.purpose})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[U_[v.status],e.jsx(qe,{status:v.status})]})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("span",{className:"text-sm text-gray-600",children:v.estimated_days})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[e.jsx(it,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:new Date(v.created_at).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>Z(v),className:"p-1.5 text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded transition-colors",title:"Ver detalle",children:e.jsx(ds,{className:"w-4 h-4"})}),(W||ie)&&v.status==="pending"&&!v.document_uuid&&e.jsx("button",{onClick:()=>ce(v.id),disabled:S===v.id,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors disabled:opacity-50",title:"Generar documento",children:S===v.id?e.jsx(fn,{className:"w-4 h-4 animate-spin"}):e.jsx(qc,{className:"w-4 h-4"})}),v.document_uuid&&v.document_info?.can_download&&e.jsx("button",{onClick:()=>xe(v),disabled:k===v.id,className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded transition-colors disabled:opacity-50",title:"Descargar",children:k===v.id?e.jsx(fn,{className:"w-4 h-4 animate-spin"}):e.jsx(pn,{className:"w-4 h-4"})}),v.document_uuid&&v.document_info?.pending_signatures?.length>0&&(W||ie)&&e.jsx("button",{onClick:()=>{Q(v.id),M.mutate(v.id)},disabled:H===v.id,className:"p-1.5 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded transition-colors disabled:opacity-50",title:`Firmar documento (Pendiente: ${v.document_info?.pending_signatures?.join(", ")})`,children:H===v.id?e.jsx(fn,{className:"w-4 h-4 animate-spin"}):e.jsx(_a,{className:"w-4 h-4"})}),v.document_uuid&&!v.document_info?.can_download&&!(W||ie)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs text-amber-700 bg-amber-50 rounded",title:`Pendiente: ${v.document_info?.pending_signatures?.join(", ")}`,children:[e.jsx(Ot,{className:"w-3 h-3 mr-1"}),"Firma pendiente"]}),["pending","processing"].includes(v.status)&&!ie&&e.jsx("button",{onClick:()=>fe.mutate(v.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Cancelar",children:e.jsx(tt,{className:"w-4 h-4"})}),ie&&e.jsx("button",{onClick:()=>x(v),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Eliminar",children:e.jsx(Rt,{className:"w-4 h-4"})})]})})]},v.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-4 py-12 text-center",children:[e.jsx(Ee,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:"No tienes solicitudes de certificaciones"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Solicita una certificacin laboral para tus trmites"}),e.jsxs(F,{size:"sm",onClick:()=>r(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nueva Solicitud"]})]})})})]})}),ae.length>0&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50",children:e.jsxs("p",{className:"text-sm text-gray-500",children:[ae.length," solicitud",ae.length!==1?"es":""]})})]}),e.jsx(pt,{isOpen:s,onClose:()=>r(!1),title:"Nueva Solicitud de Certificacin",size:"lg",children:e.jsx(L_,{onSubmit:v=>U.mutate(v),onCancel:()=>r(!1),loading:U.isPending})}),e.jsx(pt,{isOpen:i,onClose:()=>c(!1),title:"Detalle de Certificacin",size:"md",children:p&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Nmero:"}),e.jsx("span",{className:"font-medium",children:p.request_number})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Estado:"}),e.jsx(qe,{status:p.status})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Tipo:"}),e.jsx("span",{children:fu[p.certification_type]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Propsito:"}),e.jsx("span",{children:r0[p.purpose]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Tiempo estimado:"}),e.jsxs("span",{children:[p.estimated_days," da",p.estimated_days>1?"s":""," hbil",p.estimated_days>1?"es":""]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Fecha solicitud:"}),e.jsx("span",{children:new Date(p.created_at).toLocaleDateString("es-ES")})]}),p.language&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Idioma:"}),e.jsx("span",{children:p.language==="es"?"Espaol":"Ingls"})]}),p.delivery_method&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Entrega:"}),e.jsxs("span",{children:[p.delivery_method==="digital"&&"Digital (PDF)",p.delivery_method==="physical"&&"Fsica (Impresa)",p.delivery_method==="both"&&"Digital y Fsica"]})]}),p.status==="completed"&&p.completed_at&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Fecha completado:"}),e.jsx("span",{className:"text-green-600 font-medium",children:new Date(p.completed_at).toLocaleDateString("es-ES")})]}),p.status==="rejected"&&p.rejection_reason&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-red-800 mb-1",children:"Motivo de rechazo:"}),e.jsx("p",{className:"text-red-700",children:p.rejection_reason})]}),p.processed_by&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Procesado por:"}),e.jsx("p",{className:"text-gray-600",children:p.processed_by.name})]}),p.status==="completed"&&p.document_uuid&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(F,{className:"w-full",variant:"primary",onClick:()=>xe(p),children:[e.jsx(Ee,{className:"w-4 h-4"}),"Descargar Certificacin"]})})]})}),e.jsx(pt,{isOpen:u,onClose:()=>f(!1),title:"No se puede generar el documento",size:"md",children:m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(bl,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Informacin faltante"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:m.message})]})]}),m.missingData?.by_source?.employee?.length>0&&e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-amber-800 mb-2",children:"Datos del empleado requeridos:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-amber-700 space-y-1",children:m.missingData.by_source.employee.map((v,D)=>e.jsx("li",{children:v.field_label||v.field},D))})]}),m.missingData?.by_source?.organization?.length>0&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-2",children:"Datos de la organizacin requeridos:"}),e.jsx("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:m.missingData.by_source.organization.map((v,D)=>e.jsx("li",{children:v.field_label||v.field},D))})]}),e.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t",children:[m.actions?.map((v,D)=>e.jsxs(F,{variant:D===0?"primary":"secondary",className:"w-full justify-center",onClick:()=>{f(!1),v.type==="edit_employee"&&v.employee_id?P(`/hr/employees?edit=${v.employee_id}`):v.type==="edit_organization"?P("/admin/organization"):v.type==="configure_mappings"&&P("/admin/variable-mappings")},children:[e.jsx(ug,{className:"w-4 h-4"}),v.label,v.employee_name&&` (${v.employee_name})`]},D)),e.jsx(F,{variant:"ghost",className:"w-full justify-center",onClick:()=>f(!1),children:"Cerrar"})]})]})}),e.jsx(pt,{isOpen:!!y,onClose:()=>x(null),title:"Eliminar Certificacin",size:"sm",children:y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(bl,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Eliminar esta certificacin?"}),e.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["Esta accin no se puede deshacer. Se eliminar permanentemente la solicitud"," ",e.jsx("strong",{children:y.request_number}),"."]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Tipo:"}),e.jsx("span",{className:"font-medium",children:fu[y.certification_type]})]}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{className:"text-gray-500",children:"Estado:"}),e.jsx(qe,{status:y.status})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(F,{variant:"ghost",className:"flex-1",onClick:()=>x(null),children:"Cancelar"}),e.jsxs(F,{variant:"danger",className:"flex-1",loading:re.isPending,onClick:()=>re.mutate(y.id),children:[e.jsx(Rt,{className:"w-4 h-4"}),"Eliminar"]})]})]})})]})}function rc({title:s,value:r,subtitle:i,icon:c,color:u="blue",trend:f}){const m={blue:"bg-blue-50 text-blue-600 border-blue-100",green:"bg-green-50 text-green-600 border-green-100",yellow:"bg-yellow-50 text-yellow-600 border-yellow-100",red:"bg-red-50 text-red-600 border-red-100",purple:"bg-purple-50 text-purple-600 border-purple-100",orange:"bg-orange-50 text-orange-600 border-orange-100"},h={blue:"text-blue-500",green:"text-green-500",yellow:"text-yellow-500",red:"text-red-500",purple:"text-purple-500",orange:"text-orange-500"};return e.jsx(ge,{className:`border ${m[u]}`,children:e.jsx(ve,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:s}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:r}),i&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i}),f&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(tm,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-xs text-green-600",children:f})]})]}),e.jsx("div",{className:`p-3 rounded-xl ${m[u]}`,children:e.jsx(c,{className:`w-6 h-6 ${h[u]}`})})]})})})}function F_({data:s}){if(!s||Object.keys(s).length===0)return e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay datos de departamentos"});const r=Object.values(s).reduce((u,f)=>u+f,0),i=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-cyan-500","bg-yellow-500","bg-red-500"],c={engineering:"Ingenieria",hr:"Recursos Humanos",finance:"Finanzas",sales:"Ventas",marketing:"Marketing",operations:"Operaciones",legal:"Legal"};return e.jsx("div",{className:"space-y-3",children:Object.entries(s).map(([u,f],m)=>{const h=r>0?f/r*100:0;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:c[u]||u}),e.jsxs("span",{className:"font-medium",children:[f," (",h.toFixed(0),"%)"]})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${i[m%i.length]} rounded-full transition-all`,style:{width:`${h}%`}})})]},u)})})}function B_(){const{data:s,isLoading:r,error:i}=Ae({queryKey:["hr-dashboard"],queryFn:async()=>(await rg.getStats()).data.data});if(r)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(fn,{className:"w-8 h-8 animate-spin text-primary-600"})});if(i)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-red-600",children:[e.jsx(Ge,{className:"w-12 h-12 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"Error al cargar el dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i.message})]});const{employees:c,vacation_requests:u,certification_requests:f}=s||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard HR"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Resumen de recursos humanos"})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Empleados"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(rc,{title:"Total Empleados",value:c?.total||0,icon:Yt,color:"blue"}),e.jsx(rc,{title:"Activos",value:c?.active||0,subtitle:c?.total?`${(c.active/c.total*100).toFixed(0)}% del total`:null,icon:pg,color:"green"}),e.jsx(rc,{title:"En Licencia",value:c?.on_leave||0,icon:Q4,color:"yellow"}),e.jsx(rc,{title:"Departamentos",value:Object.keys(c?.by_department||{}).length,icon:bc,color:"purple"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(k4,{className:"w-5 h-5 text-green-600"}),"Solicitudes de Vacaciones"]})}),e.jsx(ve,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"text-sm text-yellow-700",children:"Pendientes"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-800 mt-2",children:u?.pending||0})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Aprobadas (Ao)"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-800 mt-2",children:u?.approved_this_year||0})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sa,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-sm text-red-700",children:"Rechazadas (Ao)"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-800 mt-2",children:u?.rejected_this_year||0})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(it,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-700",children:"De vacaciones hoy"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-800 mt-2",children:u?.employees_on_vacation_today||0})]})]})})]}),e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(Na,{className:"w-5 h-5 text-purple-600"}),"Certificaciones Laborales"]})}),e.jsx(ve,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"text-sm text-yellow-700",children:"Pendientes"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-800 mt-2",children:f?.pending||0})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-700",children:"Procesando"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-800 mt-2",children:f?.processing||0})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Completadas (Ao)"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-800 mt-2",children:f?.completed_this_year||0})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tm,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm text-purple-700",children:"Tiempo promedio"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-800 mt-2",children:f?.average_processing_days?`${f.average_processing_days.toFixed(1)} dias`:"N/A"})]})]})})]})]}),e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(bc,{className:"w-5 h-5 text-gray-600"}),"Distribucion por Departamento"]})}),e.jsx(ve,{children:e.jsx(F_,{data:c?.by_department})})]})]})}const i0={draft:{label:"Borrador",color:"bg-gray-100 text-gray-700"},active:{label:"Activo",color:"bg-green-100 text-green-700"},archived:{label:"Archivado",color:"bg-yellow-100 text-yellow-700"}};function Q_({isOpen:s,onClose:r,onSuccess:i}){const c=Ye(),[u,f]=b.useState(""),[m,h]=b.useState(""),[y,x]=b.useState("hr"),[p,j]=b.useState("laboral"),[C,E]=b.useState("other"),[N,T]=b.useState(""),{data:S}=Ae({queryKey:["template-categories"],queryFn:()=>et.getCategories()}),w=pe({mutationFn:q=>et.create({template:q}),onSuccess:q=>{c.invalidateQueries(["templates"]),i(q.data.data),k()},onError:q=>{T(q.response?.data?.error||"Error al crear template")}}),k=()=>{f(""),h(""),x("hr"),j("laboral"),E("other"),T(""),r()},O=q=>{if(q.preventDefault(),!u.trim()){T("El nombre es requerido");return}w.mutate({name:u,description:m,module_type:y,main_category:p,category:C})},H=S?.data?.modules||[],Q=S?.data?.main_categories||[],z=S?.data?.category_to_module||{},P=S?.data?.grouped||{},W=P[p]||[],ie=q=>{x(q);const U=Object.entries(z).find(([fe,te])=>te===q);if(U){j(U[0]);const fe=P[U[0]]||[];fe.length>0&&E(fe[0].value)}},$=q=>{j(q),z[q]&&x(z[q]);const U=P[q]||[];U.length>0&&E(U[0].value)};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Nuevo Template"}),e.jsx("button",{onClick:k,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:O,className:"p-4 space-y-4",children:[N&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:N})]}),e.jsx(de,{label:"Nombre del Template",value:u,onChange:q=>f(q.target.value),placeholder:"Ej: Certificacion Laboral Estandar",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mdulo"}),e.jsx("select",{value:y,onChange:q=>ie(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:H.map(q=>e.jsx("option",{value:q.value,children:q.label},q.value))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Define a qu mdulo del sistema pertenece este template"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),e.jsx("select",{value:p,onChange:q=>$(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:Q.map(q=>e.jsx("option",{value:q.value,children:q.label},q.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategora"}),e.jsx("select",{value:C,onChange:q=>E(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:W.map(q=>e.jsx("option",{value:q.value,children:q.label},q.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcion (opcional)"}),e.jsx("textarea",{value:m,onChange:q=>h(q.target.value),placeholder:"Descripcion del proposito del template...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:k,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:w.isPending,children:[e.jsx(Je,{className:"w-4 h-4"}),"Crear Template"]})]})]})]})}):null}function V_({isOpen:s,onClose:r,template:i}){const c=Ye(),[u,f]=b.useState(""),[m,h]=b.useState(""),[y,x]=b.useState("hr"),[p,j]=b.useState("laboral"),[C,E]=b.useState(""),[N,T]=b.useState(""),{data:S}=Ae({queryKey:["template-categories"],queryFn:()=>et.getCategories()}),w=pe({mutationFn:$=>et.update(i?.id,{template:$}),onSuccess:()=>{c.invalidateQueries(["templates"]),r()},onError:$=>{T($.response?.data?.error||"Error al actualizar template")}}),k=S?.data?.modules||[],O=S?.data?.grouped||{},H=S?.data?.main_categories||[],Q=S?.data?.category_to_module||{},z=O[p]||[];b.useEffect(()=>{s&&i&&(f(i.name||""),h(i.description||""),x(i.module_type||"hr"),j(i.main_category||"laboral"),E(i.category||"other"),T(""))},[s,i?.id]);const P=$=>{x($);const q=Object.entries(Q).find(([U,fe])=>fe===$);if(q){j(q[0]);const U=O[q[0]]||[];U.length>0&&E(U[0].value)}},W=$=>{j($),Q[$]&&x(Q[$]);const q=O[$]||[];q.length>0&&!q.find(U=>U.value===C)&&E(q[0].value)},ie=$=>{if($.preventDefault(),!u.trim()){T("El nombre es requerido");return}w.mutate({name:u,description:m,module_type:y,main_category:p,category:C})};return!s||!i?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Editar Template"}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ie,className:"p-4 space-y-4",children:[N&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:N})]}),e.jsx(de,{label:"Nombre del Template",value:u,onChange:$=>f($.target.value),placeholder:"Ej: Certificacion Laboral Estandar",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mdulo"}),e.jsx("select",{value:y,onChange:$=>P($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:k.map($=>e.jsx("option",{value:$.value,children:$.label},$.value))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Define a qu mdulo del sistema pertenece este template"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),e.jsx("select",{value:p,onChange:$=>W($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:H.map($=>e.jsx("option",{value:$.value,children:$.label},$.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategora"}),e.jsx("select",{value:C,onChange:$=>E($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:z.map($=>e.jsx("option",{value:$.value,children:$.label},$.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcion (opcional)"}),e.jsx("textarea",{value:m,onChange:$=>h($.target.value),placeholder:"Descripcion del proposito del template...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:r,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:w.isPending,children:[e.jsx(Pu,{className:"w-4 h-4"}),"Guardar Cambios"]})]})]})]})})}function $_({isOpen:s,onClose:r,template:i}){const[c,u]=b.useState(null),[f,m]=b.useState(!1),[h,y]=b.useState("");b.useEffect(()=>(s&&i?.file_name&&x(),()=>{c&&URL.revokeObjectURL(c)}),[s,i?.id]);const x=async()=>{m(!0),y("");try{const C=await et.preview(i.id),E=new Blob([C.data],{type:"application/pdf"}),N=URL.createObjectURL(E);u(N)}catch(C){y(C.response?.data?.error||"Error al cargar la previsualizacin")}finally{m(!1)}},p=()=>{c&&(URL.revokeObjectURL(c),u(null)),y(""),r()},j=async()=>{try{const C=await et.download(i.id),E=new Blob([C.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),N=URL.createObjectURL(E),T=document.createElement("a");T.href=N,T.download=i.file_name||`${i.name}.docx`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(N)}catch{alert("Error al descargar el archivo")}};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-5xl h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Previsualizacin"}),e.jsx("p",{className:"text-sm text-gray-500",children:i?.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{variant:"secondary",size:"sm",onClick:j,children:[e.jsx(pn,{className:"w-4 h-4"}),"Descargar Word"]}),e.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden p-4",children:f?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Generando previsualizacin..."})]})}):h?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ge,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600",children:h}),e.jsx(F,{variant:"secondary",className:"mt-4",onClick:x,children:"Reintentar"})]})}):c?e.jsx("iframe",{src:c,className:"w-full h-full rounded-lg border",title:"Preview"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-500",children:"No hay archivo para previsualizar"})})})]})}):null}const G_={laboral:"bg-blue-100 text-blue-700",comercial:"bg-purple-100 text-purple-700",administrativo:"bg-amber-100 text-amber-700"},Y_={hr:"bg-emerald-100 text-emerald-700",legal:"bg-indigo-100 text-indigo-700",admin:"bg-slate-100 text-slate-700"};function X_(){const s=Ye(),[r,i]=b.useState(!1),[c,u]=b.useState(!1),[f,m]=b.useState(!1),[h,y]=b.useState(null),[x,p]=b.useState(null),[j,C]=b.useState(""),[E,N]=b.useState(""),[T,S]=b.useState(""),[w,k]=b.useState(""),{data:O,isLoading:H}=Ae({queryKey:["templates",{q:j,status:E,main_category:T,category:w}],queryFn:()=>et.list({q:j||void 0,status:E||void 0,main_category:T||void 0,category:w||void 0})}),{data:Q}=Ae({queryKey:["template-categories"],queryFn:()=>et.getCategories()}),z=pe({mutationFn:M=>et.activate(M),onSuccess:()=>s.invalidateQueries(["templates"])}),P=pe({mutationFn:M=>et.archive(M),onSuccess:()=>s.invalidateQueries(["templates"])}),W=pe({mutationFn:M=>et.duplicate(M),onSuccess:()=>s.invalidateQueries(["templates"])}),ie=pe({mutationFn:M=>et.delete(M),onSuccess:()=>s.invalidateQueries(["templates"])}),$=(M,ae)=>{switch(M){case"preview":p(ae),m(!0);break;case"edit":y(ae),u(!0);break;case"activate":z.mutate(ae.id);break;case"archive":P.mutate(ae.id);break;case"duplicate":W.mutate(ae.id);break;case"delete":confirm("Esta seguro de eliminar este template?")&&ie.mutate(ae.id);break}},q=O?.data?.data||[],U=Q?.data?.main_categories||[],fe=Q?.data?.grouped||{},te=T?fe[T]||[]:Q?.data?.subcategories||[],re=O?.data?.meta||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Templates de Documentos"}),e.jsx("p",{className:"text-gray-500",children:"Gestiona los templates para generacion de documentos"})]}),e.jsxs(F,{onClick:()=>i(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nuevo Template"]})]}),e.jsx(ge,{children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar templates...",value:j,onChange:M=>C(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),e.jsxs("select",{value:E,onChange:M=>N(M.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todos los estados"}),e.jsx("option",{value:"draft",children:"Borrador"}),e.jsx("option",{value:"active",children:"Activo"}),e.jsx("option",{value:"archived",children:"Archivado"})]}),e.jsxs("select",{value:T,onChange:M=>{S(M.target.value),k("")},className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todas las categoras"}),U.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))]}),e.jsxs("select",{value:w,onChange:M=>k(M.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todas las subcategoras"}),te.map(M=>e.jsx("option",{value:M.value,children:M.label},M.value))]})]})})}),e.jsx(ge,{children:e.jsx(ve,{className:"p-0",children:H?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):q.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Ee,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay templates"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primer template para comenzar a generar documentos"}),e.jsxs(F,{onClick:()=>i(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Crear Template"]})]}):e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-[30%] px-3 py-2.5 text-left text-xs font-medium text-gray-500 uppercase",children:"Template"}),e.jsx("th",{className:"w-[12%] px-3 py-2.5 text-left text-xs font-medium text-gray-500 uppercase",children:"Mdulo"}),e.jsx("th",{className:"w-[15%] px-3 py-2.5 text-left text-xs font-medium text-gray-500 uppercase",children:"Categora"}),e.jsx("th",{className:"w-[6%] px-3 py-2.5 text-center text-xs font-medium text-gray-500 uppercase",children:"Vars"}),e.jsx("th",{className:"w-[6%] px-3 py-2.5 text-center text-xs font-medium text-gray-500 uppercase",children:"Firm."}),e.jsx("th",{className:"w-[10%] px-3 py-2.5 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),e.jsx("th",{className:"w-[21%] px-3 py-2.5 text-right text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:q.map(M=>{const ae=i0[M.status]||i0.draft;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("div",{className:"p-1.5 bg-primary-50 rounded flex-shrink-0",children:M.file_name?e.jsx(Ee,{className:"w-4 h-4 text-primary-600"}):e.jsx(Ee,{className:"w-4 h-4 text-gray-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",title:M.name,children:M.name}),M.file_name&&e.jsx("p",{className:"text-xs text-gray-400 truncate",title:M.file_name,children:M.file_name})]})]})}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("span",{className:`inline-flex px-1.5 py-0.5 rounded text-xs font-medium ${Y_[M.module_type]||"bg-gray-100 text-gray-700"}`,children:M.module_type_label})}),e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:`inline-flex px-1.5 py-0.5 rounded text-xs font-medium w-fit ${G_[M.main_category]||"bg-gray-100 text-gray-700"}`,children:M.main_category_label}),e.jsx("span",{className:"text-xs text-gray-500",children:M.category_label})]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-xs font-medium text-gray-700",children:M.variables?.length||0})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 text-xs font-medium text-gray-700",children:M.signatories_count||0})}),e.jsx("td",{className:"px-3 py-3",children:e.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${ae.color}`,children:ae.label})}),e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-0.5",children:[M.file_name&&e.jsx("button",{onClick:()=>$("preview",M),title:"Previsualizar",className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$("edit",M),title:"Editar",className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:e.jsx(Pu,{className:"w-4 h-4"})}),e.jsx(fa,{to:`/admin/templates/${M.id}`,children:e.jsx("button",{title:"Configurar",className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:e.jsx(vn,{className:"w-4 h-4"})})}),M.status==="draft"&&M.file_name&&e.jsx("button",{onClick:()=>$("activate",M),title:"Activar",className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded",children:e.jsx(Qe,{className:"w-4 h-4"})}),M.status==="active"&&e.jsx("button",{onClick:()=>$("archive",M),title:"Archivar",className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:e.jsx(V1,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$("duplicate",M),title:"Duplicar",className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded",children:e.jsx(N2,{className:"w-4 h-4"})}),M.status==="draft"&&e.jsx("button",{onClick:()=>$("delete",M),title:"Eliminar",className:"p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 rounded",children:e.jsx(Rt,{className:"w-4 h-4"})})]})})]},M.id)})})]})})}),re.total>0&&e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Mostrando ",q.length," de ",re.total," templates"]}),e.jsx(Q_,{isOpen:r,onClose:()=>i(!1),onSuccess:M=>{window.location.href=`/admin/templates/${M.id}`}}),e.jsx(V_,{isOpen:c,onClose:()=>{u(!1),y(null)},template:h}),e.jsx($_,{isOpen:f,onClose:()=>{m(!1),p(null)},template:x})]})}const Tr=595,Ua=842;function K_({templateId:s,hasFile:r,signatories:i,selectedId:c,onSelect:u,onUpdatePosition:f,scale:m=.6,numPages:h,onPagesChange:y}){const x=b.useRef(null),p=b.useRef(null),[j,C]=b.useState(null),[E,N]=b.useState({x:0,y:0}),[T,S]=b.useState(null),[w,k]=b.useState(!1),[O,H]=b.useState(null),[Q,z]=b.useState(1),P=Z=>{y&&y(Z)};b.useEffect(()=>{if(!s||!r){S(null);return}let Z=!0;return k(!0),H(null),et.preview(s).then(ce=>{if(!Z)return;const xe=new Blob([ce.data],{type:"application/pdf"}),v=URL.createObjectURL(xe);S(v),k(!1)}).catch(ce=>{Z&&(console.error("Error loading PDF preview:",ce),H(ce.response?.data?.error||"Error al cargar el preview"),k(!1))}),()=>{Z=!1,T&&URL.revokeObjectURL(T)}},[s,r]);const W=b.useCallback(Z=>{const ce=Z.target.scrollTop,xe=Ua*m,v=Math.floor(ce/xe)+1;z(Math.min(v,h))},[m,h]),ie=(Z,ce)=>{Z.preventDefault(),Z.stopPropagation();const xe=x.current.getBoundingClientRect(),v=p.current?.scrollTop||0,D=(ce.x_position||350)*m,ne=(ce.y_position||700)*m-v;N({x:Z.clientX-xe.left-D,y:Z.clientY-xe.top-ne}),C(ce.id),u(ce.id)},$=b.useCallback(Z=>{if(!j||!x.current)return;const ce=x.current.getBoundingClientRect(),xe=p.current?.scrollTop||0,v=i.find(G=>G.id===j);if(!v)return;const D=Ua*h,ne=Math.max(0,Math.min(Tr-(v.width||200),(Z.clientX-ce.left-E.x)/m)),X=Math.max(0,Math.min(D-(v.height||80),(Z.clientY-ce.top+xe-E.y)/m));f(j,Math.round(ne),Math.round(X))},[j,E,m,i,f,h]),q=()=>{C(null)},U=Z=>{const ce={employee:{bg:"rgba(59, 130, 246, 0.3)",border:"#3b82f6",text:"#1d4ed8"},supervisor:{bg:"rgba(147, 51, 234, 0.3)",border:"#9333ea",text:"#7c3aed"},hr:{bg:"rgba(34, 197, 94, 0.3)",border:"#22c55e",text:"#16a34a"},hr_manager:{bg:"rgba(16, 185, 129, 0.3)",border:"#10b981",text:"#059669"},legal:{bg:"rgba(249, 115, 22, 0.3)",border:"#f97316",text:"#ea580c"},general_manager:{bg:"rgba(239, 68, 68, 0.3)",border:"#ef4444",text:"#dc2626"},legal_representative:{bg:"rgba(245, 158, 11, 0.3)",border:"#f59e0b",text:"#d97706"},accountant:{bg:"rgba(6, 182, 212, 0.3)",border:"#06b6d4",text:"#0891b2"},admin:{bg:"rgba(107, 114, 128, 0.3)",border:"#6b7280",text:"#4b5563"}};return ce[Z]||ce.admin},fe=Z=>Math.floor(Z/Ua)+1,te=Tr*m,re=Ua*m,M=re*h,ae=Z=>{if(p.current){const ce=re*(Z-1);p.current.scrollTo({top:ce,behavior:"smooth"})}};return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Pginas:"}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(Z=>e.jsx("button",{onClick:()=>{P(Z),Q>Z&&z(Z)},className:`w-5 h-5 text-[10px] rounded ${h===Z?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Z},Z))})]}),h>1&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Pgina ",Q," de ",h]}),e.jsx("div",{className:"flex gap-1",children:[...Array(h)].map((Z,ce)=>e.jsx("button",{onClick:()=>ae(ce+1),className:`w-5 h-5 text-[10px] rounded ${Q===ce+1?"bg-primary-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:ce+1},ce))})]})]}),e.jsx("div",{ref:p,className:"mx-auto border-2 border-gray-300 rounded-lg shadow-lg overflow-y-auto overflow-x-hidden bg-gray-200",style:{width:te+16,height:Math.min(M,550)},onScroll:W,children:e.jsxs("div",{ref:x,className:"relative bg-gray-100",style:{width:te,height:re*h},onMouseMove:$,onMouseUp:q,onMouseLeave:q,children:[w?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Cargando documento..."})]})}):O?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center text-red-500 p-4",children:[e.jsx(Ge,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:O})]})}):T?e.jsx("iframe",{src:`${T}#toolbar=0&navpanes=0&scrollbar=0`,className:"absolute inset-0 w-full h-full pointer-events-none border-0",style:{background:"white"},title:"PDF Preview"}):r?null:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center text-gray-400 p-4",children:[e.jsx(Ee,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Sube un archivo Word para ver el preview"})]})}),h>1&&[...Array(h-1)].map((Z,ce)=>e.jsx("div",{className:"absolute left-0 right-0 border-t-2 border-dashed border-gray-400 pointer-events-none",style:{top:re*(ce+1)},children:e.jsxs("span",{className:"absolute left-2 -top-3 bg-gray-200 px-2 text-xs text-gray-500 rounded",children:["Pgina ",ce+2]})},ce)),e.jsxs("div",{className:"absolute inset-0",style:{pointerEvents:"none"},children:[i.map(Z=>{const ce=U(Z.role||Z.signatory_type_code),xe=c===Z.id,v=j===Z.id,D=fe(Z.y_position||700);return e.jsxs("div",{className:"absolute cursor-move transition-all duration-100",style:{left:(Z.x_position||350)*m,top:(Z.y_position||700)*m,width:(Z.width||200)*m,height:(Z.height||80)*m,backgroundColor:ce.bg,border:`2px dashed ${ce.border}`,borderRadius:4,boxShadow:xe?`0 0 0 3px ${ce.border}40, 0 4px 12px rgba(0,0,0,0.15)`:v?"0 8px 20px rgba(0,0,0,0.2)":"0 2px 4px rgba(0,0,0,0.1)",zIndex:v?100:xe?50:10,pointerEvents:"auto",opacity:v?.9:1},onMouseDown:ne=>ie(ne,Z),children:[e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-1",children:[e.jsx(_a,{style:{width:14*m,height:14*m,color:ce.text,opacity:.6}}),e.jsx("span",{className:"font-medium text-center truncate w-full px-1",style:{fontSize:Math.max(9,11*m),color:ce.text},children:Z.label||Z.role_label}),Z.required&&e.jsx("span",{style:{fontSize:Math.max(7,9*m),color:"#ef4444",fontWeight:"bold"},children:"*Req"})]}),h>1&&e.jsx("div",{className:"absolute -left-1 -top-1 w-4 h-4 rounded-full flex items-center justify-center text-white text-[8px] font-bold",style:{backgroundColor:ce.border},children:D}),xe&&e.jsx("div",{className:"absolute -top-2 -right-2 rounded-full p-1",style:{backgroundColor:ce.border},children:e.jsx(i4,{className:"w-3 h-3 text-white"})}),xe&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full bg-white border-2",style:{borderColor:ce.border}})]},Z.id)}),i.length===0&&r&&!w&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center shadow-lg",children:[e.jsx(_a,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Agrega firmantes para posicionarlos aqu"})]})})]})]})}),i.length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2 justify-center",children:i.map(Z=>{const ce=U(Z.role||Z.signatory_type_code),xe=fe(Z.y_position||700);return e.jsxs("button",{className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all ${c===Z.id?"ring-2 ring-offset-1":"hover:opacity-80"}`,style:{backgroundColor:ce.bg,color:ce.text,ringColor:ce.border},onClick:()=>{if(u(Z.id),p.current){const v=(Z.y_position||700)*m-100;p.current.scrollTo({top:v,behavior:"smooth"})}},children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:ce.border}}),Z.label||Z.role_label,h>1&&e.jsxs("span",{className:"ml-1 opacity-70",children:["(p.",xe,")"]})]},Z.id)})}),e.jsxs("p",{className:"text-xs text-gray-400 text-center mt-2",children:["Coordenadas PDF: ",Tr," x ",Ua," pts por pgina | Usa scroll para documentos largos"]})]})}function Z_({isOpen:s,onClose:r,templateId:i,signatory:c,numPages:u=1,onSuccess:f}){const m=Ye(),[h,y]=b.useState(c?.label||""),[x,p]=b.useState(c?.required??!0),[j,C]=b.useState(c?.x_position||350),[E,N]=b.useState(1),[T,S]=b.useState(700),[w,k]=b.useState(c?.width||200),[O,H]=b.useState(c?.height||80),[Q,z]=b.useState("");b.useEffect(()=>{if(c&&s){y(c.label||""),p(c.required??!0),C(c.x_position||350),k(c.width||200),H(c.height||80);const q=c.y_position||700,U=Math.floor(q/Ua)+1,fe=q%Ua;N(Math.min(U,u)),S(fe)}},[c,s,u]);const P=(E-1)*Ua+T,W=pe({mutationFn:q=>et.updateSignatory(i,c?.id,q),onSuccess:()=>{m.invalidateQueries(["template",i]),f?.(),r()},onError:q=>{z(q.response?.data?.error||"Error al actualizar firmante")}}),ie=q=>{q.preventDefault(),W.mutate({label:h,required:x,x_position:j,y_position:P,width:w,height:O})},$=[{label:"Arriba Izq",x:50,y:100},{label:"Arriba Der",x:350,y:100},{label:"Centro",x:200,y:400},{label:"Abajo Izq",x:50,y:700},{label:"Abajo Der",x:350,y:700}];return!s||!c?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Editar Firmante"}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ie,className:"p-4 space-y-4",children:[Q&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:Q})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),e.jsx("p",{className:"px-3 py-2 bg-gray-50 rounded-lg text-sm",children:c.role_label})]}),e.jsx(de,{label:"Etiqueta",value:h,onChange:q=>y(q.target.value),placeholder:"Ej: Firma del Empleado"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-required",checked:x,onChange:q=>p(q.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"edit-required",className:"text-sm text-gray-700",children:"Firma requerida"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Ubicacin de la firma"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Pgina"}),e.jsx("div",{className:"flex gap-1 flex-wrap",children:[...Array(u)].map((q,U)=>e.jsx("button",{type:"button",onClick:()=>N(U+1),className:`w-8 h-8 text-sm rounded-lg font-medium transition-colors ${E===U+1?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:U+1},U))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Posicin rpida"}),e.jsx("div",{className:"flex gap-1 flex-wrap",children:$.map(q=>e.jsx("button",{type:"button",onClick:()=>{C(q.x),S(q.y)},className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200",children:q.label},q.label))})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X"}),e.jsx("input",{type:"number",value:j,onChange:q=>{const U=parseInt(q.target.value,10);isNaN(U)||C(Math.max(0,Math.min(Tr-w,U)))},className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm",min:"0",max:Tr-w})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y en pg"}),e.jsx("input",{type:"number",value:T,onChange:q=>{const U=parseInt(q.target.value,10);isNaN(U)||S(Math.max(0,Math.min(Ua-O,U)))},className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm",min:"0",max:Ua-O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ancho"}),e.jsx("input",{type:"number",value:w,onChange:q=>{const U=parseInt(q.target.value,10);isNaN(U)||k(Math.max(20,Math.min(400,U)))},className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm",min:"20",max:"400",step:"10"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Alto"}),e.jsx("input",{type:"number",value:O,onChange:q=>{const U=parseInt(q.target.value,10);isNaN(U)||H(Math.max(15,Math.min(200,U)))},className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg text-sm",min:"15",max:"200",step:"5"})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Tamao rpido"}),e.jsx("div",{className:"flex gap-1 flex-wrap",children:[{label:"XS",w:80,h:30},{label:"S",w:120,h:45},{label:"M",w:160,h:60},{label:"L",w:200,h:80},{label:"XL",w:280,h:100}].map(q=>e.jsxs("button",{type:"button",onClick:()=>{k(q.w),H(q.h)},className:`px-2 py-1 text-xs rounded transition-colors ${w===q.w&&O===q.h?"bg-primary-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[q.label," (",q.w,"",q.h,")"]},q.label))})]}),e.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded-lg text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Resumen:"})," Pgina ",E,", posicin (",j,", ",T,")  Y absoluta: ",P,", tamao ",w,"",O]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:r,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:W.isPending,children:[e.jsx(Fa,{className:"w-4 h-4"}),"Guardar"]})]})]})]})})}function J_({isOpen:s,onClose:r,templateId:i,onSuccess:c}){const u=Ye(),[f,m]=b.useState(""),[h,y]=b.useState(""),[x,p]=b.useState(!0),[j,C]=b.useState(350),[E,N]=b.useState(700),[T,S]=b.useState(200),[w,k]=b.useState(80),[O,H]=b.useState(""),{data:Q,isLoading:z}=Ae({queryKey:["signatory-types",{active:"true"}],queryFn:()=>ml.list({active:"true"}),enabled:s}),P=Q?.data?.data||[],W=pe({mutationFn:q=>et.createSignatory(i,q),onSuccess:()=>{u.invalidateQueries(["template",i]),u.invalidateQueries(["template-signatories",i]),c(),ie()},onError:q=>{H(q.response?.data?.error||"Error al agregar firmante")}}),ie=()=>{m(""),y(""),p(!0),C(350),N(700),S(200),k(80),H(""),r()},$=q=>{if(q.preventDefault(),!f){H("Seleccione un tipo de firmante");return}const U=P.find(fe=>fe.code===f);W.mutate({signatory_type_code:f,label:h||U?.name||"Firma",required:x,x_position:j,y_position:E,width:T,height:w})};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Agregar Firmante"}),e.jsx("button",{onClick:ie,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:$,className:"p-4 space-y-4",children:[O&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:O})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Firmante"}),z?e.jsx("div",{className:"py-2 text-gray-500 text-sm",children:"Cargando tipos..."}):P.length===0?e.jsx("div",{className:"py-2 text-amber-600 text-sm",children:"No hay tipos de firmante. Configure tipos en Admin > Firmantes."}):e.jsxs("select",{value:f,onChange:q=>{m(q.target.value);const U=P.find(fe=>fe.code===q.target.value);!h&&U&&y(U.name)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Seleccionar tipo..."}),P.map(q=>e.jsx("option",{value:q.code,children:q.name},q.code))]})]}),e.jsx(de,{label:"Etiqueta",value:h,onChange:q=>y(q.target.value),placeholder:"Ej: Firma del Empleado"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"required",checked:x,onChange:q=>p(q.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"required",className:"text-sm text-gray-700",children:"Firma requerida"})]}),e.jsxs("div",{className:"border-t pt-4 mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Posicin del campo de firma (en puntos PDF)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X (horizontal)"}),e.jsx("input",{type:"number",value:j,onChange:q=>C(Number(q.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",max:"600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y (desde arriba)"}),e.jsx("input",{type:"number",value:E,onChange:q=>N(Number(q.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",max:"850"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ancho"}),e.jsx("input",{type:"number",value:T,onChange:q=>S(Number(q.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"50",max:"300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Alto"}),e.jsx("input",{type:"number",value:w,onChange:q=>k(Number(q.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"30",max:"150"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"PDF A4: 595 x 842 puntos. Valores tpicos: X=350, Y=700 (parte inferior derecha)"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:ie,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:W.isPending,disabled:!f||P.length===0,children:[e.jsx(Je,{className:"w-4 h-4"}),"Agregar"]})]})]})]})}):null}function P_(){const{id:s}=Rb(),r=Fs(),i=Ye(),c=b.useRef(null),[u,f]=b.useState(!1),[m,h]=b.useState(null),[y,x]=b.useState({}),[p,j]=b.useState(!1),[C,E]=b.useState(null),[N,T]=b.useState([]),[S,w]=b.useState(!1),[k,O]=b.useState(1),{data:H,isLoading:Q}=Ae({queryKey:["template",s],queryFn:()=>et.get(s),onSuccess:v=>{v?.data?.data?.signatories&&(T(v.data.data.signatories),w(!1))}}),z=H?.data?.data;b.useEffect(()=>{z?.signatories&&(T(z.signatories),w(!1))},[z?.signatories]);const P=b.useCallback((v,D,ne)=>{T(X=>X.map(G=>G.id===v?{...G,x_position:D,y_position:ne}:G)),w(!0)},[]),W=pe({mutationFn:async()=>{const v=N.map(D=>({id:D.id,x_position:D.x_position,y_position:D.y_position,width:D.width,height:D.height}));for(const D of v)await et.updateSignatory(s,D.id,D)},onSuccess:()=>{i.invalidateQueries(["template",s]),w(!1)}}),{data:ie}=Ae({queryKey:["variable-mappings-grouped"],queryFn:()=>Dt.grouped()}),$=pe({mutationFn:v=>et.upload(s,v),onSuccess:()=>{i.invalidateQueries(["template",s])}}),q=pe({mutationFn:v=>et.update(s,{template:v}),onSuccess:()=>{i.invalidateQueries(["template",s])}}),U=pe({mutationFn:()=>et.activate(s),onSuccess:()=>{i.invalidateQueries(["template",s])}}),fe=pe({mutationFn:v=>et.deleteSignatory(s,v),onSuccess:()=>{i.invalidateQueries(["template",s])}}),te=pe({mutationFn:()=>et.reassignMappings(s),onSuccess:()=>{i.invalidateQueries(["template",s]),x({})}}),re=v=>{const D=v.target.files?.[0];if(D){if(!D.name.endsWith(".docx")){alert("Solo se permiten archivos Word (.docx)");return}$.mutate(D)}},M=async()=>{j(!0);try{await q.mutateAsync({variable_mappings:y})}finally{j(!1)}};if(Q)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(!z)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500",children:"Template no encontrado"}),e.jsx(F,{variant:"secondary",onClick:()=>r("/admin/templates"),className:"mt-4",children:"Volver a Templates"})]});const ae={...z.variable_mappings,...y},Z=z.available_mappings||{},ce=ie?.data?.data||{},xe={employee:"Empleado",organization:"Organizacion",system:"Sistema",request:"Solicitud",custom:"Personalizado"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(F,{variant:"ghost",onClick:()=>r("/admin/templates"),children:e.jsx(Y1,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:z.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(qe,{variant:"secondary",children:z.category_label}),e.jsx(qe,{status:z.status==="active"?"approved":z.status==="draft"?"pending":"rejected",children:z.status==="active"?"Activo":z.status==="draft"?"Borrador":"Archivado"})]})]}),z.status==="draft"&&z.file_name&&e.jsxs(F,{onClick:()=>U.mutate(),loading:U.isPending,children:[e.jsx(Qe,{className:"w-4 h-4"}),"Activar Template"]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),"Archivo del Template"]})}),e.jsxs(ve,{children:[z.file_name?e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"w-8 h-8 text-primary-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:z.file_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(z.file_size/1024).toFixed(1)," KB"]})]})]}),e.jsxs(F,{variant:"secondary",onClick:()=>c.current?.click(),loading:$.isPending,children:[e.jsx(Ip,{className:"w-4 h-4"}),"Reemplazar"]})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-primary-500 transition-colors",onClick:()=>c.current?.click(),children:[e.jsx(Ip,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Haz clic para subir un archivo Word (.docx)"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["El archivo debe contener variables en formato ","{{Variable}}"]})]}),e.jsx("input",{ref:c,type:"file",accept:".docx",onChange:re,className:"hidden"})]})]}),z.variables?.length>0&&e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"w-5 h-5"}),"Variables Detectadas (",z.variables.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{size:"sm",variant:"secondary",onClick:()=>te.mutate(),loading:te.isPending,title:"Reasignar automaticamente desde variables del sistema",children:[e.jsx(yn,{className:"w-4 h-4"}),"Auto-asignar"]}),e.jsxs(F,{size:"sm",onClick:M,loading:p,disabled:Object.keys(y).length===0,children:[e.jsx(Fa,{className:"w-4 h-4"}),"Guardar Mapeo"]})]})]})}),e.jsx(ve,{children:e.jsx("div",{className:"space-y-3",children:z.variables.map(v=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("code",{className:"px-2 py-1 bg-white border rounded text-sm flex-shrink-0",children:`{{${v}}}`}),e.jsx("span",{className:"text-gray-400",children:"="}),e.jsxs("select",{value:ae[v]||"",onChange:D=>x({...y,[v]:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"-- Seleccionar mapeo --"}),Object.keys(ce).length>0?Object.entries(ce).map(([D,ne])=>e.jsx("optgroup",{label:xe[D]||D,children:ne.map((X,G)=>e.jsx("option",{value:X.key,children:X.name},X.id||`${D}-${G}`))},D)):e.jsxs(e.Fragment,{children:[e.jsx("optgroup",{label:"Empleado",children:Object.entries(Z).filter(([,D])=>D.startsWith("employee.")).map(([D,ne])=>e.jsx("option",{value:ne,children:D},ne))}),e.jsx("optgroup",{label:"Organizacion",children:Object.entries(Z).filter(([,D])=>D.startsWith("organization.")).map(([D,ne])=>e.jsx("option",{value:ne,children:D},ne))}),e.jsx("optgroup",{label:"Sistema",children:Object.entries(Z).filter(([,D])=>D.startsWith("system.")).map(([D,ne])=>e.jsx("option",{value:ne,children:D},ne))}),e.jsx("optgroup",{label:"Solicitud",children:Object.entries(Z).filter(([,D])=>D.startsWith("request.")).map(([D,ne])=>e.jsx("option",{value:ne,children:D},ne))})]})]})]},v))})})]}),e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"w-5 h-5"}),"Vista Previa de Firmas"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&e.jsxs(F,{size:"sm",onClick:()=>W.mutate(),loading:W.isPending,children:[e.jsx(Fa,{className:"w-4 h-4"}),"Guardar Posiciones"]}),e.jsxs(F,{size:"sm",variant:"secondary",onClick:()=>f(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Agregar Firmante"]})]})]})}),e.jsxs(ve,{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Arrastra los campos de firma para posicionarlos. Haz clic para seleccionar y editar."}),e.jsx(K_,{templateId:s,hasFile:!!z.file_name,signatories:N,selectedId:C,onSelect:v=>E(v),onUpdatePosition:P,scale:.65,numPages:k,onPagesChange:O}),C&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border",children:(()=>{const v=N.find(D=>D.id===C);return v?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:v.label||v.role_label}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Posicin: X=",v.x_position||350,", Y=",v.y_position||700]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Tamao: ",v.width||200," x ",v.height||80," px"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{size:"sm",variant:"secondary",onClick:()=>h(v),children:[e.jsx(gn,{className:"w-4 h-4"}),"Editar"]}),e.jsx(F,{size:"sm",variant:"danger",onClick:()=>{confirm("Eliminar este firmante?")&&(fe.mutate(v.id),E(null))},children:e.jsx(Rt,{className:"w-4 h-4"})})]})]}):null})()})]})]})]}),e.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Firmantes (",N.length,")"]}),e.jsx(F,{size:"sm",onClick:()=>f(!0),children:e.jsx(Je,{className:"w-4 h-4"})})]})}),e.jsx(ve,{children:N.length>0?e.jsx("div",{className:"space-y-2",children:N.map((v,D)=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${C===v.id?"bg-primary-50 ring-2 ring-primary-500":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>E(v.id),children:[e.jsx("span",{className:"text-sm text-gray-400",children:D+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:v.label}),e.jsx("p",{className:"text-xs text-gray-500",children:v.role_label}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["(",v.x_position||350,", ",v.y_position||700,")"]})]}),v.required&&e.jsx(qe,{variant:"secondary",className:"text-xs",children:"Req"}),e.jsx("button",{onClick:ne=>{ne.stopPropagation(),h(v)},className:"p-1 hover:bg-blue-100 rounded text-blue-500",title:"Editar",children:e.jsx(gn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ne=>{ne.stopPropagation(),confirm("Eliminar este firmante?")&&(fe.mutate(v.id),C===v.id&&E(null))},className:"p-1 hover:bg-red-100 rounded text-red-500",children:e.jsx(Rt,{className:"w-4 h-4"})})]},v.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Yt,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No hay firmantes configurados"}),e.jsxs(F,{size:"sm",variant:"secondary",className:"mt-2",onClick:()=>f(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Agregar Firmante"]})]})})]}),e.jsxs(ge,{children:[e.jsx(Et,{children:e.jsxs(Tt,{className:"flex items-center gap-2",children:[e.jsx(vn,{className:"w-5 h-5"}),"Informacion"]})}),e.jsxs(ve,{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Version"}),e.jsx("span",{className:"font-medium",children:z.version})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Creado"}),e.jsx("span",{className:"font-medium",children:new Date(z.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Actualizado"}),e.jsx("span",{className:"font-medium",children:new Date(z.updated_at).toLocaleDateString()})]})]})]})]})]}),e.jsx(J_,{isOpen:u,onClose:()=>f(!1),templateId:s,onSuccess:()=>{}}),e.jsx(Z_,{isOpen:!!m,onClose:()=>h(null),templateId:s,signatory:m,numPages:k,onSuccess:()=>{}})]})}const Us={employee:"Empleado",organization:"Organizacin",request:"Solicitud",system:"Sistema",custom:"Personalizado"},W_=["employee","organization","request","system","custom"],lm=[{value:"string",label:"Texto"},{value:"date",label:"Fecha"},{value:"number",label:"Nmero"},{value:"boolean",label:"Si/No"},{value:"email",label:"Email"}],c0=[{value:"",label:"Sin formato",example:"1234567",description:"Valor sin formato"},{value:"currency_cop",label:"Moneda (COP)",example:"$1.234.567",description:"Pesos colombianos"},{value:"currency_usd",label:"Moneda (USD)",example:"$1,234.56",description:"Dlares americanos"},{value:"accounting",label:"Contabilidad",example:"$ 1.234.567,00",description:"Formato contable con decimales"},{value:"number_thousands",label:"Nmero con miles",example:"1.234.567",description:"Separador de miles"},{value:"number_decimals",label:"Nmero con decimales",example:"1.234,56",description:"2 decimales"},{value:"percentage",label:"Porcentaje",example:"85,5%",description:"Valor porcentual"},{value:"date_short",label:"Fecha corta",example:"15/01/2024",description:"DD/MM/YYYY"},{value:"date_long",label:"Fecha larga",example:"15 de enero de 2024",description:"Formato completo"},{value:"date_text",label:"Fecha en texto",example:"Quince (15) de Enero de 2024",description:"Para documentos legales"},{value:"text_upper",label:"Texto maysculas",example:"JUAN PREZ",description:"Todo en maysculas"},{value:"text_lower",label:"Texto minsculas",example:"juan prez",description:"Todo en minsculas"},{value:"text_title",label:"Texto ttulo",example:"Juan Prez",description:"Primera letra mayscula"},{value:"text_words",label:"Nmero en letras",example:"Un milln doscientos...",description:"Nmero escrito"},{value:"phone",label:"Telfono",example:"(+57) 300 123 4567",description:"Formato telefnico"},{value:"identification",label:"Identificacin",example:"1.234.567.890",description:"Cdula/NIT con puntos"},{value:"custom",label:"Personalizado",example:"",description:"Patrn personalizado"}];function I_({mapping:s,isOpen:r,onClose:i,onSuccess:c}){const u=Ye(),f=!!s,[m,h]=b.useState({name:"",key:"",category:"custom",description:"",data_type:"string",format_pattern:"",source_model:"",source_field:""}),[y,x]=b.useState("");b.useEffect(()=>{h(s?{name:s.name||"",key:s.key||"",category:s.category||"custom",description:s.description||"",data_type:s.data_type||"string",format_pattern:s.format_pattern||"",source_model:s.source_model||"",source_field:s.source_field||""}:{name:"",key:"",category:"custom",description:"",data_type:"string",format_pattern:"",source_model:"",source_field:""}),x("")},[s,r]);const p=pe({mutationFn:E=>Dt.create(E),onSuccess:()=>{u.invalidateQueries(["variable-mappings"]),c?.(),i()},onError:E=>{x(E.response?.data?.error||"Error al crear mapeo")}}),j=pe({mutationFn:E=>Dt.update(s.id,E),onSuccess:()=>{u.invalidateQueries(["variable-mappings"]),c?.(),i()},onError:E=>{x(E.response?.data?.error||"Error al actualizar mapeo")}}),C=E=>{if(E.preventDefault(),x(""),!m.name.trim()){x("El nombre es requerido");return}if(f){const{key:N,...T}=m;j.mutate(T)}else p.mutate(m)};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white",children:[e.jsx("h3",{className:"text-lg font-semibold",children:f?"Editar Mapeo":"Nuevo Mapeo de Variable"}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:C,className:"p-4 space-y-4",children:[y&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:y})]}),e.jsx(de,{label:"Nombre del Mapeo",value:m.name,onChange:E=>h({...m,name:E.target.value}),placeholder:"Ej: Salario Mensual",required:!0}),!f&&e.jsx(de,{label:"Clave (se genera automticamente)",value:m.key,onChange:E=>h({...m,key:E.target.value}),placeholder:"Ej: custom.salario_mensual",hint:"Formato: categoria.campo (solo minsculas y guiones bajos)"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),e.jsx("select",{value:m.category,onChange:E=>h({...m,category:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:Object.entries(Us).map(([E,N])=>e.jsx("option",{value:E,children:N},E))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Dato"}),e.jsx("select",{value:m.data_type,onChange:E=>h({...m,data_type:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:lm.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),e.jsx("textarea",{value:m.description,onChange:E=>h({...m,description:E.target.value}),placeholder:"Descripcin de qu representa este mapeo...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Configuracin Avanzada (Opcional)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato de Salida"}),e.jsx("select",{value:m.format_pattern?.startsWith("custom:")?"custom":m.format_pattern||"",onChange:E=>{const N=E.target.value;h(N==="custom"?{...m,format_pattern:"custom:"}:{...m,format_pattern:N})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:c0.map(E=>e.jsxs("option",{value:E.value,children:[E.label," ",E.example&&`(${E.example})`]},E.value))}),m.format_pattern&&m.format_pattern!=="custom"&&!m.format_pattern.startsWith("custom:")&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:c0.find(E=>E.value===m.format_pattern)?.description})]}),m.format_pattern?.startsWith("custom:")&&e.jsx(de,{label:"Patrn Personalizado",value:m.format_pattern.replace("custom:",""),onChange:E=>h({...m,format_pattern:`custom:${E.target.value}`}),placeholder:"Ej: $%{value} COP",hint:"Use %{value} para indicar donde va el valor"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(de,{label:"Modelo Fuente",value:m.source_model,onChange:E=>h({...m,source_model:E.target.value}),placeholder:"Ej: Hr::Employee"}),e.jsx(de,{label:"Campo Fuente",value:m.source_field,onChange:E=>h({...m,source_field:E.target.value}),placeholder:"Ej: monthly_salary"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:i,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:p.isPending||j.isPending,children:[e.jsx(Fa,{className:"w-4 h-4"}),f?"Guardar Cambios":"Crear Mapeo"]})]})]})]})}):null}function ew({isOpen:s,onClose:r}){const i=Ye(),[c,u]=b.useState({}),[f,m]=b.useState({}),[h,y]=b.useState({}),[x,p]=b.useState({}),{data:j,isLoading:C,refetch:E}=Ae({queryKey:["pending-variables-hr"],queryFn:()=>Dt.pendingVariables({module_type:"hr"}),enabled:s}),{data:N}=Ae({queryKey:["variable-mappings-grouped"],queryFn:()=>Dt.grouped(),enabled:s}),[T,S]=b.useState(""),w=pe({mutationFn:$=>Dt.autoAssign($),onSuccess:()=>{i.invalidateQueries(["pending-variables"]),i.invalidateQueries(["variable-mappings"]),i.invalidateQueries(["template"]),S("")},onError:$=>{S($.response?.data?.error||"Error al asignar mapeo")}}),k=pe({mutationFn:$=>Dt.createAndAssign($),onSuccess:$=>{i.invalidateQueries(["pending-variables"]),i.invalidateQueries(["variable-mappings"]),i.invalidateQueries(["template"]),y({}),p({}),S("")},onError:$=>{S($.response?.data?.error||$.response?.data?.errors?.join(", ")||"Error al crear mapeo")}}),O=$=>{u(q=>({...q,[$]:!q[$]}))},H=($,q,U)=>{w.mutate({variable:$,mapping_key:q,template_ids:U})},Q=$=>$.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,""),z=($,q)=>{const U=x[$]||{};k.mutate({variable:$,mapping:{name:U.name||$,key:U.key||`custom.${Q($)}`,category:U.category||"custom",description:U.description||`Variable personalizada: ${$}`,data_type:U.data_type||"string"},template_ids:q})};if(!s)return null;const P=j?.data?.data?.grouped_by_variable||{},W=j?.data?.data?.summary||{},ie=N?.data?.data||{};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Xu,{className:"w-5 h-5 text-primary-600"}),"Revision de Variables Pendientes"]}),W.total_pending>0&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[W.unique_variables," variables unicas en ",W.templates_with_pending," templates"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{variant:"secondary",size:"sm",onClick:()=>E(),children:e.jsx(yn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[T&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:T}),e.jsx("button",{onClick:()=>S(""),className:"ml-auto p-1 hover:bg-red-100 rounded",children:e.jsx(tt,{className:"w-4 h-4"})})]}),C?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):Object.keys(P).length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qe,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Todas las variables estan mapeadas"}),e.jsx("p",{className:"text-gray-500",children:"No hay variables pendientes de asignacion en las plantillas"})]}):e.jsx("div",{className:"space-y-4",children:Object.entries(P).map(([$,q])=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 cursor-pointer hover:bg-gray-100",onClick:()=>O($),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[c[$]?e.jsx(jc,{className:"w-4 h-4 text-gray-400"}):e.jsx(yl,{className:"w-4 h-4 text-gray-400"}),e.jsx("code",{className:"px-2 py-1 bg-white border rounded text-sm font-mono",children:`{{${$}}}`}),e.jsxs(qe,{variant:"secondary",children:[q.count," ",q.count===1?"template":"templates"]})]}),q.suggestions?.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(e0,{className:"w-4 h-4 text-amber-500"}),e.jsxs("span",{className:"text-sm text-amber-600",children:[q.suggestions.length," sugerencia",q.suggestions.length>1?"s":""]})]})]}),c[$]&&e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Plantillas que usan esta variable:"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:q.templates.map(U=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm",children:U.name},U.id))})]}),q.suggestions?.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(e0,{className:"w-4 h-4 text-amber-500"}),"Sugerencias de mapeo:"]}),e.jsx("div",{className:"space-y-2",children:q.suggestions.map(U=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:U.name}),e.jsx("span",{className:"text-gray-500 mx-2",children:"="}),e.jsx("code",{className:"text-sm text-gray-600",children:U.key}),U.match_score&&e.jsxs(qe,{variant:"secondary",className:"ml-2 text-xs",children:[U.match_score,"% match"]})]}),e.jsxs(F,{size:"sm",onClick:()=>H($,U.key,q.templates.map(fe=>fe.id)),loading:w.isPending,children:[e.jsx(_c,{className:"w-4 h-4"}),"Asignar"]})]},U.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Seleccionar mapeo existente:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:f[$]||"",onChange:U=>m({...f,[$]:U.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"-- Seleccionar mapeo --"}),Object.entries(ie).map(([U,fe])=>e.jsx("optgroup",{label:Us[U]||U,children:fe.map(te=>e.jsx("option",{value:te.key,children:te.name},te.id))},U))]}),e.jsxs(F,{variant:"secondary",disabled:!f[$],onClick:()=>H($,f[$],q.templates.map(U=>U.id)),loading:w.isPending,children:[e.jsx(_c,{className:"w-4 h-4"}),"Asignar"]})]})]}),e.jsx("div",{className:"border-t pt-4",children:h[$]?e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium",children:"Crear nuevo mapeo"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(de,{label:"Nombre",value:x[$]?.name||$,onChange:U=>p({...x,[$]:{...x[$],name:U.target.value}}),placeholder:"Nombre del mapeo"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),e.jsx("select",{value:x[$]?.category||"custom",onChange:U=>p({...x,[$]:{...x[$],category:U.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:Object.entries(Us).map(([U,fe])=>e.jsx("option",{value:U,children:fe},U))})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{onClick:()=>z($,q.templates.map(U=>U.id)),loading:k.isPending,children:[e.jsx(Fa,{className:"w-4 h-4"}),"Crear y Asignar"]}),e.jsx(F,{variant:"secondary",onClick:()=>{const U={...h};delete U[$],y(U)},children:"Cancelar"})]})]}):e.jsxs(F,{variant:"secondary",onClick:()=>y({...h,[$]:!0}),children:[e.jsx(Je,{className:"w-4 h-4"}),"Crear nuevo mapeo para esta variable"]})})]})]},$))})]}),e.jsx("div",{className:"p-4 border-t bg-gray-50",children:e.jsx(F,{variant:"secondary",onClick:r,children:"Cerrar"})})]})})}function tw({isOpen:s,onClose:r,mappings:i}){const[c,u]=b.useState(""),f=i.reduce((p,j)=>(p[j.key]||(p[j.key]=[]),p[j.key].push(j),p),{}),h=Object.entries(f).filter(([p,j])=>p.toLowerCase().includes(c.toLowerCase())||j.some(C=>C.name.toLowerCase().includes(c.toLowerCase()))).filter(([p,j])=>j.length>1),y=Object.values(f).filter(p=>p.length>1).length,x=Object.values(f).filter(p=>p.length>1).reduce((p,j)=>p+j.length,0);return b.useEffect(()=>{s&&u("")},[s]),s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(_c,{className:"w-5 h-5 text-primary-600"}),"Variables con Clave Compartida"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Estas variables apuntan a la misma fuente de datos"})]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 border-b bg-gray-50",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:c,onChange:p=>u(p.target.value),placeholder:"Buscar por clave o nombre...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx("div",{className:"space-y-4",children:h.map(([p,j])=>e.jsxs("div",{className:"p-4 rounded-lg border border-primary-200 bg-primary-50/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("code",{className:"text-sm font-medium text-primary-700 bg-primary-100 px-2 py-1 rounded",children:p}),e.jsxs(qe,{variant:"primary",className:"text-xs",children:[j.length," variables"]})]}),e.jsx("div",{className:"space-y-2",children:j.map(C=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded-lg border border-gray-200",children:[C.is_system&&e.jsx(vl,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:C.name}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:C.description})]}),e.jsx(qe,{variant:"secondary",className:"text-xs flex-shrink-0",children:Us[C.category]||C.category})]},C.id))})]},p))}),h.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:c?"No se encontraron coincidencias":"No hay variables con claves compartidas"})]}),e.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[y," claves compartidas  ",x," variables"]}),e.jsx(F,{variant:"secondary",onClick:r,children:"Cerrar"})]})]})}):null}function aw({mapping:s,onEdit:r,onToggle:i,onDelete:c,isAdmin:u,siblingNames:f}){const m=s.is_system,h=f&&f.length>0;return e.jsxs("tr",{className:`${s.active?"":"opacity-50 bg-gray-50"}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-xs font-medium",children:s.key})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[m&&e.jsx(vl,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:s.name})]}),h&&e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:f.map(y=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-primary-50 text-primary-700 text-xs rounded",children:y},y))}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:s.description})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(qe,{variant:"secondary",className:"text-xs",children:Us[s.category]||s.category})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:lm.find(y=>y.value===s.data_type)?.label||s.data_type})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>i(s),className:`p-1 rounded ${s.active?"text-green-600":"text-gray-400"}`,title:s.active?"Desactivar":"Activar",children:s.active?e.jsx(em,{className:"w-5 h-5"}):e.jsx(Iu,{className:"w-5 h-5"})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>r(s),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600",title:"Editar",children:e.jsx(gn,{className:"w-4 h-4"})}),(u||!m)&&e.jsx("button",{onClick:()=>c(s),className:"p-1.5 hover:bg-red-50 rounded text-red-500",title:m?"Eliminar (Solo Admin)":"Eliminar",children:e.jsx(Rt,{className:"w-4 h-4"})})]})})]})}function sw(){const{isAdmin:s}=Ta(),r=Ye(),[i,c]=b.useState(!1),[u,f]=b.useState(!1),[m,h]=b.useState(!1),[y,x]=b.useState(null),[p,j]=b.useState(""),[C,E]=b.useState(""),[N,T]=b.useState(""),[S,w]=b.useState(""),[k,O]=b.useState(""),[H,Q]=b.useState("name"),[z,P]=b.useState("asc"),{data:W,isLoading:ie}=Ae({queryKey:["variable-mappings",{category:C,type:N}],queryFn:()=>Dt.list({category:C||void 0,type:N||void 0})}),$=pe({mutationFn:X=>Dt.toggleActive(X),onSuccess:()=>r.invalidateQueries(["variable-mappings"])}),q=pe({mutationFn:X=>Dt.delete(X),onSuccess:()=>r.invalidateQueries(["variable-mappings"])}),U=pe({mutationFn:()=>Dt.seedSystem(),onSuccess:()=>{r.invalidateQueries(["variable-mappings"])}}),fe=X=>{x(X),c(!0)},te=X=>{$.mutate(X.id)},re=X=>{confirm(`Est seguro de eliminar el mapeo "${X.name}"?`)&&q.mutate(X.id)},M=()=>{c(!1),x(null)},ae=X=>{H===X?P(G=>G==="asc"?"desc":"asc"):(Q(X),P("asc"))},Z=({column:X})=>H!==X?e.jsx(kc,{className:"w-3 h-3 text-gray-400"}):z==="asc"?e.jsx(zc,{className:"w-3 h-3 text-primary-600"}):e.jsx(Oc,{className:"w-3 h-3 text-primary-600"}),ce=W?.data?.data||[];W?.data?.meta;const xe=ce.filter(X=>W_.includes(X.category)),v=xe.filter(X=>{if(p){const G=p.toLowerCase();if(!X.name.toLowerCase().includes(G)&&!X.key.toLowerCase().includes(G))return!1}return!(S==="active"&&!X.active||S==="inactive"&&X.active||k&&X.data_type!==k)}).sort((X,G)=>{let he,je;switch(H){case"name":he=X.name.toLowerCase(),je=G.name.toLowerCase();break;case"key":he=X.key.toLowerCase(),je=G.key.toLowerCase();break;case"category":he=Us[X.category]||X.category,je=Us[G.category]||G.category;break;case"data_type":he=X.data_type||"",je=G.data_type||"";break;case"status":he=X.active?1:0,je=G.active?1:0;break;default:he=X.name.toLowerCase(),je=G.name.toLowerCase()}return he<je?z==="asc"?-1:1:he>je?z==="asc"?1:-1:0}),D=xe.reduce((X,G)=>(X[G.key]||(X[G.key]=[]),X[G.key].push(G.name),X),{}),ne=X=>(D[X.key]||[]).filter(he=>he!==X.name);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Variables de Recursos Humanos"}),e.jsx("p",{className:"text-gray-500",children:"Variables para templates de empleados, certificaciones y solicitudes"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{variant:"secondary",onClick:()=>h(!0),children:[e.jsx(_c,{className:"w-4 h-4"}),"Gestionar Aliases"]}),e.jsxs(F,{variant:"secondary",onClick:()=>f(!0),children:[e.jsx(Xu,{className:"w-4 h-4"}),"Revisar Plantillas"]}),e.jsxs(F,{variant:"secondary",onClick:()=>U.mutate(),loading:U.isPending,children:[e.jsx(Nc,{className:"w-4 h-4"}),"Inicializar Sistema"]}),e.jsxs(F,{onClick:()=>c(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nuevo Mapeo"]})]})]}),e.jsx(ge,{children:e.jsxs(ve,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar mapeos...",value:p,onChange:X=>j(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),e.jsxs("select",{value:C,onChange:X=>E(X.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todas las categoras"}),Object.entries(Us).map(([X,G])=>e.jsx("option",{value:X,children:G},X))]}),e.jsxs("select",{value:N,onChange:X=>T(X.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Sistema/Custom"}),e.jsx("option",{value:"system",children:"Sistema"}),e.jsx("option",{value:"custom",children:"Personalizados"})]}),e.jsxs("select",{value:S,onChange:X=>w(X.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todos los estados"}),e.jsx("option",{value:"active",children:"Activos"}),e.jsx("option",{value:"inactive",children:"Inactivos"})]}),e.jsxs("select",{value:k,onChange:X=>O(X.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Tipo de dato"}),lm.map(X=>e.jsx("option",{value:X.value,children:X.label},X.value))]}),(p||C||N||S||k)&&e.jsxs("button",{onClick:()=>{j(""),E(""),T(""),w(""),O("")},className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg flex items-center gap-1",children:[e.jsx(tt,{className:"w-4 h-4"}),"Limpiar"]})]}),!ie&&xe.length>0&&e.jsx("div",{className:"mt-3 flex items-center justify-between text-sm text-gray-500",children:e.jsxs("span",{children:["Mostrando ",e.jsx("strong",{children:v.length})," de ",e.jsx("strong",{children:xe.length})," variables",H&&e.jsxs("span",{className:"ml-2 text-gray-400",children:[" Ordenado por ",H==="name"?"nombre":H==="key"?"clave":H==="category"?"categora":H==="data_type"?"tipo":"estado"," (",z==="asc"?"A-Z":"Z-A",")"]})]})})]})}),e.jsx(ge,{children:e.jsx(ve,{className:"p-0",children:ie?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):v.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Hs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay mapeos"}),e.jsx("p",{className:"text-gray-500 mb-4",children:xe.length===0?"Inicializa los mapeos del sistema o crea uno personalizado":"No se encontraron mapeos con los filtros aplicados"}),xe.length===0&&e.jsxs(F,{onClick:()=>U.mutate(),loading:U.isPending,children:[e.jsx(Nc,{className:"w-4 h-4"}),"Inicializar Mapeos del Sistema"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{onClick:()=>ae("key"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Clave",e.jsx(Z,{column:"key"})]})}),e.jsx("th",{onClick:()=>ae("name"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Nombre(s)",e.jsx(Z,{column:"name"})]})}),e.jsx("th",{onClick:()=>ae("category"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Categora",e.jsx(Z,{column:"category"})]})}),e.jsx("th",{onClick:()=>ae("data_type"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Tipo",e.jsx(Z,{column:"data_type"})]})}),e.jsx("th",{onClick:()=>ae("status"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Estado",e.jsx(Z,{column:"status"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:v.map(X=>e.jsx(aw,{mapping:X,onEdit:fe,onToggle:te,onDelete:re,isAdmin:s,siblingNames:ne(X)},X.id))})]})})})}),xe.length>0&&e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Mostrando ",v.length," de ",xe.length," variables de Recursos Humanos"]}),e.jsx(I_,{mapping:y,isOpen:i,onClose:M}),e.jsx(ew,{isOpen:u,onClose:()=>f(!1)}),e.jsx(tw,{isOpen:m,onClose:()=>h(!1),mappings:xe})]})}function lw({type:s,isOpen:r,onClose:i,onSuccess:c}){const u=Ye(),f=!!s,[m,h]=b.useState({name:s?.name||"",code:s?.code||"",description:s?.description||""}),[y,x]=b.useState(""),p=pe({mutationFn:E=>ml.create(E),onSuccess:()=>{u.invalidateQueries(["signatory-types"]),c?.(),i()},onError:E=>{x(E.response?.data?.error||E.response?.data?.errors?.join(", ")||"Error al crear tipo de firmante")}}),j=pe({mutationFn:E=>ml.update(s.id,E),onSuccess:()=>{u.invalidateQueries(["signatory-types"]),c?.(),i()},onError:E=>{x(E.response?.data?.error||E.response?.data?.errors?.join(", ")||"Error al actualizar tipo de firmante")}}),C=E=>{if(E.preventDefault(),x(""),!m.name.trim()){x("El nombre es requerido");return}f?j.mutate(m):p.mutate(m)};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:f?"Editar Tipo de Firmante":"Nuevo Tipo de Firmante"}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:C,className:"p-4 space-y-4",children:[y&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:y})]}),e.jsx(de,{label:"Nombre",value:m.name,onChange:E=>h({...m,name:E.target.value}),placeholder:"Ej: Gerente de Operaciones",required:!0}),!f&&e.jsx(de,{label:"Codigo (se genera automaticamente)",value:m.code,onChange:E=>h({...m,code:E.target.value}),placeholder:"Ej: operations_manager",hint:"Solo letras minusculas, numeros y guiones bajos"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcion"}),e.jsx("textarea",{value:m.description,onChange:E=>h({...m,description:E.target.value}),placeholder:"Descripcion del tipo de firmante...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:i,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:p.isPending||j.isPending,children:[e.jsx(Fa,{className:"w-4 h-4"}),f?"Guardar Cambios":"Crear Tipo"]})]})]})]})}):null}function nw({type:s,onEdit:r,onToggle:i,onDelete:c}){const u=s.is_system;return e.jsxs("tr",{className:`${s.active?"":"opacity-50 bg-gray-50"}`,children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u&&e.jsx(vl,{className:"w-3 h-3 text-gray-400"}),e.jsx(pg,{className:"w-4 h-4 text-primary-500"}),e.jsx("span",{className:"font-medium",children:s.name})]}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-0.5 ml-6",children:s.description})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:s.code})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(qe,{variant:u?"secondary":"default",className:"text-xs",children:u?"Sistema":"Personalizado"})}),e.jsx("td",{className:"px-4 py-3",children:s.in_use?e.jsxs("span",{className:"text-sm text-gray-600",children:[s.usage_count," plantilla(s)"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"Sin usar"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>i(s),className:`p-1 rounded ${s.active?"text-green-600":"text-gray-400"}`,title:s.active?"Desactivar":"Activar",children:s.active?e.jsx(em,{className:"w-5 h-5"}):e.jsx(Iu,{className:"w-5 h-5"})})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex items-center gap-1",children:!u&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r(s),className:"p-1.5 hover:bg-gray-100 rounded text-gray-600",title:"Editar",children:e.jsx(gn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c(s),className:`p-1.5 rounded ${s.in_use?"text-gray-300 cursor-not-allowed":"hover:bg-red-50 text-red-500"}`,title:s.in_use?"No se puede eliminar (en uso)":"Eliminar",disabled:s.in_use,children:e.jsx(Rt,{className:"w-4 h-4"})})]})})})]})}function rw(){const s=Ye(),[r,i]=b.useState(!1),[c,u]=b.useState(null),[f,m]=b.useState(""),[h,y]=b.useState(""),{data:x,isLoading:p}=Ae({queryKey:["signatory-types",{type:h}],queryFn:()=>ml.list({type:h||void 0})}),j=pe({mutationFn:Q=>ml.toggleActive(Q),onSuccess:()=>s.invalidateQueries(["signatory-types"])}),C=pe({mutationFn:Q=>ml.delete(Q),onSuccess:()=>s.invalidateQueries(["signatory-types"]),onError:Q=>{alert(Q.response?.data?.error||"Error al eliminar")}}),E=pe({mutationFn:()=>ml.seedSystem(),onSuccess:()=>{s.invalidateQueries(["signatory-types"])}}),N=Q=>{u(Q),i(!0)},T=Q=>{j.mutate(Q.id)},S=Q=>{if(Q.in_use){alert(`No se puede eliminar este tipo porque esta siendo usado en ${Q.usage_count} plantilla(s)`);return}confirm(`Esta seguro de eliminar el tipo de firmante "${Q.name}"?`)&&C.mutate(Q.id)},w=()=>{i(!1),u(null)},k=x?.data?.data||[],O=x?.data?.meta||{},H=f?k.filter(Q=>Q.name.toLowerCase().includes(f.toLowerCase())||Q.code.toLowerCase().includes(f.toLowerCase())):k;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tipos de Firmante"}),e.jsx("p",{className:"text-gray-500",children:"Gestiona los tipos de firmante disponibles para plantillas"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{variant:"secondary",onClick:()=>E.mutate(),loading:E.isPending,children:[e.jsx(Nc,{className:"w-4 h-4"}),"Inicializar Sistema"]}),e.jsxs(F,{onClick:()=>i(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Nuevo Tipo"]})]})]}),e.jsx(ge,{children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar tipos de firmante...",value:f,onChange:Q=>m(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),e.jsxs("select",{value:h,onChange:Q=>y(Q.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todos los tipos"}),e.jsx("option",{value:"system",children:"Sistema"}),e.jsx("option",{value:"custom",children:"Personalizados"})]})]})})}),e.jsx(ge,{children:e.jsx(ve,{className:"p-0",children:p?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):H.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Yt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay tipos de firmante"}),e.jsx("p",{className:"text-gray-500 mb-4",children:k.length===0?"Inicializa los tipos del sistema o crea uno personalizado":"No se encontraron tipos con los filtros aplicados"}),k.length===0&&e.jsxs(F,{onClick:()=>E.mutate(),loading:E.isPending,children:[e.jsx(Nc,{className:"w-4 h-4"}),"Inicializar Tipos del Sistema"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nombre"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Codigo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Uso"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:H.map(Q=>e.jsx(nw,{type:Q,onEdit:N,onToggle:T,onDelete:S},Q.id))})]})})})}),O.total>0&&e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Mostrando ",H.length," de ",O.total," tipos de firmante"]}),e.jsx(lw,{type:c,isOpen:r,onClose:w})]})}const iw=[{value:"monthly",label:"Acumulacin Mensual"},{value:"yearly",label:"Acumulacin Anual"}],cw=[{value:"pdf",label:"PDF"},{value:"docx",label:"Word (DOCX)"},{value:"xlsx",label:"Excel (XLSX)"},{value:"pptx",label:"PowerPoint (PPTX)"},{value:"jpg",label:"Imagen JPG"},{value:"png",label:"Imagen PNG"},{value:"gif",label:"Imagen GIF"},{value:"txt",label:"Texto (TXT)"},{value:"csv",label:"CSV"}];function ow(){const s=Ye(),[r,i]=b.useState("organization"),[c,u]=b.useState(null),[f,m]=b.useState(!1),{data:h,isLoading:y,error:x}=Ae({queryKey:["settings"],queryFn:()=>Gp.get(),onSuccess:S=>{const w=S.data.data;u({name:w.organization?.name||"",legal_name:w.organization?.legal_name||"",tax_id:w.organization?.tax_id||"",address:w.organization?.address||"",city:w.organization?.city||"",country:w.organization?.country||"Colombia",phone:w.organization?.phone||"",email:w.organization?.email||"",website:w.organization?.website||"",vacation_days_per_year:w.hr?.vacation_days_per_year||15,vacation_accrual_policy:w.hr?.vacation_accrual_policy||"monthly",max_vacation_carryover:w.hr?.max_vacation_carryover||15,probation_period_months:w.hr?.probation_period_months||2,allowed_file_types:w.documents?.allowed_file_types||["pdf","docx","xlsx"],max_file_size_mb:w.documents?.max_file_size_mb||25,document_retention_years:w.documents?.document_retention_years||10,session_timeout_minutes:w.security?.session_timeout_minutes||480,password_min_length:w.security?.password_min_length||8,password_require_uppercase:w.security?.password_require_uppercase??!0,password_require_number:w.security?.password_require_number??!0,password_require_special:w.security?.password_require_special??!1,max_login_attempts:w.security?.max_login_attempts||5})}}),p=pe({mutationFn:S=>Gp.update(S),onSuccess:()=>{s.invalidateQueries(["settings"]),m(!0),setTimeout(()=>m(!1),3e3)}}),j=(S,w)=>{u(k=>({...k,[S]:w}))},C=S=>{u(w=>({...w,allowed_file_types:w.allowed_file_types.includes(S)?w.allowed_file_types.filter(k=>k!==S):[...w.allowed_file_types,S]}))},E=()=>{p.mutate(c)},N=[{id:"organization",label:"Organizacin",icon:Ha},{id:"hr",label:"Recursos Humanos",icon:Yt},{id:"documents",label:"Documentos",icon:Ee},{id:"security",label:"Seguridad",icon:wc}];if(y)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(yn,{className:"w-8 h-8 animate-spin text-primary-600"})});if(x)return e.jsxs("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Ge,{className:"w-5 h-5 text-danger-600"}),e.jsxs("span",{className:"text-danger-700",children:["Error al cargar configuracin: ",x.message]})]});if(!c)return null;const T=h?.data?.data;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuracin"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Administra la configuracin del sistema"})]}),e.jsxs("button",{onClick:E,disabled:p.isLoading,className:"btn-primary flex items-center gap-2",children:[p.isLoading?e.jsx(yn,{className:"w-4 h-4 animate-spin"}):e.jsx(Fa,{className:"w-4 h-4"}),"Guardar Cambios"]})]}),f&&e.jsxs("div",{className:"bg-success-50 border border-success-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-success-600"}),e.jsx("span",{className:"text-success-700",children:"Configuracin guardada correctamente"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 flex items-center gap-4",children:[e.jsx(Z2,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:T?.system?.app_name})," ",""," ",e.jsxs("span",{children:["v",T?.system?.version]})," ",""," ",e.jsx("span",{className:"capitalize",children:T?.system?.environment})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex gap-4",children:N.map(S=>e.jsxs("button",{onClick:()=>i(S.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 font-medium text-sm transition-colors ${r===S.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(S.icon,{className:"w-4 h-4"}),S.label]},S.id))})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r==="organization"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ha,{className:"w-5 h-5"}),"Informacin de la Organizacin"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la Empresa"}),e.jsx("input",{type:"text",value:c.name,onChange:S=>j("name",S.target.value),className:"input",placeholder:"Mi Empresa S.A.S."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razn Social"}),e.jsx("input",{type:"text",value:c.legal_name,onChange:S=>j("legal_name",S.target.value),className:"input",placeholder:"Mi Empresa S.A.S."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIT"}),e.jsx("input",{type:"text",value:c.tax_id,onChange:S=>j("tax_id",S.target.value),className:"input",placeholder:"900.123.456-7"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),e.jsx("input",{type:"text",value:c.phone,onChange:S=>j("phone",S.target.value),className:"input",placeholder:"+57 601 234 5678"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Corporativo"}),e.jsx("input",{type:"email",value:c.email,onChange:S=>j("email",S.target.value),className:"input",placeholder:"contacto@empresa.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sitio Web"}),e.jsx("input",{type:"url",value:c.website,onChange:S=>j("website",S.target.value),className:"input",placeholder:"https://www.empresa.com"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),e.jsx("input",{type:"text",value:c.address,onChange:S=>j("address",S.target.value),className:"input",placeholder:"Calle 100 # 10-20, Oficina 501"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),e.jsx("input",{type:"text",value:c.city,onChange:S=>j("city",S.target.value),className:"input",placeholder:"Bogot D.C."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pas"}),e.jsx("input",{type:"text",value:c.country,onChange:S=>j("country",S.target.value),className:"input",placeholder:"Colombia"})]})]})]}),r==="hr"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Configuracin de Recursos Humanos"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Das de Vacaciones por Ao"}),e.jsx("input",{type:"number",value:c.vacation_days_per_year,onChange:S=>j("vacation_days_per_year",parseInt(S.target.value)),className:"input",min:"1",max:"30"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Segn el CST Art. 186, mnimo 15 das hbiles"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poltica de Acumulacin"}),e.jsx("select",{value:c.vacation_accrual_policy,onChange:S=>j("vacation_accrual_policy",S.target.value),className:"input",children:iw.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mximo Das Acumulables"}),e.jsx("input",{type:"number",value:c.max_vacation_carryover,onChange:S=>j("max_vacation_carryover",parseInt(S.target.value)),className:"input",min:"0",max:"60"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Das que se pueden trasladar al siguiente ao"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo de Prueba (meses)"}),e.jsx("input",{type:"number",value:c.probation_period_months,onChange:S=>j("probation_period_months",parseInt(S.target.value)),className:"input",min:"0",max:"6"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Segn el CST, mximo 2 meses"})]})]})]}),r==="documents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),"Configuracin de Documentos"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tipos de Archivo Permitidos"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:cw.map(S=>e.jsxs("button",{onClick:()=>C(S.value),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${c.allowed_file_types.includes(S.value)?"bg-primary-100 text-primary-700 border border-primary-300":"bg-gray-100 text-gray-600 border border-gray-200 hover:bg-gray-200"}`,children:[".",S.value]},S.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tamao Mximo de Archivo (MB)"}),e.jsx("input",{type:"number",value:c.max_file_size_mb,onChange:S=>j("max_file_size_mb",parseInt(S.target.value)),className:"input",min:"1",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Retencin de Documentos (aos)"}),e.jsx("input",{type:"number",value:c.document_retention_years,onChange:S=>j("document_retention_years",parseInt(S.target.value)),className:"input",min:"1",max:"50"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tiempo mnimo de conservacin de documentos"})]})]})]})]}),r==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(wc,{className:"w-5 h-5"}),"Configuracin de Seguridad"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiempo de Sesin (minutos)"}),e.jsx("input",{type:"number",value:c.session_timeout_minutes,onChange:S=>j("session_timeout_minutes",parseInt(S.target.value)),className:"input",min:"15",max:"1440"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tiempo de inactividad antes de cerrar sesin"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Intentos Mximos de Login"}),e.jsx("input",{type:"number",value:c.max_login_attempts,onChange:S=>j("max_login_attempts",parseInt(S.target.value)),className:"input",min:"3",max:"10"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bloqueo temporal despus de estos intentos fallidos"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud Mnima de Contrasea"}),e.jsx("input",{type:"number",value:c.password_min_length,onChange:S=>j("password_min_length",parseInt(S.target.value)),className:"input",min:"6",max:"20"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Requisitos de Contrasea"}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.password_require_uppercase,onChange:S=>j("password_require_uppercase",S.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Requiere maysculas"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.password_require_number,onChange:S=>j("password_require_number",S.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Requiere nmeros"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.password_require_special,onChange:S=>j("password_require_special",S.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Requiere caracteres especiales"})]})]})]})]})]})]})}const un={draft:{label:"Borrador",color:"bg-gray-100 text-gray-700",icon:Ee},pending_signatures:{label:"Pendiente de firmas",color:"bg-amber-100 text-amber-700",icon:_a},completed:{label:"Completado",color:"bg-green-100 text-green-700",icon:Qe},cancelled:{label:"Cancelado",color:"bg-red-100 text-red-700",icon:Sa}},pu={contract:"Contrato",certification:"Certificacin",vacation:"Vacaciones",other:"Otro"};function dw(){const{isAdmin:s}=Ta(),r=Ye(),[i,c]=b.useState(1),[u,f]=b.useState(null),[m,h]=b.useState(!1),[y,x]=b.useState(!1),[p,j]=b.useState(null),[C,E]=b.useState(null),[N,T]=b.useState(""),[S,w]=b.useState(""),[k,O]=b.useState(""),[H,Q]=b.useState("created_at"),[z,P]=b.useState("desc"),{data:W,isLoading:ie,isError:$}=Ae({queryKey:["generated-documents",i],queryFn:()=>mc.list({page:i,per_page:20})}),q=pe({mutationFn:G=>mc.delete(G),onSuccess:()=>{r.invalidateQueries(["generated-documents"]),x(!1),j(null),h(!1),f(null)},onError:G=>{alert(G.response?.data?.error||"Error al eliminar el documento")}}),U=W?.data?.data||[],fe=W?.data?.meta||{},te=fe.total_pages||1,re=U.filter(G=>{if(N){const he=N.toLowerCase(),je=(G.name||"").toLowerCase().includes(he),Le=(G.employee_name||G.requested_by||"").toLowerCase().includes(he),Fe=(G.template_name||"").toLowerCase().includes(he);if(!je&&!Le&&!Fe)return!1}return!(S&&G.status!==S||k&&G.template_category!==k)}).sort((G,he)=>{let je,Le;switch(H){case"employee_name":je=(G.employee_name||G.requested_by||"").toLowerCase(),Le=(he.employee_name||he.requested_by||"").toLowerCase();break;case"template_name":je=(G.template_name||"").toLowerCase(),Le=(he.template_name||"").toLowerCase();break;case"template_category":je=pu[G.template_category]||G.template_category||"",Le=pu[he.template_category]||he.template_category||"";break;case"status":je=un[G.status]?.label||G.status||"",Le=un[he.status]?.label||he.status||"";break;case"created_at":je=G.created_at?new Date(G.created_at).getTime():0,Le=he.created_at?new Date(he.created_at).getTime():0;break;default:je=G.created_at?new Date(G.created_at).getTime():0,Le=he.created_at?new Date(he.created_at).getTime():0}return je<Le?z==="asc"?-1:1:je>Le?z==="asc"?1:-1:0}),M=G=>{H===G?P(he=>he==="asc"?"desc":"asc"):(Q(G),P("asc"))},ae=()=>{T(""),w(""),O("")},Z=N||S||k,ce=({column:G})=>H!==G?e.jsx(kc,{className:"w-3 h-3 text-gray-400"}):z==="asc"?e.jsx(zc,{className:"w-3 h-3 text-primary-600"}):e.jsx(Oc,{className:"w-3 h-3 text-primary-600"}),xe=G=>{f(G),h(!0)},v=G=>{j(G),x(!0)},D=()=>{p&&q.mutate(p.id)},ne=async G=>{try{E(G.id);const he=await mc.download(G.id),je=new Blob([he.data],{type:"application/pdf"}),Le=window.URL.createObjectURL(je),Fe=window.document.createElement("a");Fe.href=Le,Fe.download=G.file_name||`${G.name}.pdf`,window.document.body.appendChild(Fe),Fe.click(),window.document.body.removeChild(Fe),window.URL.revokeObjectURL(Le)}catch(he){alert("Error al descargar el documento"),console.error("Download error:",he)}finally{E(null)}},X=G=>G?new Date(G).toLocaleDateString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return ie?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Documentos"})}),e.jsx(ge,{children:e.jsx(ve,{className:"p-8",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4,5].map(G=>e.jsx("div",{className:"h-16 bg-gray-200 rounded"},G))})})})]}):$?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Documentos"})}),e.jsx(ge,{children:e.jsxs(ve,{className:"p-8 text-center",children:[e.jsx(Ge,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Error al cargar los documentos"})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Documentos"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Documentos generados desde templates"})]})}),e.jsx(ge,{children:e.jsxs(ve,{className:"py-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por empleado, documento...",value:N,onChange:G=>T(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),e.jsxs("select",{value:S,onChange:G=>w(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todos los estados"}),e.jsx("option",{value:"draft",children:"Borrador"}),e.jsx("option",{value:"pending_signatures",children:"Pendiente de firmas"}),e.jsx("option",{value:"completed",children:"Completado"}),e.jsx("option",{value:"cancelled",children:"Cancelado"})]}),e.jsxs("select",{value:k,onChange:G=>O(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Tipo de documento"}),e.jsx("option",{value:"contract",children:"Contrato"}),e.jsx("option",{value:"certification",children:"Certificacin"}),e.jsx("option",{value:"vacation",children:"Vacaciones"}),e.jsx("option",{value:"other",children:"Otro"})]}),Z&&e.jsxs("button",{onClick:ae,className:"px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg flex items-center gap-1",children:[e.jsx(tt,{className:"w-4 h-4"}),"Limpiar"]})]}),!ie&&U.length>0&&e.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Mostrando ",e.jsx("strong",{children:re.length})," de ",e.jsx("strong",{children:U.length})," documentos"]})]})}),e.jsx(ge,{children:e.jsx(ve,{className:"p-0",children:re.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Xu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay documentos"}),e.jsx("p",{className:"text-gray-500",children:Z?"No se encontraron documentos con los filtros aplicados":"Los documentos generados desde templates apareceran aqui"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{onClick:()=>M("employee_name"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Empleado",e.jsx(ce,{column:"employee_name"})]})}),e.jsx("th",{onClick:()=>M("template_name"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Documento",e.jsx(ce,{column:"template_name"})]})}),e.jsx("th",{onClick:()=>M("template_category"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Tipo",e.jsx(ce,{column:"template_category"})]})}),e.jsx("th",{onClick:()=>M("created_at"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Fecha Creacin",e.jsx(ce,{column:"created_at"})]})}),e.jsx("th",{onClick:()=>M("status"),className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 select-none",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Estado",e.jsx(ce,{column:"status"})]})}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:re.map(G=>{const he=un[G.status]||un.draft,je=he.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ba,{className:"w-4 h-4 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:G.employee_name||G.requested_by||"-"}),G.employee_number&&e.jsx("p",{className:"text-xs text-gray-500",children:G.employee_number})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900",children:G.name}),G.template_name&&e.jsx("p",{className:"text-xs text-gray-500",children:G.template_name})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-xs text-gray-700",children:[e.jsx(En,{className:"w-3 h-3"}),pu[G.template_category]||G.template_category||"Otro"]})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:X(G.created_at)}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${he.color}`,children:[e.jsx(je,{className:"w-3.5 h-3.5"}),he.label]})}),e.jsx("td",{className:"px-4 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>xe(G),title:"Ver detalles",children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>ne(G),loading:C===G.id,title:"Descargar PDF",children:e.jsx(pn,{className:"w-4 h-4"})}),s&&e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>v(G),title:"Eliminar documento",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Rt,{className:"w-4 h-4"})})]})})]},G.id)})})]})})})}),te>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Pagina ",i," de ",te," (",fe.total_count," documentos)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{variant:"secondary",size:"sm",onClick:()=>c(G=>Math.max(1,G-1)),disabled:i===1,children:[e.jsx(dg,{className:"w-4 h-4"}),"Anterior"]}),e.jsxs(F,{variant:"secondary",size:"sm",onClick:()=>c(G=>Math.min(te,G+1)),disabled:i===te,children:["Siguiente",e.jsx(yl,{className:"w-4 h-4"})]})]})]}),e.jsx(pt,{isOpen:m,onClose:()=>h(!1),title:"Detalle del Documento",size:"lg",children:u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.name}),u.template_name&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Template: ",u.template_name]})]})]}),e.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium ${un[u.status]?.color||"bg-gray-100 text-gray-700"}`,children:un[u.status]?.label||u.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Creado"}),e.jsx("p",{className:"text-sm font-medium",children:X(u.created_at)})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Solicitado por"}),e.jsx("p",{className:"text-sm font-medium",children:u.requested_by||"-"})]}),u.file_name&&e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg col-span-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Archivo"}),e.jsx("p",{className:"text-sm font-medium",children:u.file_name})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsx("div",{children:s&&e.jsxs(F,{variant:"danger",onClick:()=>v(u),children:[e.jsx(Rt,{className:"w-4 h-4"}),"Eliminar"]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(F,{variant:"secondary",onClick:()=>h(!1),children:"Cerrar"}),e.jsxs(F,{onClick:()=>ne(u),loading:C===u.id,children:[e.jsx(pn,{className:"w-4 h-4"}),"Descargar PDF"]})]})]})]})}),e.jsx(pt,{isOpen:y,onClose:()=>{x(!1),j(null)},title:"Confirmar eliminacion",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(Rt,{className:"w-8 h-8 text-red-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Esta seguro que desea eliminar el documento:"}),e.jsx("p",{className:"font-medium text-gray-900 mt-1",children:p?.name})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Esta accion no se puede deshacer. El archivo PDF sera eliminado permanentemente."}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{variant:"secondary",onClick:()=>{x(!1),j(null)},children:"Cancelar"}),e.jsxs(F,{variant:"danger",onClick:D,loading:q.isPending,children:[e.jsx(Rt,{className:"w-4 h-4"}),"Eliminar"]})]})]})})]})}const uw=[{value:"#6366f1",label:"Indigo"},{value:"#8b5cf6",label:"Violeta"},{value:"#ec4899",label:"Rosa"},{value:"#f43f5e",label:"Rojo"},{value:"#f97316",label:"Naranja"},{value:"#eab308",label:"Amarillo"},{value:"#22c55e",label:"Verde"},{value:"#14b8a6",label:"Teal"},{value:"#0ea5e9",label:"Azul"},{value:"#6b7280",label:"Gris"}];function mw({isOpen:s,onClose:r,folder:i=null,parentId:c=null}){const u=Ye(),[f,m]=b.useState(""),[h,y]=b.useState(""),[x,p]=b.useState("#6366f1"),[j,C]=b.useState(""),E=!!i;b.useEffect(()=>{s&&(i?(m(i.name||""),y(i.description||""),p(i.color||"#6366f1")):(m(""),y(""),p("#6366f1")),C(""))},[i,s]);const N=pe({mutationFn:k=>ul.create(k),onSuccess:()=>{u.invalidateQueries(["folders"]),S()},onError:k=>C(k.response?.data?.error||"Error al crear carpeta")}),T=pe({mutationFn:k=>ul.update(i.id,k),onSuccess:()=>{u.invalidateQueries(["folders"]),S()},onError:k=>C(k.response?.data?.error||"Error al actualizar carpeta")}),S=()=>{m(""),y(""),p("#6366f1"),C(""),r()},w=k=>{if(k.preventDefault(),!f.trim()){C("El nombre es requerido");return}const O={name:f,description:h,color:x,parent_id:c};E?T.mutate(O):N.mutate(O)};return s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:E?"Editar Carpeta":"Nueva Carpeta"}),e.jsx("button",{onClick:S,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:w,className:"p-4 space-y-4",children:[j&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:j})]}),e.jsx(de,{label:"Nombre",value:f,onChange:k=>m(k.target.value),placeholder:"Ej: Contratos 2024",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin (opcional)"}),e.jsx("textarea",{value:h,onChange:k=>y(k.target.value),placeholder:"Descripcin de la carpeta...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:uw.map(k=>e.jsx("button",{type:"button",onClick:()=>p(k.value),className:`w-8 h-8 rounded-full border-2 transition-transform ${x===k.value?"border-gray-900 scale-110":"border-transparent"}`,style:{backgroundColor:k.value},title:k.label},k.value))})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:S,children:"Cancelar"}),e.jsx(F,{type:"submit",loading:N.isPending||T.isPending,children:E?"Guardar":"Crear Carpeta"})]})]})]})}):null}function hw({isOpen:s,onClose:r,folder:i}){const c=Ye(),[u,f]=b.useState(""),[m,h]=b.useState(""),{data:y,isLoading:x}=Ae({queryKey:["available-documents"],queryFn:()=>mc.list({per_page:100}),enabled:s}),p=pe({mutationFn:N=>ul.addDocument(i.id,N),onSuccess:()=>{c.invalidateQueries(["folders"]),c.invalidateQueries(["folder",i.id])},onError:N=>h(N.response?.data?.error||"Error al agregar documento")}),j=y?.data?.data||[],C=i?.documents?.map(N=>N.id)||[],E=j.filter(N=>C.includes(N.id)?!1:u?N.name.toLowerCase().includes(u.toLowerCase()):!0);return!s||!i?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:['Agregar Documento a "',i.name,'"']}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(tt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 border-b",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:u,onChange:N=>f(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),m&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:x?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):E.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:u?"No se encontraron documentos":"No hay documentos disponibles"}):e.jsx("div",{className:"space-y-2",children:E.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx(Ee,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:N.name}),e.jsx("p",{className:"text-xs text-gray-500",children:N.template_name})]})]}),e.jsx(F,{size:"sm",variant:"secondary",onClick:()=>p.mutate(N.id),loading:p.isPending,children:e.jsx(Je,{className:"w-4 h-4"})})]},N.id))})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx(F,{variant:"secondary",onClick:r,className:"w-full",children:"Cerrar"})})]})})}function fw(){const s=Ye(),[r,i]=b.useState(null),[c,u]=b.useState(!1),[f,m]=b.useState(!1),[h,y]=b.useState(null),[x,p]=b.useState(null),{data:j}=Ae({queryKey:["folder",r],queryFn:()=>ul.get(r),enabled:!!r}),{data:C,isLoading:E}=Ae({queryKey:["folders",r||"root"],queryFn:()=>ul.list({parent_id:r||"root"})}),N=pe({mutationFn:W=>ul.delete(W),onSuccess:()=>{s.invalidateQueries(["folders"]),p(null)}}),T=pe({mutationFn:({folderId:W,documentId:ie})=>ul.removeDocument(W,ie),onSuccess:()=>{s.invalidateQueries(["folders"]),s.invalidateQueries(["folder",r])}}),S=C?.data?.data||[],w=j?.data?.data,k=w?.ancestors||[],O=W=>{i(W.id)},H=(W=null)=>{i(W)},Q=W=>{y(W),u(!0),p(null)},z=W=>{if(W.documents_count>0||W.subfolders_count>0){alert("No se puede eliminar una carpeta que contiene documentos o subcarpetas");return}confirm(`Eliminar la carpeta "${W.name}"?`)&&N.mutate(W.id)},P=()=>{y(null),u(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Carpetas"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Organiza tus documentos en carpetas"})]}),e.jsxs(F,{onClick:P,children:[e.jsx(Kp,{className:"w-4 h-4"}),"Nueva Carpeta"]})]}),e.jsx(ge,{children:e.jsx(ve,{className:"py-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("button",{onClick:()=>H(null),className:`flex items-center gap-1 hover:text-primary-600 ${r?"text-gray-600":"text-primary-600 font-medium"}`,children:[e.jsx(Ku,{className:"w-4 h-4"}),"Inicio"]}),k.map(W=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yl,{className:"w-4 h-4 text-gray-400"}),e.jsx("button",{onClick:()=>H(W.id),className:"text-gray-600 hover:text-primary-600",children:W.name})]},W.id)),w&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yl,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-primary-600 font-medium",children:w.name})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ge,{children:e.jsx(ve,{className:"p-0",children:E?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):S.length===0&&!w?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(hg,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay carpetas"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera carpeta para organizar documentos"}),e.jsxs(F,{onClick:P,children:[e.jsx(Kp,{className:"w-4 h-4"}),"Nueva Carpeta"]})]}):e.jsxs("div",{className:"divide-y",children:[S.map(W=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 group",children:[e.jsxs("button",{onClick:()=>O(W),className:"flex items-center gap-3 flex-1 text-left",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${W.color}20`},children:e.jsx(F2,{className:"w-5 h-5",style:{color:W.color}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:W.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[W.documents_count," documentos",W.subfolders_count>0&&`  ${W.subfolders_count} subcarpetas`]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>p(x===W.id?null:W.id),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Yu,{className:"w-4 h-4"})}),x===W.id&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-lg py-1 z-10 w-36",children:[e.jsxs("button",{onClick:()=>Q(W),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(Pu,{className:"w-4 h-4"}),"Editar"]}),e.jsxs("button",{onClick:()=>z(W),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[e.jsx(Rt,{className:"w-4 h-4"}),"Eliminar"]})]})]})]},W.id)),S.length===0&&w&&e.jsx("div",{className:"p-8 text-center text-gray-500",children:"No hay subcarpetas"})]})})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(ge,{children:e.jsxs(ve,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:w?"Documentos":"Selecciona una carpeta"}),w&&e.jsx(F,{size:"sm",variant:"secondary",onClick:()=>m(!0),children:e.jsx(qc,{className:"w-4 h-4"})})]}),w?w.documents?.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:[e.jsx(Ee,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),"No hay documentos en esta carpeta",e.jsxs(F,{size:"sm",variant:"secondary",className:"mt-3",onClick:()=>m(!0),children:[e.jsx(Je,{className:"w-4 h-4"}),"Agregar"]})]}):e.jsx("div",{className:"space-y-2",children:w.documents.map(W=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg hover:bg-gray-50 group",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Ee,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:W.name})]}),e.jsx("button",{onClick:()=>T.mutate({folderId:w.id,documentId:W.id}),className:"p-1 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100",title:"Quitar de carpeta",children:e.jsx(tt,{className:"w-4 h-4"})})]},W.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:[e.jsx(Ee,{className:"w-10 h-10 text-gray-300 mx-auto mb-2"}),"Abre una carpeta para ver sus documentos"]})]})})})]}),e.jsx(mw,{isOpen:c,onClose:()=>{u(!1),y(null)},folder:h,parentId:r}),e.jsx(hw,{isOpen:f,onClose:()=>m(!1),folder:w})]})}const _g=[{value:"provider",label:"Proveedor"},{value:"client",label:"Cliente"},{value:"contractor",label:"Contratista"},{value:"partner",label:"Aliado"},{value:"other",label:"Otro"}],xw=[{value:"juridical",label:"Persona Jurdica"},{value:"natural",label:"Persona Natural"}],pw=[{value:"NIT",label:"NIT"},{value:"CC",label:"Cdula de Ciudadana"},{value:"CE",label:"Cdula de Extranjera"},{value:"PA",label:"Pasaporte"},{value:"TI",label:"Tarjeta de Identidad"}],gw={active:"green",inactive:"gray",blocked:"red"};function yw({thirdParty:s,onSubmit:r,onCancel:i,isLoading:c}){const[u,f]=b.useState(s||{third_party_type:"provider",person_type:"juridical",identification_type:"NIT",identification_number:"",business_name:"",trade_name:"",first_name:"",last_name:"",email:"",phone:"",address:"",city:"",country:"Colombia",legal_rep_name:"",legal_rep_id_number:"",legal_rep_email:"",bank_name:"",bank_account_type:"",bank_account_number:"",notes:""}),m=(x,p)=>{f(j=>({...j,[x]:p}))},h=x=>{x.preventDefault(),r(u)},y=u.person_type==="juridical";return e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Me,{label:"Tipo de Tercero",value:u.third_party_type,onChange:x=>m("third_party_type",x.target.value),options:_g,required:!0}),e.jsx(Me,{label:"Tipo de Persona",value:u.person_type,onChange:x=>m("person_type",x.target.value),options:xw,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(Me,{label:"Tipo Documento",value:u.identification_type,onChange:x=>m("identification_type",x.target.value),options:pw,required:!0}),e.jsx(de,{label:"Nmero Documento",value:u.identification_number,onChange:x=>m("identification_number",x.target.value),required:!0}),u.identification_type==="NIT"&&e.jsx(de,{label:"Dgito Verificacin",value:u.verification_digit||"",onChange:x=>m("verification_digit",x.target.value),maxLength:1})]}),y?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(de,{label:"Razn Social",value:u.business_name,onChange:x=>m("business_name",x.target.value),required:!0}),e.jsx(de,{label:"Nombre Comercial",value:u.trade_name||"",onChange:x=>m("trade_name",x.target.value)})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(de,{label:"Nombres",value:u.first_name,onChange:x=>m("first_name",x.target.value),required:!0}),e.jsx(de,{label:"Apellidos",value:u.last_name,onChange:x=>m("last_name",x.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(de,{label:"Email",type:"email",value:u.email,onChange:x=>m("email",x.target.value),required:!0}),e.jsx(de,{label:"Telfono",value:u.phone||"",onChange:x=>m("phone",x.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(de,{label:"Direccin",value:u.address||"",onChange:x=>m("address",x.target.value),className:"col-span-2"}),e.jsx(de,{label:"Ciudad",value:u.city||"",onChange:x=>m("city",x.target.value)})]}),y&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Representante Legal"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(de,{label:"Nombre Completo",value:u.legal_rep_name||"",onChange:x=>m("legal_rep_name",x.target.value)}),e.jsx(de,{label:"Documento",value:u.legal_rep_id_number||"",onChange:x=>m("legal_rep_id_number",x.target.value)}),e.jsx(de,{label:"Email",type:"email",value:u.legal_rep_email||"",onChange:x=>m("legal_rep_email",x.target.value)})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Informacin Bancaria"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(de,{label:"Banco",value:u.bank_name||"",onChange:x=>m("bank_name",x.target.value)}),e.jsx(Me,{label:"Tipo de Cuenta",value:u.bank_account_type||"",onChange:x=>m("bank_account_type",x.target.value),options:[{value:"",label:"Seleccionar..."},{value:"savings",label:"Ahorros"},{value:"checking",label:"Corriente"}]}),e.jsx(de,{label:"Nmero de Cuenta",value:u.bank_account_number||"",onChange:x=>m("bank_account_number",x.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),e.jsx("textarea",{value:u.notes||"",onChange:x=>m("notes",x.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:i,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:c,children:[s?"Actualizar":"Crear"," Tercero"]})]})]})}function vw({thirdParty:s,onEdit:r,onDelete:i,onStatusChange:c}){const[u,f]=b.useState(!1);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[s.person_type==="juridical"?e.jsx(Ha,{className:"h-4 w-4 text-blue-600"}):e.jsx(Ba,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:s.code})]})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.display_name}),s.trade_name&&s.trade_name!==s.business_name&&e.jsx("div",{className:"text-xs text-gray-500",children:s.trade_name})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-600",children:s.type_label})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-600",children:s.full_identification})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-600",children:s.email})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx(qe,{status:gw[s.status],children:s.status_label})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.contracts_count})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("button",{onClick:()=>f(!u),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Yu,{className:"h-4 w-4 text-gray-500"})}),u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),e.jsxs("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border z-20",children:[e.jsxs("button",{onClick:()=>{r(s),f(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(xg,{className:"h-4 w-4"})," Editar"]}),s.status==="active"&&e.jsxs("button",{onClick:()=>{c(s.id,"deactivate"),f(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-yellow-600",children:[e.jsx(Sa,{className:"h-4 w-4"})," Desactivar"]}),s.status==="inactive"&&e.jsxs("button",{onClick:()=>{c(s.id,"activate"),f(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-green-600",children:[e.jsx(Qe,{className:"h-4 w-4"})," Activar"]}),s.status!=="blocked"&&e.jsxs("button",{onClick:()=>{c(s.id,"block"),f(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[e.jsx(W1,{className:"h-4 w-4"})," Bloquear"]}),s.contracts_count===0&&e.jsxs("button",{onClick:()=>{i(s.id),f(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[e.jsx(Rt,{className:"h-4 w-4"})," Eliminar"]})]})]})]})})]})}function bw(){const[s,r]=b.useState(""),[i,c]=b.useState(""),[u,f]=b.useState(""),[m,h]=b.useState(!1),[y,x]=b.useState(null),p=Ye(),{data:j,isLoading:C}=Ae({queryKey:["third-parties",s,i,u],queryFn:()=>qs.list({search:s||void 0,type:i||void 0,status:u||void 0})}),E=pe({mutationFn:H=>qs.create(H),onSuccess:()=>{p.invalidateQueries(["third-parties"]),h(!1)}}),N=pe({mutationFn:({id:H,data:Q})=>qs.update(H,Q),onSuccess:()=>{p.invalidateQueries(["third-parties"]),h(!1),x(null)}}),T=pe({mutationFn:H=>qs.delete(H),onSuccess:()=>{p.invalidateQueries(["third-parties"])}}),S=pe({mutationFn:({id:H,action:Q})=>{if(Q==="activate")return qs.activate(H);if(Q==="deactivate")return qs.deactivate(H);if(Q==="block")return qs.block(H,"Bloqueado por usuario")},onSuccess:()=>{p.invalidateQueries(["third-parties"])}}),w=j?.data?.data||[],k=H=>{x(H),h(!0)},O=H=>{y?N.mutate({id:y.id,data:H}):E.mutate(H)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Terceros"}),e.jsx("p",{className:"text-gray-500",children:"Proveedores, clientes, contratistas y aliados"})]}),e.jsxs(F,{onClick:()=>{x(null),h(!0)},children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Nuevo Tercero"]})]}),e.jsx(ge,{children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, documento, email...",value:s,onChange:H=>r(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx(Me,{value:i,onChange:H=>c(H.target.value),options:[{value:"",label:"Todos los tipos"},..._g],className:"w-48"}),e.jsx(Me,{value:u,onChange:H=>f(H.target.value),options:[{value:"",label:"Todos los estados"},{value:"active",label:"Activo"},{value:"inactive",label:"Inactivo"},{value:"blocked",label:"Bloqueado"}],className:"w-48"})]})})}),e.jsx(ge,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Identificacin"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contratos"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C?[1,2,3].map(H=>e.jsx("tr",{className:"animate-pulse",children:e.jsx("td",{className:"px-4 py-3",colSpan:8,children:e.jsx("div",{className:"h-6 bg-gray-200 rounded"})})},H)):w.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"px-4 py-12 text-center",children:[e.jsx(Ha,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay terceros"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Comienza agregando tu primer tercero"}),e.jsxs(F,{onClick:()=>h(!0),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Nuevo Tercero"]})]})}):w.map(H=>e.jsx(vw,{thirdParty:H,onEdit:k,onDelete:Q=>T.mutate(Q),onStatusChange:(Q,z)=>S.mutate({id:Q,action:z})},H.id))})]})})}),e.jsx(pt,{isOpen:m,onClose:()=>{h(!1),x(null)},title:y?"Editar Tercero":"Nuevo Tercero",size:"xl",children:e.jsx(yw,{thirdParty:y,onSubmit:O,onCancel:()=>{h(!1),x(null)},isLoading:E.isPending||N.isPending})})]})}const wg=[{value:"services",label:"Prestacin de Servicios"},{value:"purchase",label:"Compraventa"},{value:"nda",label:"Confidencialidad (NDA)"},{value:"lease",label:"Arrendamiento"},{value:"partnership",label:"Alianza/Asociacin"},{value:"consulting",label:"Consultora"},{value:"maintenance",label:"Mantenimiento"},{value:"license",label:"Licencia"},{value:"other",label:"Otro"}],o0={draft:{color:"gray",bg:"bg-gray-100",text:"text-gray-700",icon:Ee,label:"Borrador"},pending_approval:{color:"yellow",bg:"bg-yellow-100",text:"text-yellow-700",icon:Ot,label:"En Aprobacin"},approved:{color:"blue",bg:"bg-blue-100",text:"text-blue-700",icon:Qe,label:"Aprobado"},rejected:{color:"red",bg:"bg-red-100",text:"text-red-700",icon:Sa,label:"Rechazado"},active:{color:"green",bg:"bg-green-100",text:"text-green-700",icon:Qe,label:"Activo"},expired:{color:"orange",bg:"bg-orange-100",text:"text-orange-700",icon:bl,label:"Vencido"},terminated:{color:"gray",bg:"bg-gray-100",text:"text-gray-600",icon:Sa,label:"Terminado"},cancelled:{color:"gray",bg:"bg-gray-100",text:"text-gray-600",icon:Sa,label:"Cancelado"}};function jw({template:s,thirdParties:r,onSubmit:i,onCancel:c,onBack:u,isLoading:f}){const[m,h]=b.useState({title:"",description:"",contract_type:"services",third_party_id:"",start_date:"",end_date:"",amount:"",currency:"COP",payment_terms:"",template_id:s?.id||""}),y=(p,j)=>{h(C=>({...C,[p]:j}))},x=p=>{p.preventDefault(),i(m)};return e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(mg,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-indigo-600 font-medium",children:"Template seleccionado"}),e.jsx("p",{className:"font-semibold text-indigo-900",children:s?.name}),e.jsxs("p",{className:"text-xs text-indigo-500",children:[s?.variables?.length||0," variables configuradas"]})]})]})}),e.jsx(de,{label:"Ttulo del Contrato",value:m.title,onChange:p=>y("title",p.target.value),placeholder:"Ej: Contrato de Servicios TI 2025",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Me,{label:"Tipo de Contrato",value:m.contract_type,onChange:p=>y("contract_type",p.target.value),options:wg,required:!0}),e.jsx(Me,{label:"Tercero",value:m.third_party_id,onChange:p=>y("third_party_id",p.target.value),options:[{value:"",label:"Seleccionar tercero..."},...r.map(p=>({value:p.id,label:`${p.display_name} (${p.code})`}))],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),e.jsx("textarea",{value:m.description||"",onChange:p=>y("description",p.target.value),rows:3,placeholder:"Describe el objeto del contrato...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(de,{label:"Fecha Inicio",type:"date",value:m.start_date,onChange:p=>y("start_date",p.target.value),required:!0}),e.jsx(de,{label:"Fecha Fin",type:"date",value:m.end_date,onChange:p=>y("end_date",p.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(de,{label:"Monto",type:"number",value:m.amount,onChange:p=>y("amount",p.target.value),placeholder:"0",required:!0}),e.jsx(Me,{label:"Moneda",value:m.currency,onChange:p=>y("currency",p.target.value),options:[{value:"COP",label:"COP (Pesos)"},{value:"USD",label:"USD (Dlares)"},{value:"EUR",label:"EUR (Euros)"}]}),e.jsx(de,{label:"Condiciones de Pago",value:m.payment_terms||"",onChange:p=>y("payment_terms",p.target.value),placeholder:"Ej: 30 das"})]}),m.amount&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Nivel de aprobacin estimado:"})," ",Number(m.amount)<=1e7&&"Nivel 1 (Jefe de rea)",Number(m.amount)>1e7&&Number(m.amount)<=5e7&&"Nivel 2 (Jefe de rea  Legal)",Number(m.amount)>5e7&&Number(m.amount)<=2e8&&"Nivel 3 (Jefe de rea  Legal  Gerente)",Number(m.amount)>2e8&&"Nivel 4 (Jefe de rea  Legal  Gerente  CEO)"]})}),e.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[e.jsx(F,{type:"button",variant:"ghost",onClick:u,children:" Cambiar Template"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:c,children:"Cancelar"}),e.jsxs(F,{type:"submit",loading:f,children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Crear Contrato"]})]})]})]})}function Nw({templates:s,onSelect:r,onCancel:i,isLoading:c}){const[u,f]=b.useState(""),m=s.find(h=>h.id===u);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ge,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Selecciona un template"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Los contratos se generan a partir de templates predefinidos. Selecciona el template que mejor se ajuste al tipo de contrato."})]})]})}),s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(z2,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay templates disponibles"}),e.jsx("p",{className:"text-gray-500 mb-4",children:'Para crear contratos, primero debes crear templates en la categora "Comercial".'}),e.jsx(F,{variant:"secondary",onClick:i,children:"Cerrar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-3",children:s.map(h=>e.jsx("div",{onClick:()=>f(h.id),className:`
                  p-4 border-2 rounded-lg cursor-pointer transition-all
                  ${u===h.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                `,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${u===h.id?"bg-indigo-100":"bg-gray-100"}`,children:e.jsx(Ee,{className:`h-5 w-5 ${u===h.id?"text-indigo-600":"text-gray-500"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${u===h.id?"text-indigo-900":"text-gray-900"}`,children:h.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[h.category_label,"  ",h.variables?.length||0," variables"]})]})]}),u===h.id&&e.jsx(Qe,{className:"h-5 w-5 text-indigo-600"})]})},h.id))}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{variant:"secondary",onClick:i,children:"Cancelar"}),e.jsxs(F,{onClick:()=>r(m),disabled:!u,children:["Continuar",e.jsx(yl,{className:"h-4 w-4 ml-2"})]})]})]})]})}function _w({contract:s,onView:r,onEdit:i,onSubmit:c,onDownload:u,onGenerate:f,onDelete:m}){const[h,y]=b.useState(!1),x=o0[s.status]||o0.draft,p=x.icon,j=(S,w)=>new Intl.NumberFormat("es-CO",{style:"currency",currency:w||"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),C=S=>S?new Date(S).toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"}):"-",E=["approved","active"].includes(s.status)&&!s.has_document,N=s.status==="draft",T=s.status==="draft";return e.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${x.bg}`,children:e.jsx(p,{className:`h-4 w-4 ${x.text}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 truncate max-w-[200px]",title:s.title,children:s.title}),e.jsx("p",{className:"text-xs text-gray-500",children:s.contract_number})]})]})}),e.jsx("td",{className:"px-4 py-3",children:s.third_party?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ha,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900 truncate max-w-[150px]",title:s.third_party.display_name,children:s.third_party.display_name})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-700",children:s.type_label})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(hl,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:j(s.amount,s.currency)})]})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(it,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{children:C(s.start_date)}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{children:C(s.end_date)})]}),s.expiring_soon&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(bl,{className:"h-3 w-3 text-orange-500"}),e.jsxs("span",{className:"text-xs text-orange-600",children:["Vence en ",s.days_until_expiry," das"]})]})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(qe,{status:x.color,children:x.label})}),e.jsx("td",{className:"px-4 py-3",children:s.status==="pending_approval"?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 w-20",children:e.jsx("div",{className:"bg-yellow-500 h-1.5 rounded-full transition-all",style:{width:`${s.approval_progress}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[s.approval_progress,"%"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",title:s.current_approver_label,children:[" ",s.current_approver_label]})]}):s.status==="approved"||s.status==="active"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-xs text-green-600",children:"Completa"})]}):s.status==="rejected"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sa,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-xs text-red-600",children:"Rechazado"})]}):e.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"relative flex items-center justify-end gap-1",children:[N&&e.jsx("button",{onClick:()=>c(s.id),className:"p-1.5 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Enviar a Aprobacin",children:e.jsx(Wu,{className:"h-4 w-4"})}),E&&e.jsx("button",{onClick:()=>f(s),className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Generar Documento",children:e.jsx(qc,{className:"h-4 w-4"})}),s.has_document&&e.jsx("button",{onClick:()=>u(s.id),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Descargar PDF",children:e.jsx(pn,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>y(!h),className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Yu,{className:"h-4 w-4"})}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>y(!1)}),e.jsxs("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-20 min-w-[160px]",children:[e.jsxs("button",{onClick:()=>{r(s.id),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(ds,{className:"h-4 w-4"}),"Ver Detalle"]}),T&&e.jsxs("button",{onClick:()=>{i(s),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(gn,{className:"h-4 w-4"}),"Editar"]}),s.status==="draft"&&e.jsxs("button",{onClick:()=>{m(s.id),y(!1)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"Eliminar"]})]})]})]})]})})]})}function ww(){return e.jsx("tbody",{children:[1,2,3,4,5].map(s=>e.jsxs("tr",{className:"border-b border-gray-100 animate-pulse",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-10 bg-gray-200 rounded w-48"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-28"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-36"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})})]},s))})}function Sw(){const[s,r]=b.useState(""),[i,c]=b.useState(""),[u,f]=b.useState(""),[m,h]=b.useState(!1),[y,x]=b.useState(1),[p,j]=b.useState(null),[C,E]=b.useState(!1),[N,T]=b.useState(null),[S,w]=b.useState(""),k=Fs(),O=Ye(),{data:H,isLoading:Q}=Ae({queryKey:["contracts",s,i,u],queryFn:()=>dn.list({search:s||void 0,type:i||void 0,status:u||void 0})}),{data:z}=Ae({queryKey:["third-parties-active"],queryFn:()=>qs.list({status:"active",per_page:100})}),{data:P}=Ae({queryKey:["templates-comercial"],queryFn:()=>et.list({main_category:"comercial",status:"active"})}),W=pe({mutationFn:v=>dn.create(v),onSuccess:()=>{O.invalidateQueries(["contracts"]),re()}}),ie=pe({mutationFn:v=>dn.submit(v),onSuccess:()=>{O.invalidateQueries(["contracts"])}}),$=pe({mutationFn:v=>dn.delete(v),onSuccess:()=>{O.invalidateQueries(["contracts"])}}),q=pe({mutationFn:({contractId:v,templateId:D})=>dn.generateDocument(v,D),onSuccess:()=>{O.invalidateQueries(["contracts"]),E(!1),T(null),w("")},onError:v=>{alert(v.response?.data?.error||v.response?.data?.missing_variables||"Error al generar documento")}}),U=H?.data?.data||[],fe=z?.data?.data||[],te=P?.data?.data||[],re=()=>{h(!1),x(1),j(null)},M=v=>{j(v),x(2)},ae=async v=>{try{const D=await dn.downloadDocument(v),ne=new Blob([D.data],{type:"application/pdf"}),X=window.URL.createObjectURL(ne),G=document.createElement("a");G.href=X,G.download=`contrato-${v}.pdf`,G.click(),window.URL.revokeObjectURL(X)}catch(D){console.error("Error downloading document:",D)}},Z=v=>{T(v),w(""),E(!0)},ce=v=>{confirm("Ests seguro de eliminar este contrato?")&&$.mutate(v)},xe={total:U.length,pending:U.filter(v=>v.status==="pending_approval").length,active:U.filter(v=>v.status==="active").length,expiring:U.filter(v=>v.expiring_soon).length};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contratos"}),e.jsx("p",{className:"text-gray-500",children:"Gestin de contratos con aprobacin multinivel"})]}),e.jsxs(F,{onClick:()=>h(!0),disabled:te.length===0,children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Nuevo Contrato"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(Ee,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:xe.total}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Contratos"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Ot,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:xe.pending}),e.jsx("p",{className:"text-sm text-gray-500",children:"En Aprobacin"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Qe,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:xe.active}),e.jsx("p",{className:"text-sm text-gray-500",children:"Activos"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(bl,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:xe.expiring}),e.jsx("p",{className:"text-sm text-gray-500",children:"Por Vencer"})]})]})})]}),te.length===0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bl,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-900",children:"No hay templates de contratos"}),e.jsx("p",{className:"text-sm text-yellow-700",children:'Para crear contratos, primero debes crear templates en la categora "Comercial" desde Administracin  Templates.'})]})]})}),e.jsx(ge,{children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por ttulo, nmero, tercero...",value:s,onChange:v=>r(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsx(Me,{value:i,onChange:v=>c(v.target.value),options:[{value:"",label:"Todos los tipos"},...wg],className:"w-48"}),e.jsx(Me,{value:u,onChange:v=>f(v.target.value),options:[{value:"",label:"Todos los estados"},{value:"draft",label:"Borrador"},{value:"pending_approval",label:"En Aprobacin"},{value:"approved",label:"Aprobado"},{value:"active",label:"Activo"},{value:"rejected",label:"Rechazado"},{value:"expired",label:"Vencido"}],className:"w-48"})]})})}),e.jsx(ge,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contrato"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Tercero"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Vigencia"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Aprobacin"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Acciones"})]})}),Q?e.jsx(ww,{}):U.length===0?e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"px-4 py-12 text-center",children:[e.jsx(Ee,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay contratos"}),e.jsx("p",{className:"text-gray-500 mb-4",children:te.length===0?"Primero crea un template de contrato comercial":"Comienza creando tu primer contrato"}),te.length>0&&e.jsxs(F,{onClick:()=>h(!0),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Nuevo Contrato"]})]})})}):e.jsx("tbody",{children:U.map(v=>e.jsx(_w,{contract:v,onView:D=>k(`/legal/contracts/${D}`),onEdit:D=>k(`/legal/contracts/${D.id}`),onSubmit:D=>ie.mutate(D),onDownload:ae,onGenerate:Z,onDelete:ce},v.id))})]})})}),e.jsx(pt,{isOpen:m,onClose:re,title:y===1?"Nuevo Contrato - Seleccionar Template":"Nuevo Contrato - Informacin",size:"lg",children:y===1?e.jsx(Nw,{templates:te,onSelect:M,onCancel:re}):e.jsx(jw,{template:p,thirdParties:fe,onSubmit:v=>W.mutate(v),onCancel:re,onBack:()=>x(1),isLoading:W.isPending})}),e.jsx(pt,{isOpen:C,onClose:()=>{E(!1),T(null),w("")},title:"Generar Documento",children:e.jsxs("div",{className:"space-y-4",children:[N&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.title}),e.jsx("p",{className:"text-sm text-gray-500",children:N.contract_number}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Tercero: ",N.third_party?.display_name]})]})]})}),e.jsx(Me,{label:"Template para Generar",value:S,onChange:v=>w(v.target.value),options:[{value:"",label:"Seleccionar template..."},...te.map(v=>({value:v.id,label:`${v.name} (${v.variables?.length||0} variables)`}))]}),te.length===0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"No hay templates de contratos comerciales activos."})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{variant:"secondary",onClick:()=>{E(!1),T(null),w("")},children:"Cancelar"}),e.jsxs(F,{onClick:()=>q.mutate({contractId:N.id,templateId:S}),loading:q.isPending,disabled:!S,children:[e.jsx(qc,{className:"h-4 w-4 mr-2"}),"Generar"]})]})]})})]})}const Cw={pending:"yellow",approved:"green",rejected:"red"},Ew={area_manager:"blue",legal:"purple",general_manager:"orange",ceo:"red"};function Tw({approvals:s}){return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"space-y-4",children:s.map((r,i)=>e.jsxs("div",{className:"relative flex items-start gap-4 pl-10",children:[e.jsxs("div",{className:`absolute left-2 w-4 h-4 rounded-full ${r.status==="approved"?"bg-green-500":r.status==="rejected"?"bg-red-500":"bg-gray-300"}`,children:[r.status==="approved"&&e.jsx(Qe,{className:"w-4 h-4 text-white"}),r.status==="rejected"&&e.jsx(Sa,{className:"w-4 h-4 text-white"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{status:Ew[r.role]||"gray",children:r.role_label}),e.jsx(qe,{status:Cw[r.status],children:r.status==="pending"?"Pendiente":r.status==="approved"?"Aprobado":"Rechazado"})]}),r.approver_name&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Por: ",r.approver_name,r.decided_at&&e.jsx("span",{className:"ml-2 text-gray-400",children:new Date(r.decided_at).toLocaleString()})]}),r.notes&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 italic",children:['"',r.notes,'"']}),r.reason&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:["Motivo: ",r.reason]})]})]},i))})]})}function Mw({contract:s,onApprove:r,onReject:i,onViewDetail:c}){const u=(f,m)=>new Intl.NumberFormat("es-CO",{style:"currency",currency:m||"COP",minimumFractionDigits:0}).format(f);return e.jsx(ge,{className:"hover:shadow-md transition-shadow",children:e.jsxs(ve,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-100",children:e.jsx(Ot,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500",children:s.contract_number})]})]}),e.jsx(qe,{status:"blue",children:s.type_label})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Tercero"}),e.jsx("p",{className:"font-medium",children:s.third_party?.display_name||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Monto"}),e.jsx("p",{className:"font-medium",children:u(s.amount,s.currency)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Solicitado por"}),e.jsx("p",{className:"font-medium",children:s.requested_by?.name||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Nivel de Aprobacin"}),e.jsx("p",{className:"font-medium",children:s.approval_level_label})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progreso de Aprobacin"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.approval_progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${s.approval_progress}%`}})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Pendiente: ",e.jsx("strong",{children:s.current_approver_label})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(Tw,{approvals:s.approvals})}),s.can_approve&&e.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-end gap-2",children:[e.jsxs(F,{variant:"danger",size:"sm",onClick:()=>i(s),children:[e.jsx(Sa,{className:"h-4 w-4 mr-1"}),"Rechazar"]}),e.jsxs(F,{variant:"primary",size:"sm",onClick:()=>r(s),children:[e.jsx(Qe,{className:"h-4 w-4 mr-1"}),"Aprobar"]})]})]})})}function Aw({contract:s,onConfirm:r,onCancel:i,isLoading:c}){const[u,f]=b.useState("");return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qe,{className:"h-6 w-6 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Aprobar Contrato"}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Ests a punto de aprobar el contrato ",e.jsx("strong",{children:s.contract_number})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas (opcional)"}),e.jsx("textarea",{value:u,onChange:m=>f(m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Agregar comentarios sobre la aprobacin..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{variant:"secondary",onClick:i,children:"Cancelar"}),e.jsx(F,{variant:"primary",onClick:()=>r(u),loading:c,children:"Confirmar Aprobacin"})]})]})}function Dw({contract:s,onConfirm:r,onCancel:i,isLoading:c}){const[u,f]=b.useState("");return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-red-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Sa,{className:"h-6 w-6 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Rechazar Contrato"}),e.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["Ests a punto de rechazar el contrato ",e.jsx("strong",{children:s.contract_number}),". Esta accin detendr el flujo de aprobacin."]})]})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Motivo del Rechazo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:u,onChange:m=>f(m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Explica el motivo del rechazo...",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{variant:"secondary",onClick:i,children:"Cancelar"}),e.jsx(F,{variant:"danger",onClick:()=>r(u),loading:c,disabled:!u.trim(),children:"Confirmar Rechazo"})]})]})}function Rw(){const[s,r]=b.useState("pending"),[i,c]=b.useState(null),[u,f]=b.useState(null),m=Ye(),{data:h,isLoading:y}=Ae({queryKey:["contract-approvals",s],queryFn:()=>hc.list({status:s})}),x=pe({mutationFn:({id:E,notes:N})=>hc.approve(E,N),onSuccess:()=>{m.invalidateQueries(["contract-approvals"]),c(null)}}),p=pe({mutationFn:({id:E,reason:N})=>hc.reject(E,N),onSuccess:()=>{m.invalidateQueries(["contract-approvals"]),f(null)}}),j=h?.data?.data||[],C=h?.data?.meta?.total_pending||0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aprobaciones de Contratos"}),e.jsx("p",{className:"text-gray-500",children:"Aprobacin multinivel de contratos segn monto"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.jsx(ge,{children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-yellow-100",children:e.jsx(Ot,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:C}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pendientes"})]})]})})})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>r("pending"),className:`px-4 py-2 font-medium text-sm border-b-2 -mb-px ${s==="pending"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Pendientes",C>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:C})]}),e.jsx("button",{onClick:()=>r("history"),className:`px-4 py-2 font-medium text-sm border-b-2 -mb-px ${s==="history"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Historial"})]})}),y?e.jsx("div",{className:"grid gap-4",children:[1,2].map(E=>e.jsx(ge,{className:"animate-pulse",children:e.jsx(ve,{className:"p-4 h-48"})},E))}):j.length===0?e.jsx(ge,{children:e.jsx(ve,{className:"p-8 text-center",children:s==="pending"?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-12 w-12 text-green-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay aprobaciones pendientes"}),e.jsx("p",{className:"text-gray-500",children:"Todos los contratos estn al da"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sin historial"}),e.jsx("p",{className:"text-gray-500",children:"No has procesado ningn contrato an"})]})})}):e.jsx("div",{className:"grid gap-4",children:j.map(E=>e.jsx(Mw,{contract:E,onApprove:c,onReject:f},E.id))}),e.jsx(pt,{isOpen:!!i,onClose:()=>c(null),title:"Aprobar Contrato",size:"md",children:i&&e.jsx(Aw,{contract:i,onConfirm:E=>x.mutate({id:i.id,notes:E}),onCancel:()=>c(null),isLoading:x.isPending})}),e.jsx(pt,{isOpen:!!u,onClose:()=>f(null),title:"Rechazar Contrato",size:"md",children:u&&e.jsx(Dw,{contract:u,onConfirm:E=>p.mutate({id:u.id,reason:E}),onCancel:()=>f(null),isLoading:p.isPending})})]})}const Sc={third_party:"Tercero",contract:"Contrato",organization:"Organizacin",system:"Sistema",custom:"Personalizado"},Sg=[{value:"string",label:"Texto"},{value:"date",label:"Fecha"},{value:"number",label:"Nmero"},{value:"boolean",label:"Si/No"},{value:"email",label:"Email"}],Ow={third_party:Ha,contract:Ee,organization:vn,system:vn,custom:Hs},kw={third_party:"indigo",contract:"blue",organization:"purple",system:"gray",custom:"orange"};function zw({mapping:s,onToggle:r,onEdit:i}){const c=Ow[s.category]||Hs,u=kw[s.category]||"gray";return e.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-100",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[s.is_system&&e.jsx(vl,{className:"h-3 w-3 text-gray-400",title:"Variable del sistema"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 font-mono",children:s.key})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs(qe,{status:u,children:[e.jsx(c,{className:"h-3 w-3 mr-1"}),Sc[s.category]||s.category]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-600",children:Sg.find(f=>f.value===s.data_type)?.label||s.data_type})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("p",{className:"text-sm text-gray-500 truncate max-w-[200px]",title:s.description,children:s.description||"-"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>r(s.id),className:`p-1 rounded transition-colors ${s.active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:s.active?"Activa":"Inactiva",children:s.active?e.jsx(em,{className:"h-5 w-5"}):e.jsx(Iu,{className:"h-5 w-5"})})}),e.jsx("td",{className:"px-4 py-3",children:!s.is_system&&e.jsx("button",{onClick:()=>i(s),className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Editar",children:e.jsx(gn,{className:"h-4 w-4"})})})]})}function qw(){return e.jsx("tbody",{children:[1,2,3,4,5].map(s=>e.jsxs("tr",{className:"border-b border-gray-100 animate-pulse",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-10 bg-gray-200 rounded w-48"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-40"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-5 bg-gray-200 rounded w-8"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-8 bg-gray-200 rounded w-8"})})]},s))})}function Lw({mapping:s,isOpen:r,onClose:i,onSuccess:c}){const u=Ye(),f=!!s,[m,h]=b.useState({name:s?.name||"",key:s?.key||"",category:s?.category||"custom",description:s?.description||"",data_type:s?.data_type||"string"}),[y,x]=b.useState(""),p=pe({mutationFn:C=>f?Dt.update(s.id,C):Dt.create(C),onSuccess:()=>{u.invalidateQueries(["variable-mappings"]),c?.(),i()},onError:C=>{x(C.response?.data?.error||"Error al guardar")}}),j=C=>{C.preventDefault(),x(""),p.mutate(m)};return r?e.jsx(pt,{isOpen:r,onClose:i,title:f?"Editar Variable":"Nueva Variable",children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[y&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:y}),e.jsx(de,{label:"Nombre de la Variable",value:m.name,onChange:C=>h({...m,name:C.target.value}),placeholder:"Ej: Nombre del Tercero",required:!0}),e.jsx(de,{label:"Clave (key)",value:m.key,onChange:C=>h({...m,key:C.target.value}),placeholder:"Ej: third_party.display_name",required:!0,disabled:f}),e.jsx(Me,{label:"Categora",value:m.category,onChange:C=>h({...m,category:C.target.value}),options:Object.entries(Sc).map(([C,E])=>({value:C,label:E}))}),e.jsx(Me,{label:"Tipo de Dato",value:m.data_type,onChange:C=>h({...m,data_type:C.target.value}),options:Sg}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),e.jsx("textarea",{value:m.description,onChange:C=>h({...m,description:C.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Descripcin de la variable..."})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(F,{type:"button",variant:"secondary",onClick:i,children:"Cancelar"}),e.jsx(F,{type:"submit",loading:p.isPending,children:f?"Guardar":"Crear"})]})]})}):null}function Uw(){const[s,r]=b.useState(""),[i,c]=b.useState(""),[u,f]=b.useState(!1),[m,h]=b.useState(!1),[y,x]=b.useState(null),[p,j]=b.useState("name"),[C,E]=b.useState("asc"),N=Ye(),{data:T,isLoading:S}=Ae({queryKey:["variable-mappings-legal"],queryFn:()=>Dt.list()}),w=pe({mutationFn:U=>Dt.toggle(U),onSuccess:()=>{N.invalidateQueries(["variable-mappings-legal"])}}),k=pe({mutationFn:()=>Dt.seedSystem(),onSuccess:()=>{N.invalidateQueries(["variable-mappings-legal"])}}),O=Object.keys(Sc),Q=(T?.data?.data||[]).filter(U=>O.includes(U.category));let z=Q.filter(U=>{const fe=!s||U.name.toLowerCase().includes(s.toLowerCase())||U.key.toLowerCase().includes(s.toLowerCase()),te=!i||U.category===i,re=!u||U.is_system;return fe&&te&&re});z=[...z].sort((U,fe)=>{const te=U[p]||"",re=fe[p]||"",M=te.localeCompare(re);return C==="asc"?M:-M});const P=U=>{p===U?E(C==="asc"?"desc":"asc"):(j(U),E("asc"))},W=({field:U})=>p!==U?e.jsx(kc,{className:"h-3 w-3 text-gray-400"}):C==="asc"?e.jsx(zc,{className:"h-3 w-3 text-indigo-600"}):e.jsx(Oc,{className:"h-3 w-3 text-indigo-600"}),ie={total:Q.length,thirdParty:Q.filter(U=>U.category==="third_party").length,contract:Q.filter(U=>U.category==="contract").length,system:Q.filter(U=>U.is_system).length},$=U=>{x(U),h(!0)},q=()=>{h(!1),x(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Variables de Contratos"}),e.jsx("p",{className:"text-gray-500",children:"Gestiona las variables para documentos comerciales"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(F,{variant:"secondary",onClick:()=>k.mutate(),loading:k.isPending,children:[e.jsx(yn,{className:"h-4 w-4 mr-2"}),"Sincronizar Sistema"]}),e.jsxs(F,{onClick:()=>h(!0),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Nueva Variable"]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(Hs,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ie.total}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Variables"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(Ha,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:ie.thirdParty}),e.jsx("p",{className:"text-sm text-gray-500",children:"Terceros"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ee,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ie.contract}),e.jsx("p",{className:"text-sm text-gray-500",children:"Contratos"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(vl,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:ie.system}),e.jsx("p",{className:"text-sm text-gray-500",children:"Del Sistema"})]})]})})]}),e.jsx(ge,{children:e.jsx(ve,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ma,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre o clave...",value:s,onChange:U=>r(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("select",{value:i,onChange:U=>c(U.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Todas las categoras"}),Object.entries(Sc).map(([U,fe])=>e.jsx("option",{value:U,children:fe},U))]}),e.jsxs("button",{onClick:()=>f(!u),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${u?"bg-indigo-50 border-indigo-300 text-indigo-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(vl,{className:"h-4 w-4"}),"Solo Sistema"]}),(s||i||u)&&e.jsxs("button",{onClick:()=>{r(""),c(""),f(!1)},className:"flex items-center gap-1 text-gray-500 hover:text-gray-700",children:[e.jsx(tt,{className:"h-4 w-4"}),"Limpiar"]})]})})}),e.jsxs(ge,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>P("name"),children:e.jsxs("div",{className:"flex items-center gap-1",children:["Variable ",e.jsx(W,{field:"name"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>P("category"),children:e.jsxs("div",{className:"flex items-center gap-1",children:["Categora ",e.jsx(W,{field:"category"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Descripcin"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Acciones"})]})}),S?e.jsx(qw,{}):z.length===0?e.jsx("tbody",{children:e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-4 py-12 text-center",children:[e.jsx(Hs,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay variables"}),e.jsx("p",{className:"text-gray-500 mb-4",children:s||i?"No se encontraron variables con los filtros aplicados":'Haz clic en "Sincronizar Sistema" para cargar las variables'}),!s&&!i&&e.jsxs(F,{onClick:()=>k.mutate(),children:[e.jsx(yn,{className:"h-4 w-4 mr-2"}),"Sincronizar Sistema"]})]})})}):e.jsx("tbody",{children:z.map(U=>e.jsx(zw,{mapping:U,onToggle:fe=>w.mutate(fe),onEdit:$},U.id))})]})}),z.length>0&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 text-sm text-gray-600",children:["Mostrando ",z.length," de ",Q.length," variables"]})]}),e.jsx(Lw,{mapping:y,isOpen:m,onClose:q})]})}function yt({children:s,requireHR:r=!1,requireApprover:i=!1,requireAdmin:c=!1}){const{isAuthenticated:u,loading:f,isHR:m,isSupervisor:h,isAdmin:y}=Ta();return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u?c&&!y&&!m?e.jsx(cl,{to:"/",replace:!0}):r&&!m?e.jsx(cl,{to:"/",replace:!0}):i&&!m&&!h?e.jsx(cl,{to:"/",replace:!0}):e.jsx(I4,{children:s}):e.jsx(cl,{to:"/login",replace:!0})}function Hw(){const{isAuthenticated:s,loading:r}=Ta();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Cargando..."})]})}):e.jsxs(Xb,{children:[e.jsx(lt,{path:"/login",element:s?e.jsx(cl,{to:"/",replace:!0}):e.jsx(s_,{})}),e.jsx(lt,{path:"/change-password",element:s?e.jsx(l_,{}):e.jsx(cl,{to:"/login",replace:!0})}),e.jsx(lt,{path:"/",element:e.jsx(yt,{children:e.jsx(i_,{})})}),e.jsx(lt,{path:"/hr/vacations",element:e.jsx(yt,{children:e.jsx(l0,{})})}),e.jsx(lt,{path:"/hr/vacations/new",element:e.jsx(yt,{children:e.jsx(l0,{})})}),e.jsx(lt,{path:"/hr/certifications",element:e.jsx(yt,{children:e.jsx(H_,{})})}),e.jsx(lt,{path:"/hr/approvals",element:e.jsx(yt,{requireApprover:!0,children:e.jsx(j_,{})})}),e.jsx(lt,{path:"/hr/employees",element:e.jsx(yt,{requireApprover:!0,children:e.jsx(D_,{})})}),e.jsx(lt,{path:"/hr/dashboard",element:e.jsx(yt,{requireHR:!0,children:e.jsx(B_,{})})}),e.jsx(lt,{path:"/documents",element:e.jsx(yt,{children:e.jsx(dw,{})})}),e.jsx(lt,{path:"/folders",element:e.jsx(yt,{children:e.jsx(fw,{})})}),e.jsx(lt,{path:"/profile",element:e.jsx(yt,{children:e.jsx(g_,{})})}),e.jsx(lt,{path:"/admin/settings",element:e.jsx(yt,{requireAdmin:!0,children:e.jsx(ow,{})})}),e.jsx(lt,{path:"/admin/templates",element:e.jsx(yt,{requireAdmin:!0,children:e.jsx(X_,{})})}),e.jsx(lt,{path:"/admin/templates/:id",element:e.jsx(yt,{requireAdmin:!0,children:e.jsx(P_,{})})}),e.jsx(lt,{path:"/hr/variables",element:e.jsx(yt,{requireHR:!0,children:e.jsx(sw,{})})}),e.jsx(lt,{path:"/admin/signatory-types",element:e.jsx(yt,{requireAdmin:!0,children:e.jsx(rw,{})})}),e.jsx(lt,{path:"/legal/third-parties",element:e.jsx(yt,{requireHR:!0,children:e.jsx(bw,{})})}),e.jsx(lt,{path:"/legal/contracts",element:e.jsx(yt,{requireApprover:!0,children:e.jsx(Sw,{})})}),e.jsx(lt,{path:"/legal/approvals",element:e.jsx(yt,{requireApprover:!0,children:e.jsx(Rw,{})})}),e.jsx(lt,{path:"/legal/variables",element:e.jsx(yt,{requireHR:!0,children:e.jsx(Uw,{})})}),e.jsx(lt,{path:"*",element:e.jsx(cl,{to:"/",replace:!0})})]})}const Fw=new Kj({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});eb.createRoot(document.getElementById("root")).render(e.jsx(Yv.StrictMode,{children:e.jsx(Zj,{client:Fw,children:e.jsx(pj,{children:e.jsx(q1,{children:e.jsx(Hw,{})})})})}));
