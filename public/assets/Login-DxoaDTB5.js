import{j as e}from"./vendor-query-BtlmzfbD.js";import{r as s,a as y,u as j}from"./vendor-router-CyR0tpch.js";import{u as v}from"./index-BCCW0CE5.js";import{B as N}from"./Button-Cc42oWsS.js";import{I as p}from"./Input-DPOK3q6H.js";import{l as E,E as S,m as k,U as C}from"./vendor-icons-YtD_Ipmm.js";import"./vendor-react-Cgg2GOmP.js";import"./vendor-axios-B9ygI19o.js";const R=[{email:"admin@valkyria.com",password:"Admin123",role:"Admin",color:"bg-red-100 text-red-700"},{email:"hr.manager@valkyria.com",password:"HrManager123",role:"Gerente RRHH",color:"bg-purple-100 text-purple-700"},{email:"hr.staff@valkyria.com",password:"HrStaff123",role:"Staff RRHH",color:"bg-indigo-100 text-indigo-700"},{email:"supervisor@valkyria.com",password:"Supervisor123",role:"Supervisor",color:"bg-blue-100 text-blue-700"},{email:"employee1@valkyria.com",password:"Employee123",role:"Empleado",color:"bg-green-100 text-green-700"},{email:"employee2@valkyria.com",password:"Employee123",role:"Empleado",color:"bg-green-100 text-green-700"},{email:"legal@valkyria.com",password:"Legal123",role:"Legal",color:"bg-amber-100 text-amber-700"},{email:"viewer@valkyria.com",password:"Viewer123",role:"Viewer",color:"bg-gray-100 text-gray-700"}];function D(){const[t,l]=s.useState(""),[o,i]=s.useState(""),[r,u]=s.useState(!1),[c,n]=s.useState(""),[h,m]=s.useState(!1),{login:g}=v(),d=y(),f=j().state?.from?.pathname||"/",b=a=>{l(a.email),i(a.password)},w=async a=>{a.preventDefault(),n(""),m(!0);try{(await g(t,o)).must_change_password?d("/change-password",{replace:!0}):d(f,{replace:!0})}catch(x){n(x.response?.data?.error||"Error al iniciar sesión")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-36 h-36 mx-auto mb-4 rounded-full overflow-hidden shadow-2xl",children:e.jsx("img",{src:"/Valkiria.png",alt:"Valkyria",className:"w-full h-full object-cover scale-[1.15]"})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"VALKYRIA ECM"}),e.jsx("p",{className:"text-primary-200 mt-2",children:"Protegemos lo que importa"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-6",children:"Iniciar Sesión"}),c&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[e.jsx(E,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:c})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx(p,{label:"Correo Electrónico",type:"email",value:t,onChange:a=>l(a.target.value),placeholder:"tu@email.com",required:!0,autoFocus:!0}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{label:"Contraseña",type:r?"text":"password",value:o,onChange:a=>i(a.target.value),placeholder:"••••••••",required:!0}),e.jsx("button",{type:"button",onClick:()=>u(!r),className:"absolute right-3 top-[34px] text-gray-400 hover:text-gray-600 transition-colors",children:r?e.jsx(S,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),e.jsx("span",{className:"text-gray-600",children:"Recordarme"})]}),e.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700",children:"¿Olvidaste tu contraseña?"})]}),e.jsx(N,{type:"submit",loading:h,className:"w-full",children:"Iniciar Sesión"})]})]}),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&e.jsxs("div",{className:"mt-6 bg-white/10 backdrop-blur rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(C,{className:"w-4 h-4 text-primary-200"}),e.jsx("span",{className:"text-sm font-medium text-primary-100",children:"Usuarios de Prueba"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.map(a=>e.jsxs("button",{onClick:()=>b(a),className:"flex items-center gap-2 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors text-left",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${a.color}`,children:a.role}),e.jsx("span",{className:"text-xs text-white truncate",children:a.email.split("@")[0]})]},a.email))}),e.jsx("p",{className:"text-xs text-primary-300 mt-2 text-center",children:"Click para autocompletar credenciales"})]}),e.jsx("p",{className:"text-center text-primary-200 text-sm mt-6",children:"© 2025 VALKYRIA ECM. Todos los derechos reservados."})]})})}export{D as default};
